"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8219],{8219:(y,g,r)=>{r.r(g),r.d(g,{FolderPageModule:()=>N});var _=r(6019),Z=r(9010),l=r(4662),d=r(4620),u=r(4762),f=r(5722),e=r(9619),x=r(2739),p=r(3584);function v(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item"),e._UZ(1,"ion-avatar",1),e.TgZ(2,"ion-icon",13),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(3).$implicit;return e.oxw().toggleSeason(s,a.id)}),e.qZA(),e.qZA()}if(2&n){const t=c.$implicit,i=e.oxw(3).$implicit,o=e.oxw();e.xp6(2),e.s9C("name",o.userIsInSeason(t,i.id))}}function h(n,c){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,v,3,1,"ion-item",4),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.users$))}}function T(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-icon",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return o.showGames=!o.showGames}),e.qZA()}}function C(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-icon",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit;return e.oxw().addGames(o)}),e.qZA()}}function A(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item"),e.TgZ(1,"ion-card"),e.TgZ(2,"ion-item",15),e.TgZ(3,"ion-label"),e.TgZ(4,"h1"),e._uU(5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"ion-item"),e.TgZ(7,"ion-label"),e.TgZ(8,"h2"),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"ion-card"),e.TgZ(11,"ion-item",9),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(4).selectSeat(s,"A")}),e.TgZ(12,"ion-label"),e._uU(13),e.qZA(),e._UZ(14,"ion-icon",16),e.qZA(),e.TgZ(15,"ion-item",9),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(4).selectSeat(s,"B")}),e.TgZ(16,"ion-label"),e._uU(17),e.qZA(),e._UZ(18,"ion-icon",16),e.qZA(),e.TgZ(19,"ion-item",9),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(4).selectSeat(s,"C")}),e.TgZ(20,"ion-label"),e._uU(21),e.qZA(),e._UZ(22,"ion-icon",16),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=c.$implicit;e.xp6(5),e.Oqu(t.date),e.xp6(4),e.AsE("",t.home," vs ",t.away,""),e.xp6(4),e.Oqu(t.seatA?t.seatA:" A"),e.xp6(4),e.Oqu(t.seatB?t.seatB:"B"),e.xp6(4),e.Oqu(t.seatB?t.seatC:"C")}}function P(n,c){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,A,23,6,"ion-item",4),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",t.games)}}function F(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-list"),e.TgZ(1,"ion-item",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return o.showUsers=!o.showUsers}),e.TgZ(2,"ion-label"),e._uU(3,"Members"),e.qZA(),e._UZ(4,"ion-icon",10),e.qZA(),e.YNc(5,h,3,3,"div",8),e.TgZ(6,"ion-item",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return o.showGames=!o.showGames}),e.TgZ(7,"ion-label"),e._uU(8,"Games"),e.qZA(),e.YNc(9,T,1,0,"ion-icon",11),e.YNc(10,C,1,0,"ion-icon",12),e.qZA(),e.YNc(11,P,2,1,"div",8),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(5),e.Q6J("ngIf",t.showUsers),e.xp6(4),e.Q6J("ngIf",t.games),e.xp6(1),e.Q6J("ngIf",!t.games),e.xp6(1),e.Q6J("ngIf",i.showGames)}}function q(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"ion-item"),e.TgZ(2,"ion-icon",5),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return s.selected=!s.selected}),e.qZA(),e.TgZ(3,"ion-label"),e._uU(4),e.qZA(),e.TgZ(5,"ion-icon",6),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().play(s.id)}),e.qZA(),e.TgZ(6,"ion-icon",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.removeSeason(o.seasonx)}),e.qZA(),e.qZA(),e.YNc(7,F,12,4,"ion-list",8),e.qZA()}if(2&n){const t=c.$implicit;e.xp6(4),e.Oqu(t.id),e.xp6(3),e.Q6J("ngIf",t.selected)}}const M=[{path:"",component:(()=>{class n{constructor(t,i,o,s){this.activatedRoute=t,this.authService=i,this.alertController=o,this.db=s,this.seasons=s.collection("seasons"),this.seasonsO=this.seasons.valueChanges(),this.users=s.collection("users"),this.usersO=this.users.valueChanges(),this.users$=i.users$}ngOnInit(){this.folder=this.activatedRoute.snapshot.paramMap.get("id")}removeSeason(t){this.seasons.doc(t).delete()}getMember(t){}userIsInSeason(t,i){var o;return(null===(o=t.seasons)||void 0===o?void 0:o.find(a=>a.id==i))?"remove":"add"}toggleSeason(t,i){var o;(null===(o=t.seasons)||void 0===o?void 0:o.find(a=>a.id==i))?t.seasons=t.seasons.filter(a=>a.id!=i):(t.seasons||(t.seasons=[]),t.seasons.push({id:i,games:[],seats:[]})),this.users.doc(t.id).set(t)}selectSeat(t,i){this.authService.user$.pipe((0,f.b)(o=>alert(JSON.stringify(o)))).subscribe(o=>{})}play(t){location.href="/season/"+t}addGames(t){return(0,u.mG)(this,void 0,void 0,function*(){this.currentSeason=t,t.games||(yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Prompt!",inputs:[{name:"games",type:"textarea",placeholder:"Games Json"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Ok",handler:o=>{let s=JSON.parse(o.games);s.forEach((a,m)=>s[m].id=m),this.currentSeason.games=s,this.seasons.doc(this.currentSeason.id).set(this.currentSeason)}}]})).present())})}presentAlertPrompt(){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Prompt!",inputs:[{name:"seasonName",type:"text",placeholder:"Season Name"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Ok",handler:i=>{this.seasons.doc(i.seasonName).set({id:i.seasonName}),console.log(i)}}]})).present()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(x.e),e.Y36(l.Br),e.Y36(p.ST))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-folder"]],decls:11,vars:5,consts:[[3,"translucent"],["slot","start"],["slot","end","name","add",3,"click"],[3,"fullscreen"],[4,"ngFor","ngForOf"],["slot","start","name","football",3,"click"],["slot","end","name","play",3,"click"],["slot","end","name","remove",3,"click"],[4,"ngIf"],[3,"click"],["slot","end","name","person-circle"],["slot","end","name","calendar",3,"click",4,"ngIf"],["slot","end","name","add",3,"click",4,"ngIf"],["slot","end",3,"name","click"],["slot","end","name","calendar",3,"click"],["lines","none"],["slot","start","name","ticket-outline"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Seasons"),e.qZA(),e.TgZ(6,"ion-icon",2),e.NdJ("click",function(){return i.presentAlertPrompt()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"ion-content",3),e.TgZ(8,"ion-list"),e.YNc(9,q,8,2,"div",4),e.ALo(10,"async"),e.qZA(),e.qZA()),2&t&&(e.Q6J("translucent",!0),e.xp6(7),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("ngForOf",e.lcZ(10,3,i.seasonsO)))},directives:[l.Gu,l.sr,l.Sm,l.fG,l.wd,l.gu,l.W2,l.q_,_.sg,l.Ie,l.Q$,_.O5,l.BJ,l.PM],pipes:[_.Ov],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})()}];let k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.Bz.forChild(M)],d.Bz]}),n})();var J=r(7905),O=r(8260);let N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[_.ez,Z.u5,l.Pc,k,J.hO.initializeApp(O.N.firebase),p.yb.enablePersistence()]]}),n})()}}]);