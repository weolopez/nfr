var bC=Object.defineProperty,wC=Object.defineProperties,EC=Object.getOwnPropertyDescriptors,U0=Object.getOwnPropertySymbols,CC=Object.prototype.hasOwnProperty,IC=Object.prototype.propertyIsEnumerable,j0=(rn,ht,F)=>ht in rn?bC(rn,ht,{enumerable:!0,configurable:!0,writable:!0,value:F}):rn[ht]=F,Kr=(rn,ht)=>{for(var F in ht||(ht={}))CC.call(ht,F)&&j0(rn,F,ht[F]);if(U0)for(var F of U0(ht))IC.call(ht,F)&&j0(rn,F,ht[F]);return rn},Ds=(rn,ht)=>wC(rn,EC(ht));(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{7798:(rn,ht,F)=>{"use strict";F.d(ht,{nm:()=>De});var a=F(7455),Te=(F(9619),F(3590),F(7713),F(8239)),he=F(1572),fe=F(1177),Q=F(4213),pe=F(3855);const ee=new Map,de={activated:!1,tokenObservers:[]},we={initialized:!1,enabled:!1};function re(L){return ee.get(L)||de}function Ce(L,Z){ee.set(L,Z)}function We(){return we}class st{constructor(Z,Y,se,ke,ze){if(this.operation=Z,this.retryPolicy=Y,this.getWaitDuration=se,this.lowerBound=ke,this.upperBound=ze,this.pending=null,this.nextErrorWaitInterval=ke,ke>ze)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Z){var Y=this;return(0,Te.Z)(function*(){Y.stop();try{Y.pending=new Q.BH,yield(L=Y.getNextRun(Z),new Promise(Z=>{setTimeout(Z,L)})),Y.pending.resolve(),yield Y.pending.promise,Y.pending=new Q.BH,yield Y.operation(),Y.pending.resolve(),yield Y.pending.promise,Y.process(!0).catch(()=>{})}catch(se){Y.retryPolicy(se)?Y.process(!1).catch(()=>{}):Y.stop()}var L})()}getNextRun(Z){if(Z)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Y=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Y}}}const Je=new Q.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qe(L){if(!re(L).activated)throw Je.create("use-before-activation",{appName:L.name})}function ut(L,Z){return nt.apply(this,arguments)}function nt(){return(nt=(0,Te.Z)(function*({url:L,body:Z},Y){const se={"Content-Type":"application/json"},ke=Y.getImmediate({optional:!0});ke&&(se["X-Firebase-Client"]=ke.getPlatformInfoString());const ze={method:"POST",body:JSON.stringify(Z),headers:se};let vt,At;try{vt=yield fetch(L,ze)}catch(un){throw Je.create("fetch-network-error",{originalErrorMessage:un.message})}if(200!==vt.status)throw Je.create("fetch-status-error",{httpStatus:vt.status});try{At=yield vt.json()}catch(un){throw Je.create("fetch-parse-error",{originalErrorMessage:un.message})}const bt=At.ttl.match(/^([\d.]+)(s)$/);if(!bt||!bt[2]||isNaN(Number(bt[1])))throw Je.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${At.ttl}`});const qt=1e3*Number(bt[1]),En=Date.now();return{token:At.attestationToken,expireTimeMillis:En+qt,issuedAtTimeMillis:En}})).apply(this,arguments)}function Dt(L,Z){const{projectId:Y,appId:se,apiKey:ke}=L.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${Y}/apps/${se}:exchangeDebugToken?key=${ke}`,body:{debug_token:Z}}}const Et="firebase-app-check-store";let Ln=null;function Pt(){return Ln||(Ln=new Promise((L,Z)=>{try{const Y=indexedDB.open("firebase-app-check-database",1);Y.onsuccess=se=>{L(se.target.result)},Y.onerror=se=>{var ke;Z(Je.create("storage-open",{originalErrorMessage:null===(ke=se.target.error)||void 0===ke?void 0:ke.message}))},Y.onupgradeneeded=se=>{0===se.oldVersion&&se.target.result.createObjectStore(Et,{keyPath:"compositeKey"})}}catch(Y){Z(Je.create("storage-open",{originalErrorMessage:Y.message}))}}),Ln)}function Dn(){return(Dn=(0,Te.Z)(function*(L,Z){const se=(yield Pt()).transaction(Et,"readwrite"),ze=se.objectStore(Et).put({compositeKey:L,value:Z});return new Promise((vt,At)=>{ze.onsuccess=bt=>{vt()},se.onerror=bt=>{var qt;At(Je.create("storage-set",{originalErrorMessage:null===(qt=bt.target.error)||void 0===qt?void 0:qt.message}))}})})).apply(this,arguments)}const Dr=new pe.Yd("@firebase/app-check");function Tr(L,Z){return(0,Q.hl)()?function(L,Z){return function(L,Z){return Dn.apply(this,arguments)}(function(L){return`${L.options.appId}-${L.name}`}(L),Z)}(L,Z).catch(Y=>{Dr.warn(`Failed to write token to IndexedDB. Error: ${Y}`)}):Promise.resolve()}function Ur(){return We().enabled}function Rn(){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,Te.Z)(function*(){const L=We();if(L.enabled&&L.token)return L.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gr={error:"UNKNOWN_ERROR"};function Mt(L){return Q.US.encodeString(JSON.stringify(L),!1)}function Hn(L){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,Te.Z)(function*(L,Z=!1){const Y=L.app;qe(Y);const se=re(Y);let ze,ke=se.token;if(!ke){const bt=yield se.cachedTokenPromise;bt&&gn(bt)&&(ke=bt)}if(!Z&&ke&&gn(ke))return{token:ke.token};let At,vt=!1;if(Ur()){se.exchangeTokenPromise||(se.exchangeTokenPromise=ut(Dt(Y,yield Rn()),L.platformLoggerProvider).then(qt=>(se.exchangeTokenPromise=void 0,qt)),vt=!0);const bt=yield se.exchangeTokenPromise;return yield Tr(Y,bt),Ce(Y,Object.assign(Object.assign({},se),{token:bt})),{token:bt.token}}try{se.exchangeTokenPromise||(se.exchangeTokenPromise=se.provider.getToken().then(bt=>(se.exchangeTokenPromise=void 0,bt)),vt=!0),ke=yield se.exchangeTokenPromise}catch(bt){"appCheck/throttled"===bt.code?Dr.warn(bt.message):Dr.error(bt),ze=bt}return ke?(At={token:ke.token},Ce(Y,Object.assign(Object.assign({},se),{token:ke})),yield Tr(Y,ke)):At=ti(ze),vt&&Fr(Y,At),At})).apply(this,arguments)}function Er(L,Z){const Y=re(L),se=Y.tokenObservers.filter(ke=>ke.next!==Z);0===se.length&&Y.tokenRefresher&&Y.tokenRefresher.isRunning()&&Y.tokenRefresher.stop(),Ce(L,Object.assign(Object.assign({},Y),{tokenObservers:se}))}function ai(L){const{app:Z}=L,Y=re(Z);let se=Y.tokenRefresher;se||(se=function(L){const{app:Z}=L;return new st((0,Te.Z)(function*(){let se;if(se=re(Z).token?yield Hn(L,!0):yield Hn(L),se.error)throw se.error}),()=>!0,()=>{const Y=re(Z);if(Y.token){let se=Y.token.issuedAtTimeMillis+.5*(Y.token.expireTimeMillis-Y.token.issuedAtTimeMillis)+3e5;return se=Math.min(se,Y.token.expireTimeMillis-3e5),Math.max(0,se-Date.now())}return 0},3e4,96e4)}(L),Ce(Z,Object.assign(Object.assign({},Y),{tokenRefresher:se}))),!se.isRunning()&&Y.isTokenAutoRefreshEnabled&&se.start()}function Fr(L,Z){const Y=re(L).tokenObservers;for(const se of Y)try{"EXTERNAL"===se.type&&null!=Z.error?se.error(Z.error):se.next(Z)}catch(ke){}}function gn(L){return L.expireTimeMillis-Date.now()>0}function ti(L){return{token:Mt(gr),error:L}}class Ke{constructor(Z,Y){this.app=Z,this.platformLoggerProvider=Y}_delete(){const{tokenObservers:Z}=re(this.app);for(const Y of Z)Er(this.app,Y.next);return Promise.resolve()}}const nn="app-check-internal";(0,he._registerComponent)(new fe.wA("app-check",L=>function(L,Z){return new Ke(L,Z)}(L.getProvider("app").getImmediate(),L.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((L,Z,Y)=>{L.getProvider(nn).initialize()})),(0,he._registerComponent)(new fe.wA(nn,L=>function(L){return{getToken:Z=>Hn(L,Z),addTokenListener:Z=>function(L,Z,Y,se){const{app:ke}=L,ze=re(ke),vt={next:Y,error:se,type:Z};if(Ce(ke,Object.assign(Object.assign({},ze),{tokenObservers:[...ze.tokenObservers,vt]})),ze.token&&gn(ze.token)){const At=ze.token;Promise.resolve().then(()=>{Y({token:At.token}),ai(L)}).catch(()=>{})}ze.cachedTokenPromise.then(()=>ai(L))}(L,"INTERNAL",Z),removeTokenListener:Z=>Er(L.app,Z)}}(L.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)("@firebase/app-check","0.5.2");class De{constructor(){return(0,a.vb)("app-check")}}"undefined"!=typeof window&&window},3590:(rn,ht,F)=>{"use strict";F.d(ht,{Ot:()=>He,z6:()=>Te,Mq:()=>We,ZF:()=>Ee,hX:()=>re});var a=F(7713),C=F(9619),X=F(7455);class He{constructor(st){return st}}class Te{constructor(){return(0,a.C6)()}}const Q=new C.OlP("angularfire2._apps"),pe={provide:He,useFactory:function(Ie){return Ie&&1===Ie.length?Ie[0]:new He((0,a.Mq)())},deps:[[new C.FiY,Q]]},ee={provide:Te,deps:[[new C.FiY,Q]]};function de(Ie){return(st,lt)=>{const Bt=st.runOutsideAngular(()=>Ie(lt));return new He(Bt)}}let we=(()=>{class Ie{constructor(lt){(0,a.KN)("angularfire",X.q4.full,"core"),(0,a.KN)("angularfire",X.q4.full,"app"),(0,a.KN)("angular",C.q4F.full,lt.toString())}}return Ie.\u0275fac=function(lt){return new(lt||Ie)(C.LFG(C.Lbi))},Ie.\u0275mod=C.oAB({type:Ie}),Ie.\u0275inj=C.cJS({providers:[pe,ee]}),Ie})();function re(Ie,...st){return{ngModule:we,providers:[{provide:Q,useFactory:de(Ie),multi:!0,deps:[C.R0b,C.zs3,X.HU,...st]}]}}const We=(0,X.u3)(a.Mq,!0),Ee=(0,X.u3)(a.ZF,!0)},1882:(rn,ht,F)=>{"use strict";F.d(ht,{gx:()=>we,dh:()=>re,fD:()=>st,uJ:()=>Et,AR:()=>Ie,rh:()=>Hn,w7:()=>yn});var a=F(7455),C=F(9619),X=F(3590),He=F(7713),Te=F(7798),he=F(7682),fe=F(5548);function Q(St){return new fe.y(function(ft){return{unsubscribe:(0,he.Aj)(St,ft.next.bind(ft),ft.error.bind(ft),ft.complete.bind(ft))}})}class we{constructor(ft){return ft}}class re{constructor(){return(0,a.vb)("auth")}}const We=new C.OlP("angularfire2.auth-instances");function Ee(St){return(ft,Jt)=>{const Xt=ft.runOutsideAngular(()=>St(Jt));return new we(Xt)}}const Be={provide:re,deps:[[new C.FiY,We]]},Ne={provide:we,useFactory:function(St,ft){const Jt=(0,a.JM)("auth",St,ft);return Jt&&new we(Jt)},deps:[[new C.FiY,We],X.Ot]};let _e=(()=>{class St{constructor(){(0,He.KN)("angularfire",a.q4.full,"auth")}}return St.\u0275fac=function(Jt){return new(Jt||St)},St.\u0275mod=C.oAB({type:St}),St.\u0275inj=C.cJS({providers:[Ne,Be]}),St})();function Ie(St,...ft){return{ngModule:_e,providers:[{provide:We,useFactory:Ee(St),multi:!0,deps:[C.R0b,C.zs3,a.HU,X.z6,[new C.FiY,Te.nm],...ft]}]}}const st=(0,a.u3)(Q,!0),Et=(0,a.u3)(he.uJ,!0),Hn=(0,a.u3)(he.rh,!0),yn=(0,a.u3)(he.w7,!0)},3584:(rn,ht,F)=>{"use strict";F.d(ht,{ST:()=>Ct,yb:()=>nn});var a=F(9619),C=F(8178),X=F(5548),He=F(1915),Te=F(2411),he=F(7455),fe=F(4168);function Q(){return xe=>xe.lift(new pe)}class pe{call(J,G){return G.subscribe(new ee(J))}}class ee extends fe.L{constructor(J){super(J),this.hasPrev=!1}_next(J){let G;this.hasPrev?G=[this.prev,J]:this.hasPrev=!0,this.prev=J,G&&this.destination.next(G)}}var de=F(1125),we=F(8053),re=F(7434),Ce=F(5389),We=F(8735),ye=F(7905),Ee=F(6019),Ne=(F(2115),F(6293)),_e=F(5023),Ie=F(4213),st=F(1177);function Je(xe,J){if(void 0===J)return{merge:!1};if(void 0!==J.mergeFields&&void 0!==J.merge)throw new _e.WA("invalid-argument",`Invalid options passed to function ${xe}(): You cannot specify both "merge" and "mergeFields".`);return J}function jt(){if("undefined"==typeof Uint8Array)throw new _e.WA("unimplemented","Uint8Arrays are not available in this environment.")}function qe(){if(!(0,_e.Me)())throw new _e.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class it{constructor(J){this._delegate=J}static fromBase64String(J){return qe(),new it(_e.Jj.fromBase64String(J))}static fromUint8Array(J){return jt(),new it(_e.Jj.fromUint8Array(J))}toBase64(){return qe(),this._delegate.toBase64()}toUint8Array(){return jt(),this._delegate.toUint8Array()}isEqual(J){return this._delegate.isEqual(J._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Me(xe){return function(xe,J){if("object"!=typeof xe||null===xe)return!1;const G=xe;for(const De of["next","error","complete"])if(De in G&&"function"==typeof G[De])return!0;return!1}(xe)}class ut{enableIndexedDbPersistence(J,G){return(0,_e.ST)(J._delegate,{forceOwnership:G})}enableMultiTabIndexedDbPersistence(J){return(0,_e.fH)(J._delegate)}clearIndexedDbPersistence(J){return(0,_e.Fc)(J._delegate)}}class nt{constructor(J,G,De){this._delegate=G,this._persistenceProvider=De,this.INTERNAL={delete:()=>this.terminate()},J instanceof _e.l7||(this._appCompat=J)}get _databaseId(){return this._delegate._databaseId}settings(J){const G=this._delegate._getSettings();!J.merge&&G.host!==J.host&&(0,_e.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),J.merge&&delete(J=Object.assign(Object.assign({},G),J)).merge,this._delegate._setSettings(J)}useEmulator(J,G,De={}){(0,_e.at)(this._delegate,J,G,De)}enableNetwork(){return(0,_e.Ix)(this._delegate)}disableNetwork(){return(0,_e.TF)(this._delegate)}enablePersistence(J){let G=!1,De=!1;return J&&(G=!!J.synchronizeTabs,De=!!J.experimentalForceOwningTab,(0,_e.Wi)("synchronizeTabs",G,"experimentalForceOwningTab",De)),G?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,De)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,_e.Mx)(this._delegate)}onSnapshotsInSync(J){return(0,_e.sc)(this._delegate,J)}get app(){if(!this._appCompat)throw new _e.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(J){try{return new Dn(this,(0,_e.hJ)(this._delegate,J))}catch(G){throw Kt(G,"collection()","Firestore.collection()")}}doc(J){try{return new Et(this,(0,_e.JU)(this._delegate,J))}catch(G){throw Kt(G,"doc()","Firestore.doc()")}}collectionGroup(J){try{return new on(this,(0,_e.B$)(this._delegate,J))}catch(G){throw Kt(G,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(J){return(0,_e.i3)(this._delegate,G=>J(new Dt(this,G)))}batch(){return(0,_e.qY)(this._delegate),new pt(new _e.PU(this._delegate,J=>(0,_e.GL)(this._delegate,J)))}loadBundle(J){return(0,_e.Pb)(this._delegate,J)}namedQuery(J){return(0,_e.L$)(this._delegate,J).then(G=>G?new on(this,G):null)}}class Ht extends _e.u7{constructor(J){super(),this.firestore=J}convertBytes(J){return new it(new _e.Jj(J))}convertReference(J){const G=this.convertDocumentKey(J,this.firestore._databaseId);return Et.forKey(G,this.firestore,null)}}class Dt{constructor(J,G){this._firestore=J,this._delegate=G,this._userDataWriter=new Ht(J)}get(J){const G=Nn(J);return this._delegate.get(G).then(De=>new _n(this._firestore,new _e.xU(this._firestore._delegate,this._userDataWriter,De._key,De._document,De.metadata,G.converter)))}set(J,G,De){const Ye=Nn(J);return De?(Je("Transaction.set",De),this._delegate.set(Ye,G,De)):this._delegate.set(Ye,G),this}update(J,G,De,...Ye){const wt=Nn(J);return 2===arguments.length?this._delegate.update(wt,G):this._delegate.update(wt,G,De,...Ye),this}delete(J){const G=Nn(J);return this._delegate.delete(G),this}}class pt{constructor(J){this._delegate=J}set(J,G,De){const Ye=Nn(J);return De?(Je("WriteBatch.set",De),this._delegate.set(Ye,G,De)):this._delegate.set(Ye,G),this}update(J,G,De,...Ye){const wt=Nn(J);return 2===arguments.length?this._delegate.update(wt,G):this._delegate.update(wt,G,De,...Ye),this}delete(J){const G=Nn(J);return this._delegate.delete(G),this}commit(){return this._delegate.commit()}}class _t{constructor(J,G,De){this._firestore=J,this._userDataWriter=G,this._delegate=De}fromFirestore(J,G){const De=new _e.$q(this._firestore._delegate,this._userDataWriter,J._key,J._document,J.metadata,null);return this._delegate.fromFirestore(new Ot(this._firestore,De),null!=G?G:{})}toFirestore(J,G){return G?this._delegate.toFirestore(J,G):this._delegate.toFirestore(J)}static getInstance(J,G){const De=_t.INSTANCES;let Ye=De.get(J);Ye||(Ye=new WeakMap,De.set(J,Ye));let wt=Ye.get(G);return wt||(wt=new _t(J,new Ht(J),G),Ye.set(G,wt)),wt}}_t.INSTANCES=new WeakMap;class Et{constructor(J,G){this.firestore=J,this._delegate=G,this._userDataWriter=new Ht(J)}static forPath(J,G,De){if(J.length%2!=0)throw new _e.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${J.canonicalString()} has ${J.length}`);return new Et(G,new _e.my(G._delegate,De,new _e.Ky(J)))}static forKey(J,G,De){return new Et(G,new _e.my(G._delegate,De,J))}get id(){return this._delegate.id}get parent(){return new Dn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(J){try{return new Dn(this.firestore,(0,_e.hJ)(this._delegate,J))}catch(G){throw Kt(G,"collection()","DocumentReference.collection()")}}isEqual(J){return(J=(0,Ie.m9)(J))instanceof _e.my&&(0,_e.Eo)(this._delegate,J)}set(J,G){G=Je("DocumentReference.set",G);try{return G?(0,_e.pl)(this._delegate,J,G):(0,_e.pl)(this._delegate,J)}catch(De){throw Kt(De,"setDoc()","DocumentReference.set()")}}update(J,G,...De){try{return 1===arguments.length?(0,_e.r7)(this._delegate,J):(0,_e.r7)(this._delegate,J,G,...De)}catch(Ye){throw Kt(Ye,"updateDoc()","DocumentReference.update()")}}delete(){return(0,_e.oe)(this._delegate)}onSnapshot(...J){const G=Ln(J),De=Pt(J,Ye=>new _n(this.firestore,new _e.xU(this.firestore._delegate,this._userDataWriter,Ye._key,Ye._document,Ye.metadata,this._delegate.converter)));return(0,_e.cf)(this._delegate,G,De)}get(J){let G;return G="cache"===(null==J?void 0:J.source)?(0,_e.kl)(this._delegate):"server"===(null==J?void 0:J.source)?(0,_e.Xk)(this._delegate):(0,_e.QT)(this._delegate),G.then(De=>new _n(this.firestore,new _e.xU(this.firestore._delegate,this._userDataWriter,De._key,De._document,De.metadata,this._delegate.converter)))}withConverter(J){return new Et(this.firestore,this._delegate.withConverter(J?_t.getInstance(this.firestore,J):null))}}function Kt(xe,J,G){return xe.message=xe.message.replace(J,G),xe}function Ln(xe){for(const J of xe)if("object"==typeof J&&!Me(J))return J;return{}}function Pt(xe,J){var G,De;let Ye;return Ye=Me(xe[0])?xe[0]:Me(xe[1])?xe[1]:"function"==typeof xe[0]?{next:xe[0],error:xe[1],complete:xe[2]}:{next:xe[1],error:xe[2],complete:xe[3]},{next:wt=>{Ye.next&&Ye.next(J(wt))},error:null===(G=Ye.error)||void 0===G?void 0:G.bind(Ye),complete:null===(De=Ye.complete)||void 0===De?void 0:De.bind(Ye)}}class _n{constructor(J,G){this._firestore=J,this._delegate=G}get ref(){return new Et(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(J){return this._delegate.data(J)}get(J,G){return this._delegate.get(J,G)}isEqual(J){return(0,_e.qK)(this._delegate,J._delegate)}}class Ot extends _n{data(J){const G=this._delegate.data(J);return(0,_e.K9)(void 0!==G,"Document in a QueryDocumentSnapshot should exist"),G}}class on{constructor(J,G){this.firestore=J,this._delegate=G,this._userDataWriter=new Ht(J)}where(J,G,De){try{return new on(this.firestore,(0,_e.IO)(this._delegate,(0,_e.ar)(J,G,De)))}catch(Ye){throw Kt(Ye,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(J,G){try{return new on(this.firestore,(0,_e.IO)(this._delegate,(0,_e.Xo)(J,G)))}catch(De){throw Kt(De,/(orderBy|where)\(\)/,"Query.$1()")}}limit(J){try{return new on(this.firestore,(0,_e.IO)(this._delegate,(0,_e.b9)(J)))}catch(G){throw Kt(G,"limit()","Query.limit()")}}limitToLast(J){try{return new on(this.firestore,(0,_e.IO)(this._delegate,(0,_e.vh)(J)))}catch(G){throw Kt(G,"limitToLast()","Query.limitToLast()")}}startAt(...J){try{return new on(this.firestore,(0,_e.IO)(this._delegate,(0,_e.e0)(...J)))}catch(G){throw Kt(G,"startAt()","Query.startAt()")}}startAfter(...J){try{return new on(this.firestore,(0,_e.IO)(this._delegate,(0,_e.TQ)(...J)))}catch(G){throw Kt(G,"startAfter()","Query.startAfter()")}}endBefore(...J){try{return new on(this.firestore,(0,_e.IO)(this._delegate,(0,_e.Lx)(...J)))}catch(G){throw Kt(G,"endBefore()","Query.endBefore()")}}endAt(...J){try{return new on(this.firestore,(0,_e.IO)(this._delegate,(0,_e.Wu)(...J)))}catch(G){throw Kt(G,"endAt()","Query.endAt()")}}isEqual(J){return(0,_e.iE)(this._delegate,J._delegate)}get(J){let G;return G="cache"===(null==J?void 0:J.source)?(0,_e.UQ)(this._delegate):"server"===(null==J?void 0:J.source)?(0,_e.zN)(this._delegate):(0,_e.PL)(this._delegate),G.then(De=>new ar(this.firestore,new _e.W(this.firestore._delegate,this._userDataWriter,this._delegate,De._snapshot)))}onSnapshot(...J){const G=Ln(J),De=Pt(J,Ye=>new ar(this.firestore,new _e.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ye._snapshot)));return(0,_e.cf)(this._delegate,G,De)}withConverter(J){return new on(this.firestore,this._delegate.withConverter(J?_t.getInstance(this.firestore,J):null))}}class Sr{constructor(J,G){this._firestore=J,this._delegate=G}get type(){return this._delegate.type}get doc(){return new Ot(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ar{constructor(J,G){this._firestore=J,this._delegate=G}get query(){return new on(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(J=>new Ot(this._firestore,J))}docChanges(J){return this._delegate.docChanges(J).map(G=>new Sr(this._firestore,G))}forEach(J,G){this._delegate.forEach(De=>{J.call(G,new Ot(this._firestore,De))})}isEqual(J){return(0,_e.qK)(this._delegate,J._delegate)}}class Dn extends on{constructor(J,G){super(J,G),this.firestore=J,this._delegate=G}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const J=this._delegate.parent;return J?new Et(this.firestore,J):null}doc(J){try{return new Et(this.firestore,void 0===J?(0,_e.JU)(this._delegate):(0,_e.JU)(this._delegate,J))}catch(G){throw Kt(G,"doc()","CollectionReference.doc()")}}add(J){return(0,_e.ET)(this._delegate,J).then(G=>new Et(this.firestore,G))}isEqual(J){return(0,_e.Eo)(this._delegate,J._delegate)}withConverter(J){return new Dn(this.firestore,this._delegate.withConverter(J?_t.getInstance(this.firestore,J):null))}}function Nn(xe){return(0,_e.Cf)(xe,_e.my)}class lr{constructor(...J){this._delegate=new _e.Lz(...J)}static documentId(){return new lr(_e.Xb.keyField().canonicalString())}isEqual(J){return(J=(0,Ie.m9)(J))instanceof _e.Lz&&this._delegate._internalPath.isEqual(J._internalPath)}}class Jn{constructor(J){this._delegate=J}static serverTimestamp(){const J=(0,_e.Bt)();return J._methodName="FieldValue.serverTimestamp",new Jn(J)}static delete(){const J=(0,_e.AK)();return J._methodName="FieldValue.delete",new Jn(J)}static arrayUnion(...J){const G=(0,_e.vr)(...J);return G._methodName="FieldValue.arrayUnion",new Jn(G)}static arrayRemove(...J){const G=(0,_e.Ab)(...J);return G._methodName="FieldValue.arrayRemove",new Jn(G)}static increment(J){const G=(0,_e.nP)(J);return G._methodName="FieldValue.increment",new Jn(G)}isEqual(J){return this._delegate.isEqual(J._delegate)}}const Dr={Firestore:nt,GeoPoint:_e.F8,Timestamp:_e.EK,Blob:it,Transaction:Dt,WriteBatch:pt,DocumentReference:Et,DocumentSnapshot:_n,Query:on,QueryDocumentSnapshot:Ot,QuerySnapshot:ar,CollectionReference:Dn,FieldPath:lr,FieldValue:Jn,setLogLevel:function(xe){(0,_e.Ub)(xe)},CACHE_SIZE_UNLIMITED:_e.IX};var xe;(function(xe,J){xe.INTERNAL.registerComponent(new st.wA("firestore-compat",G=>((J,G)=>new nt(J,G,new ut))(G.getProvider("app-compat").getImmediate(),G.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Dr)))})(xe=Ne.Z),xe.registerVersion("@firebase/firestore-compat","0.1.10");var Tr=F(3405),Zn=F(8526),qn=F(9254),Ur=F(9204),Rn=F(7575),Yt=F(1346),hn=F(2108),gr=F(5973);class Mt extends Tr.xQ{constructor(J=Number.POSITIVE_INFINITY,G=Number.POSITIVE_INFINITY,De){super(),this.scheduler=De,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=J<1?1:J,this._windowTime=G<1?1:G,G===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(J){if(!this.isStopped){const G=this._events;G.push(J),G.length>this._bufferSize&&G.shift()}super.next(J)}nextTimeWindow(J){this.isStopped||(this._events.push(new Hn(this._getNow(),J)),this._trimBufferThenGetEvents()),super.next(J)}_subscribe(J){const G=this._infiniteTimeWindow,De=G?this._events:this._trimBufferThenGetEvents(),Ye=this.scheduler,wt=De.length;let Zt;if(this.closed)throw new hn.N;if(this.isStopped||this.hasError?Zt=Yt.w.EMPTY:(this.observers.push(J),Zt=new gr.W(this,J)),Ye&&J.add(J=new qn.ht(J,Ye)),G)for(let fn=0;fn<wt&&!J.closed;fn++)J.next(De[fn]);else for(let fn=0;fn<wt&&!J.closed;fn++)J.next(De[fn].value);return this.hasError?J.error(this.thrownError):this.isStopped&&J.complete(),Zt}_getNow(){return(this.scheduler||Rn.c).now()}_trimBufferThenGetEvents(){const J=this._getNow(),G=this._bufferSize,De=this._windowTime,Ye=this._events,wt=Ye.length;let Zt=0;for(;Zt<wt&&!(J-Ye[Zt].time<De);)Zt++;return wt>G&&(Zt=Math.max(Zt,wt-G)),Zt>0&&Ye.splice(0,Zt),Ye}}class Hn{constructor(J,G){this.time=J,this.value=G}}function Cn(xe,J,G){let De;return De=xe&&"object"==typeof xe?xe:{bufferSize:xe,windowTime:J,refCount:!1,scheduler:G},Ye=>Ye.lift(function({bufferSize:xe=Number.POSITIVE_INFINITY,windowTime:J=Number.POSITIVE_INFINITY,refCount:G,scheduler:De}){let Ye,Zt,wt=0,fn=!1,zn=!1;return function(Sn){let li;wt++,!Ye||fn?(fn=!1,Ye=new Mt(xe,J,De),li=Ye.subscribe(this),Zt=Sn.subscribe({next(yt){Ye.next(yt)},error(yt){fn=!0,Ye.error(yt)},complete(){zn=!0,Zt=void 0,Ye.complete()}}),zn&&(Zt=void 0)):li=Ye.subscribe(this),this.add(()=>{wt--,li.unsubscribe(),li=void 0,Zt&&!zn&&G&&0===wt&&(Zt.unsubscribe(),Zt=void 0,Ye=void 0)})}}(De))}var Er=F(739);function ai(xe,J){return J?(0,Ur.w)(()=>xe,J):(0,Ur.w)(()=>xe)}var Pr=F(2698),Fr=F(7798),gn=F(7892);const Ke=new a.OlP("angularfire2.auth.use-emulator"),Qe=new a.OlP("angularfire2.auth.settings"),je=new a.OlP("angularfire2.auth.tenant-id"),St=new a.OlP("angularfire2.auth.langugage-code"),ft=new a.OlP("angularfire2.auth.use-device-language"),Jt=new a.OlP("angularfire.auth.persistence"),Xt=(xe,J,G,De,Ye,wt,Zt,fn)=>(0,ye.cc)(`${xe.name}.auth`,"AngularFireAuth",xe.name,()=>{const zn=J.runOutsideAngular(()=>xe.auth());if(G&&zn.useEmulator(...G),De&&(zn.tenantId=De),zn.languageCode=Ye,wt&&zn.useDeviceLanguage(),Zt)for(const[tr,Sn]of Object.entries(Zt))zn.settings[tr]=Sn;return fn&&zn.setPersistence(fn),zn},[G,De,Ye,wt,Zt,fn]);let er=(()=>{class xe{constructor(G,De,Ye,wt,Zt,fn,zn,tr,Sn,li,yt,Ei){const di=new Tr.xQ,jr=(0,Te.of)(void 0).pipe((0,qn.QV)(Zt.outsideAngular),(0,Ur.w)(()=>wt.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2115)))),(0,we.U)(()=>(0,ye.on)(G,wt,De)),(0,we.U)(ri=>Xt(ri,wt,fn,tr,Sn,li,zn,yt)),Cn({bufferSize:1,refCount:!1}));if((0,Ee.PM)(Ye))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Te.of)(null);else{jr.pipe((0,Er.P)()).subscribe();const gi=jr.pipe((0,Ur.w)(Z=>Z.getRedirectResult().then(Y=>Y,()=>null)),he.iC,Cn({bufferSize:1,refCount:!1})),qr=jr.pipe((0,Ur.w)(Z=>new X.y(Y=>({unsubscribe:wt.runOutsideAngular(()=>Z.onAuthStateChanged(se=>Y.next(se),se=>Y.error(se),()=>Y.complete()))})))),L=jr.pipe((0,Ur.w)(Z=>new X.y(Y=>({unsubscribe:wt.runOutsideAngular(()=>Z.onIdTokenChanged(se=>Y.next(se),se=>Y.error(se),()=>Y.complete()))}))));this.authState=gi.pipe(ai(qr),(0,Pr.R)(Zt.outsideAngular),(0,qn.QV)(Zt.insideAngular)),this.user=gi.pipe(ai(L),(0,Pr.R)(Zt.outsideAngular),(0,qn.QV)(Zt.insideAngular)),this.idToken=this.user.pipe((0,Ur.w)(Z=>Z?(0,He.D)(Z.getIdToken()):(0,Te.of)(null))),this.idTokenResult=this.user.pipe((0,Ur.w)(Z=>Z?(0,He.D)(Z.getIdTokenResult()):(0,Te.of)(null))),this.credential=(0,Zn.T)(gi,di,this.authState.pipe((0,We.h)(Z=>!Z))).pipe((0,we.U)(Z=>(null==Z?void 0:Z.user)?Z:null),(0,Pr.R)(Zt.outsideAngular),(0,qn.QV)(Zt.insideAngular))}return(0,ye.pX)(this,jr,wt,{spy:{apply:(ri,gi,qr)=>{(ri.startsWith("signIn")||ri.startsWith("createUser"))&&qr.then(L=>di.next(L))}}})}}return xe.\u0275fac=function(G){return new(G||xe)(a.LFG(ye.Dh),a.LFG(ye.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(he.HU),a.LFG(Ke,8),a.LFG(Qe,8),a.LFG(je,8),a.LFG(St,8),a.LFG(ft,8),a.LFG(Jt,8),a.LFG(Fr.nm,8))},xe.\u0275prov=a.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"any"}),xe})();function xr(xe,J){return function(xe,J=C.z){return new X.y(G=>{let De;return null!=J?J.schedule(()=>{De=xe.onSnapshot({includeMetadataChanges:!0},G)}):De=xe.onSnapshot({includeMetadataChanges:!0},G),()=>{null!=De&&De()}})}(xe,J)}function $e(xe,J){return xr(xe,J).pipe((0,we.U)(G=>({payload:G,type:"query"})))}function Xe(xe,J){return $e(xe,J).pipe((0,de.O)(void 0),Q(),(0,we.U)(([G,De])=>{const Ye=De.payload.docChanges(),wt=Ye.map(Zt=>({type:Zt.type,payload:Zt}));return G&&JSON.stringify(G.payload.metadata)!==JSON.stringify(De.payload.metadata)&&De.payload.docs.forEach((Zt,fn)=>{const zn=Ye.find(Sn=>Sn.doc.ref.isEqual(Zt.ref)),tr=null==G?void 0:G.payload.docs.find(Sn=>Sn.ref.isEqual(Zt.ref));zn&&JSON.stringify(zn.doc.metadata)===JSON.stringify(Zt.metadata)||!zn&&tr&&JSON.stringify(tr.metadata)===JSON.stringify(Zt.metadata)||wt.push({type:"modified",payload:{oldIndex:fn,newIndex:fn,type:"modified",doc:Zt}})}),wt}))}function Lt(xe,J,G){return Xe(xe,G).pipe((0,re.R)((De,Ye)=>function(xe,J,G){return J.forEach(De=>{G.indexOf(De.type)>-1&&(xe=function(xe,J){switch(J.type){case"added":if(!xe[J.newIndex]||!xe[J.newIndex].doc.ref.isEqual(J.doc.ref))return In(xe,J.newIndex,0,J);break;case"modified":if(null==xe[J.oldIndex]||xe[J.oldIndex].doc.ref.isEqual(J.doc.ref)){if(J.oldIndex!==J.newIndex){const G=xe.slice();return G.splice(J.oldIndex,1),G.splice(J.newIndex,0,J),G}return In(xe,J.newIndex,1,J)}break;case"removed":if(xe[J.oldIndex]&&xe[J.oldIndex].doc.ref.isEqual(J.doc.ref))return In(xe,J.oldIndex,1)}return xe}(xe,De))}),xe}(De,Ye.map(wt=>wt.payload),J),[]),(0,Ce.x)(),(0,we.U)(De=>De.map(Ye=>({type:Ye.type,payload:Ye}))))}function In(xe,J,G,...De){const Ye=xe.slice();return Ye.splice(J,G,...De),Ye}function On(xe){return(!xe||0===xe.length)&&(xe=["added","removed","modified"]),xe}class Lr{constructor(J,G,De){this.ref=J,this.query=G,this.afs=De}stateChanges(J){let G=Xe(this.query,this.afs.schedulers.outsideAngular);return J&&J.length>0&&(G=G.pipe((0,we.U)(De=>De.filter(Ye=>J.indexOf(Ye.type)>-1)))),G.pipe((0,de.O)(void 0),Q(),(0,We.h)(([De,Ye])=>Ye.length>0||!De),(0,we.U)(([De,Ye])=>Ye),he.iC)}auditTrail(J){return this.stateChanges(J).pipe((0,re.R)((G,De)=>[...G,...De],[]))}snapshotChanges(J){const G=On(J);return Lt(this.query,G,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(J={}){return $e(this.query,this.afs.schedulers.outsideAngular).pipe((0,we.U)(G=>G.payload.docs.map(De=>J.idField?Object.assign(Object.assign({},De.data()),{[J.idField]:De.id}):De.data())),he.iC)}get(J){return(0,He.D)(this.query.get(J)).pipe(he.iC)}add(J){return this.ref.add(J)}doc(J){return new Br(this.ref.doc(J),this.afs)}}class Br{constructor(J,G){this.ref=J,this.afs=G}set(J,G){return this.ref.set(J,G)}update(J){return this.ref.update(J)}delete(){return this.ref.delete()}collection(J,G){const De=this.ref.collection(J),{ref:Ye,query:wt}=ot(De,G);return new Lr(Ye,wt,this.afs)}snapshotChanges(){return function(xe,J){return xr(xe,J).pipe((0,de.O)(void 0),Q(),(0,we.U)(([G,De])=>De.exists?(null==G?void 0:G.exists)?{payload:De,type:"modified"}:{payload:De,type:"added"}:{payload:De,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(J={}){return this.snapshotChanges().pipe((0,we.U)(({payload:G})=>J.idField?Object.assign(Object.assign({},G.data()),{[J.idField]:G.id}):G.data()))}get(J){return(0,He.D)(this.ref.get(J)).pipe(he.iC)}}class kr{constructor(J,G){this.query=J,this.afs=G}stateChanges(J){return J&&0!==J.length?Xe(this.query,this.afs.schedulers.outsideAngular).pipe((0,we.U)(G=>G.filter(De=>J.indexOf(De.type)>-1)),(0,We.h)(G=>G.length>0),he.iC):Xe(this.query,this.afs.schedulers.outsideAngular).pipe(he.iC)}auditTrail(J){return this.stateChanges(J).pipe((0,re.R)((G,De)=>[...G,...De],[]))}snapshotChanges(J){const G=On(J);return Lt(this.query,G,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(J={}){return $e(this.query,this.afs.schedulers.outsideAngular).pipe((0,we.U)(De=>De.payload.docs.map(Ye=>J.idField?Object.assign({[J.idField]:Ye.id},Ye.data()):Ye.data())),he.iC)}get(J){return(0,He.D)(this.query.get(J)).pipe(he.iC)}}const Bn=new a.OlP("angularfire2.enableFirestorePersistence"),Or=new a.OlP("angularfire2.firestore.persistenceSettings"),Fn=new a.OlP("angularfire2.firestore.settings"),Gr=new a.OlP("angularfire2.firestore.use-emulator");function ot(xe,J=(G=>G)){return{query:J(xe),ref:xe}}let Ct=(()=>{class xe{constructor(G,De,Ye,wt,Zt,fn,zn,tr,Sn,li,yt,Ei,di,jr,ri,gi,qr){this.schedulers=zn;const L=(0,ye.on)(G,fn,De),Z=Sn;li&&Xt(L,fn,yt,di,jr,ri,Ei,gi),[this.firestore,this.persistenceEnabled$]=(0,ye.cc)(`${L.name}.firestore`,"AngularFirestore",L.name,()=>{const Y=fn.runOutsideAngular(()=>L.firestore());if(wt&&Y.settings(wt),Z&&Y.useEmulator(...Z),Ye&&!(0,Ee.PM)(Zt)){const se=()=>{try{return(0,He.D)(Y.enablePersistence(tr||void 0).then(()=>!0,()=>!1))}catch(ke){return"undefined"!=typeof console&&console.warn(ke),(0,Te.of)(!1)}};return[Y,fn.runOutsideAngular(se)]}return[Y,(0,Te.of)(!1)]},[wt,Z,Ye])}collection(G,De){let Ye;Ye="string"==typeof G?this.firestore.collection(G):G;const{ref:wt,query:Zt}=ot(Ye,De),fn=this.schedulers.ngZone.run(()=>wt);return new Lr(fn,Zt,this)}collectionGroup(G,De){const Ye=De||(Zt=>Zt),wt=this.firestore.collectionGroup(G);return new kr(Ye(wt),this)}doc(G){let De;De="string"==typeof G?this.firestore.doc(G):G;const Ye=this.schedulers.ngZone.run(()=>De);return new Br(Ye,this)}createId(){return this.firestore.collection("_").doc().id}}return xe.\u0275fac=function(G){return new(G||xe)(a.LFG(ye.Dh),a.LFG(ye.xv,8),a.LFG(Bn,8),a.LFG(Fn,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(he.HU),a.LFG(Or,8),a.LFG(Gr,8),a.LFG(er,8),a.LFG(Ke,8),a.LFG(Qe,8),a.LFG(je,8),a.LFG(St,8),a.LFG(ft,8),a.LFG(Jt,8),a.LFG(Fr.nm,8))},xe.\u0275prov=a.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"any"}),xe})(),nn=(()=>{class xe{constructor(){gn.Z.registerVersion("angularfire",he.q4.full,"fst-compat")}static enablePersistence(G){return{ngModule:xe,providers:[{provide:Bn,useValue:!0},{provide:Or,useValue:G}]}}}return xe.\u0275fac=function(G){return new(G||xe)},xe.\u0275mod=a.oAB({type:xe}),xe.\u0275inj=a.cJS({providers:[Ct]}),xe})()},7905:(rn,ht,F)=>{"use strict";F.d(ht,{hO:()=>re,xv:()=>pe,Dh:()=>Q,GT:()=>he,cc:()=>Ce,on:()=>ee,pX:()=>Te});var a=F(9619),C=F(7892),X=F(7455);rn=F.hmd(rn);const He=["ngOnDestroy"],Te=(Be,Ne,_e,Ie={})=>new Proxy(Be,{get:(st,lt)=>_e.runOutsideAngular(()=>{var Bt;if(Be[lt])return(null===(Bt=null==Ie?void 0:Ie.spy)||void 0===Bt?void 0:Bt.get)&&Ie.spy.get(lt,Be[lt]),Be[lt];if(He.indexOf(lt)>-1)return()=>{};const Je=Ne.toPromise().then(jt=>{const qe=jt&&jt[lt];return"function"==typeof qe?qe.bind(jt):qe&&qe.then?qe.then(it=>_e.run(()=>it)):_e.run(()=>qe)});return new Proxy(()=>{},{get:(jt,qe)=>Je[qe],apply:(jt,qe,it)=>Je.then(Me=>{var Ue;const ut=Me&&Me(...it);return(null===(Ue=null==Ie?void 0:Ie.spy)||void 0===Ue?void 0:Ue.apply)&&Ie.spy.apply(lt,it,ut),ut})})})}),he=(Be,Ne)=>{Ne.forEach(_e=>{Object.getOwnPropertyNames(_e.prototype||_e).forEach(Ie=>{Object.defineProperty(Be.prototype,Ie,Object.getOwnPropertyDescriptor(_e.prototype||_e,Ie))})})};class fe{constructor(Ne){return Ne}}const Q=new a.OlP("angularfire2.app.options"),pe=new a.OlP("angularfire2.app.name");function ee(Be,Ne,_e){const st="object"==typeof _e&&_e||{};st.name=st.name||"string"==typeof _e&&_e||"[DEFAULT]";const Bt=C.Z.apps.filter(Je=>Je&&Je.name===st.name)[0]||Ne.runOutsideAngular(()=>C.Z.initializeApp(Be,st));try{JSON.stringify(Be)!==JSON.stringify(Bt.options)&&de("error",`${Bt.name} Firebase App already initialized with different options${rn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Je){}return new fe(Bt)}const de=(Be,...Ne)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Be](...Ne)},we={provide:fe,useFactory:ee,deps:[Q,a.R0b,[new a.FiY,pe]]};let re=(()=>{class Be{constructor(_e){C.Z.registerVersion("angularfire",X.q4.full,"core"),C.Z.registerVersion("angularfire",X.q4.full,"app-compat"),C.Z.registerVersion("angular",a.q4F.full,_e.toString())}static initializeApp(_e,Ie){return{ngModule:Be,providers:[{provide:Q,useValue:_e},{provide:pe,useValue:Ie}]}}}return Be.\u0275fac=function(_e){return new(_e||Be)(a.LFG(a.Lbi))},Be.\u0275mod=a.oAB({type:Be}),Be.\u0275inj=a.cJS({providers:[we]}),Be})();function Ce(Be,Ne,_e,Ie,st){const[,lt,Bt]=globalThis.\u0275AngularfireInstanceCache.find(Je=>Je[0]===Be)||[];if(lt)return function(Be,Ne){try{return Be.toString()===Ne.toString()}catch(_e){return Be===Ne}}(st,Bt)||(Ee("error",`${Ne} was already initialized on the ${_e} Firebase App with different settings.${ye?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:st,was:Bt})),lt;{const Je=Ie();return globalThis.\u0275AngularfireInstanceCache.push([Be,Je,st]),Je}}const ye=!!rn.hot,Ee=(Be,...Ne)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Be](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7455:(rn,ht,F)=>{"use strict";F.d(ht,{q4:()=>vr,iC:()=>sn,HU:()=>ie,vb:()=>Ti,JM:()=>Qi,n1:()=>Di,u3:()=>Yn});var a=F(9619),C=F(7713),X=F(8239),He=F(1572),Te=F(4213),he=F(1177),fe=F(3855);F(8094);const pe="@firebase/remote-config",Ce=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class tn{constructor(Se,Oe,gt,kt){this.client=Se,this.storage=Oe,this.storageCache=gt,this.logger=kt}isCachedDataFresh(Se,Oe){if(!Oe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const gt=Date.now()-Oe,kt=gt<=Se;return this.logger.debug(`Config fetch cache check. Cache age millis: ${gt}. Cache max age millis (minimumFetchIntervalMillis setting): ${Se}. Is cache hit: ${kt}.`),kt}fetch(Se){var Oe=this;return(0,X.Z)(function*(){const[gt,kt]=yield Promise.all([Oe.storage.getLastSuccessfulFetchTimestampMillis(),Oe.storage.getLastSuccessfulFetchResponse()]);if(kt&&Oe.isCachedDataFresh(Se.cacheMaxAgeMillis,gt))return kt;Se.eTag=kt&&kt.eTag;const Ut=yield Oe.client.fetch(Se),an=[Oe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ut.status&&an.push(Oe.storage.setLastSuccessfulFetchResponse(Ut)),yield Promise.all(an),Ut})()}}function Dt(Re=navigator){return Re.languages&&Re.languages[0]||Re.language}class pt{constructor(Se,Oe,gt,kt,Ut,an){this.firebaseInstallations=Se,this.sdkVersion=Oe,this.namespace=gt,this.projectId=kt,this.apiKey=Ut,this.appId=an}fetch(Se){var Oe=this;return(0,X.Z)(function*(){const[gt,kt]=yield Promise.all([Oe.firebaseInstallations.getId(),Oe.firebaseInstallations.getToken()]),an=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Oe.projectId}/namespaces/${Oe.namespace}:fetch?key=${Oe.apiKey}`,Vn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Se.eTag||"*"},sr={sdk_version:Oe.sdkVersion,app_instance_id:gt,app_instance_id_token:kt,app_id:Oe.appId,language_code:Dt()},_r={method:"POST",headers:Vn,body:JSON.stringify(sr)},nr=fetch(an,_r),Mr=new Promise((ae,$)=>{Se.signal.addEventListener(()=>{const ve=new Error("The operation was aborted.");ve.name="AbortError",$(ve)})});let Vr;try{yield Promise.race([nr,Mr]),Vr=yield nr}catch(ae){let $="fetch-client-network";throw"AbortError"===ae.name&&($="fetch-timeout"),Ce.create($,{originalErrorMessage:ae.message})}let Hr=Vr.status;const xi=Vr.headers.get("ETag")||void 0;let Si,V;if(200===Vr.status){let ae;try{ae=yield Vr.json()}catch($){throw Ce.create("fetch-client-parse",{originalErrorMessage:$.message})}Si=ae.entries,V=ae.state}if("INSTANCE_STATE_UNSPECIFIED"===V?Hr=500:"NO_CHANGE"===V?Hr=304:("NO_TEMPLATE"===V||"EMPTY_CONFIG"===V)&&(Si={}),304!==Hr&&200!==Hr)throw Ce.create("fetch-status",{httpStatus:Hr});return{status:Hr,eTag:xi,config:Si}})()}}class Kt{constructor(Se,Oe){this.client=Se,this.storage=Oe}fetch(Se){var Oe=this;return(0,X.Z)(function*(){const gt=(yield Oe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Oe.attemptFetch(Se,gt)})()}attemptFetch(Se,{throttleEndTimeMillis:Oe,backoffCount:gt}){var kt=this;return(0,X.Z)(function*(){yield function(Re,Se){return new Promise((Oe,gt)=>{const kt=Math.max(Se-Date.now(),0),Ut=setTimeout(Oe,kt);Re.addEventListener(()=>{clearTimeout(Ut),gt(Ce.create("fetch-throttle",{throttleEndTimeMillis:Se}))})})}(Se.signal,Oe);try{const Ut=yield kt.client.fetch(Se);return yield kt.storage.deleteThrottleMetadata(),Ut}catch(Ut){if(!function(Re){if(!(Re instanceof Te.ZR&&Re.customData))return!1;const Se=Number(Re.customData.httpStatus);return 429===Se||500===Se||503===Se||504===Se}(Ut))throw Ut;const an={throttleEndTimeMillis:Date.now()+(0,Te.$s)(gt),backoffCount:gt+1};return yield kt.storage.setThrottleMetadata(an),kt.attemptFetch(Se,an)}})()}}class _n{constructor(Se,Oe,gt,kt,Ut){this.app=Se,this._client=Oe,this._storageCache=gt,this._storage=kt,this._logger=Ut,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ot(Re,Se){const Oe=Re.target.error||void 0;return Ce.create(Se,{originalErrorMessage:Oe&&Oe.message})}const on="app_namespace_store";class Nn{constructor(Se,Oe,gt,kt=function(){return new Promise((Re,Se)=>{try{const Oe=indexedDB.open("firebase_remote_config",1);Oe.onerror=gt=>{Se(Ot(gt,"storage-open"))},Oe.onsuccess=gt=>{Re(gt.target.result)},Oe.onupgradeneeded=gt=>{0===gt.oldVersion&&gt.target.result.createObjectStore(on,{keyPath:"compositeKey"})}}catch(Oe){Se(Ce.create("storage-open",{originalErrorMessage:Oe}))}})}()){this.appId=Se,this.appName=Oe,this.namespace=gt,this.openDbPromise=kt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Se){return this.set("last_fetch_status",Se)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Se){return this.set("last_successful_fetch_timestamp_millis",Se)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Se){return this.set("last_successful_fetch_response",Se)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Se){return this.set("active_config",Se)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Se){return this.set("active_config_etag",Se)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Se){return this.set("throttle_metadata",Se)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Se){var Oe=this;return(0,X.Z)(function*(){const gt=yield Oe.openDbPromise;return new Promise((kt,Ut)=>{const Vn=gt.transaction([on],"readonly").objectStore(on),sr=Oe.createCompositeKey(Se);try{const _r=Vn.get(sr);_r.onerror=nr=>{Ut(Ot(nr,"storage-get"))},_r.onsuccess=nr=>{const Mr=nr.target.result;kt(Mr?Mr.value:void 0)}}catch(_r){Ut(Ce.create("storage-get",{originalErrorMessage:_r&&_r.message}))}})})()}set(Se,Oe){var gt=this;return(0,X.Z)(function*(){const kt=yield gt.openDbPromise;return new Promise((Ut,an)=>{const sr=kt.transaction([on],"readwrite").objectStore(on),_r=gt.createCompositeKey(Se);try{const nr=sr.put({compositeKey:_r,value:Oe});nr.onerror=Mr=>{an(Ot(Mr,"storage-set"))},nr.onsuccess=()=>{Ut()}}catch(nr){an(Ce.create("storage-set",{originalErrorMessage:nr&&nr.message}))}})})()}delete(Se){var Oe=this;return(0,X.Z)(function*(){const gt=yield Oe.openDbPromise;return new Promise((kt,Ut)=>{const Vn=gt.transaction([on],"readwrite").objectStore(on),sr=Oe.createCompositeKey(Se);try{const _r=Vn.delete(sr);_r.onerror=nr=>{Ut(Ot(nr,"storage-delete"))},_r.onsuccess=()=>{kt()}}catch(_r){Ut(Ce.create("storage-delete",{originalErrorMessage:_r&&_r.message}))}})})()}createCompositeKey(Se){return[this.appId,this.appName,this.namespace,Se].join()}}class lr{constructor(Se){this.storage=Se}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Se=this;return(0,X.Z)(function*(){const Oe=Se.storage.getLastFetchStatus(),gt=Se.storage.getLastSuccessfulFetchTimestampMillis(),kt=Se.storage.getActiveConfig(),Ut=yield Oe;Ut&&(Se.lastFetchStatus=Ut);const an=yield gt;an&&(Se.lastSuccessfulFetchTimestampMillis=an);const Vn=yield kt;Vn&&(Se.activeConfig=Vn)})()}setLastFetchStatus(Se){return this.lastFetchStatus=Se,this.storage.setLastFetchStatus(Se)}setLastSuccessfulFetchTimestampMillis(Se){return this.lastSuccessfulFetchTimestampMillis=Se,this.storage.setLastSuccessfulFetchTimestampMillis(Se)}setActiveConfig(Se){return this.activeConfig=Se,this.storage.setActiveConfig(Se)}}function pr(){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,X.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch(Re){return!1}})).apply(this,arguments)}(0,He._registerComponent)(new he.wA("remote-config",function(Se,{instanceIdentifier:Oe}){const gt=Se.getProvider("app").getImmediate(),kt=Se.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ce.create("registration-window");if(!(0,Te.hl)())throw Ce.create("indexed-db-unavailable");const{projectId:Ut,apiKey:an,appId:Vn}=gt.options;if(!Ut)throw Ce.create("registration-project-id");if(!an)throw Ce.create("registration-api-key");if(!Vn)throw Ce.create("registration-app-id");const sr=new Nn(Vn,gt.name,Oe=Oe||"firebase"),_r=new lr(sr),nr=new fe.Yd(pe);nr.logLevel=fe.in.ERROR;const Mr=new pt(kt,He.SDK_VERSION,Oe,Ut,an,Vn),Vr=new Kt(Mr,sr),Hr=new tn(Vr,sr,_r,nr),xi=new _n(gt,Hr,_r,sr,nr);return function(Re){const Se=(0,Te.m9)(Re);Se._initializePromise||(Se._initializePromise=Se._storageCache.loadFromStorage().then(()=>{Se._isInitializationComplete=!0}))}(xi),xi},"PUBLIC").setMultipleInstances(!0)),(0,He.registerVersion)(pe,"0.3.3"),(0,He.registerVersion)(pe,"0.3.3","esm2017");var Zn=F(470);const qn="analytics",Ur="firebase_id",hn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gr="https://www.googletagmanager.com/gtag/js",Mt=new fe.Yd("@firebase/analytics");function Hn(Re){return Promise.all(Re.map(Se=>Se.catch(Oe=>Oe)))}function Cn(Re,Se){const Oe=document.createElement("script");Oe.src=`${gr}?l=${Re}&id=${Se}`,Oe.async=!0,document.head.appendChild(Oe)}function Er(Re,Se,Oe,gt,kt,Ut){return ai.apply(this,arguments)}function ai(){return(ai=(0,X.Z)(function*(Re,Se,Oe,gt,kt,Ut){const an=gt[kt];try{if(an)yield Se[an];else{const sr=(yield Hn(Oe)).find(_r=>_r.measurementId===kt);sr&&(yield Se[sr.appId])}}catch(Vn){Mt.error(Vn)}Re("config",kt,Ut)})).apply(this,arguments)}function Pr(Re,Se,Oe,gt,kt){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,X.Z)(function*(Re,Se,Oe,gt,kt){try{let Ut=[];if(kt&&kt.send_to){let an=kt.send_to;Array.isArray(an)||(an=[an]);const Vn=yield Hn(Oe);for(const sr of an){const _r=Vn.find(Mr=>Mr.measurementId===sr),nr=_r&&Se[_r.appId];if(!nr){Ut=[];break}Ut.push(nr)}}0===Ut.length&&(Ut=Object.values(Se)),yield Promise.all(Ut),Re("event",gt,kt||{})}catch(Ut){Mt.error(Ut)}})).apply(this,arguments)}function Ke(){const Re=window.document.getElementsByTagName("script");for(const Se of Object.values(Re))if(Se.src&&Se.src.includes(gr))return Se;return null}const je=new Te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Xt=new class{constructor(Se={},Oe=1e3){this.throttleMetadata=Se,this.intervalMillis=Oe}getThrottleMetadata(Se){return this.throttleMetadata[Se]}setThrottleMetadata(Se,Oe){this.throttleMetadata[Se]=Oe}deleteThrottleMetadata(Se){delete this.throttleMetadata[Se]}};function er(Re){return new Headers({Accept:"application/json","x-goog-api-key":Re})}function Cr(Re){return mr.apply(this,arguments)}function mr(){return(mr=(0,X.Z)(function*(Re){var Se;const{appId:Oe,apiKey:gt}=Re,kt={method:"GET",headers:er(gt)},Ut=hn.replace("{app-id}",Oe),an=yield fetch(Ut,kt);if(200!==an.status&&304!==an.status){let Vn="";try{const sr=yield an.json();(null===(Se=sr.error)||void 0===Se?void 0:Se.message)&&(Vn=sr.error.message)}catch(sr){}throw je.create("config-fetch-failed",{httpStatus:an.status,responseMessage:Vn})}return an.json()})).apply(this,arguments)}function xr(Re){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,X.Z)(function*(Re,Se=Xt,Oe){const{appId:gt,apiKey:kt,measurementId:Ut}=Re.options;if(!gt)throw je.create("no-app-id");if(!kt){if(Ut)return{measurementId:Ut,appId:gt};throw je.create("no-api-key")}const an=Se.getThrottleMetadata(gt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Vn=new In;return setTimeout((0,X.Z)(function*(){Vn.abort()}),void 0!==Oe?Oe:6e4),$e({appId:gt,apiKey:kt,measurementId:Ut},an,Vn,Se)})).apply(this,arguments)}function $e(Re,Se,Oe){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,X.Z)(function*(Re,{throttleEndTimeMillis:Se,backoffCount:Oe},gt,kt=Xt){const{appId:Ut,measurementId:an}=Re;try{yield Lt(gt,Se)}catch(Vn){if(an)return Mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${an} provided in the "measurementId" field in the local Firebase config. [${Vn.message}]`),{appId:Ut,measurementId:an};throw Vn}try{const Vn=yield Cr(Re);return kt.deleteThrottleMetadata(Ut),Vn}catch(Vn){if(!cn(Vn)){if(kt.deleteThrottleMetadata(Ut),an)return Mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${an} provided in the "measurementId" field in the local Firebase config. [${Vn.message}]`),{appId:Ut,measurementId:an};throw Vn}const sr=503===Number(Vn.customData.httpStatus)?(0,Te.$s)(Oe,kt.intervalMillis,30):(0,Te.$s)(Oe,kt.intervalMillis),_r={throttleEndTimeMillis:Date.now()+sr,backoffCount:Oe+1};return kt.setThrottleMetadata(Ut,_r),Mt.debug(`Calling attemptFetch again in ${sr} millis`),$e(Re,_r,gt,kt)}})).apply(this,arguments)}function Lt(Re,Se){return new Promise((Oe,gt)=>{const kt=Math.max(Se-Date.now(),0),Ut=setTimeout(Oe,kt);Re.addEventListener(()=>{clearTimeout(Ut),gt(je.create("fetch-throttle",{throttleEndTimeMillis:Se}))})})}function cn(Re){if(!(Re instanceof Te.ZR&&Re.customData))return!1;const Se=Number(Re.customData.httpStatus);return 429===Se||500===Se||503===Se||504===Se}class In{constructor(){this.listeners=[]}addEventListener(Se){this.listeners.push(Se)}abort(){this.listeners.forEach(Se=>Se())}}function Wn(){return On.apply(this,arguments)}function On(){return(On=(0,X.Z)(function*(){if(!(0,Te.hl)())return Mt.warn(je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Te.eu)()}catch(Re){return Mt.warn(je.create("indexeddb-unavailable",{errorInfo:Re}).message),!1}return!0})).apply(this,arguments)}function Br(){return(Br=(0,X.Z)(function*(Re,Se,Oe,gt,kt,Ut,an){var Vn;const sr=xr(Re);sr.then(Hr=>{Oe[Hr.measurementId]=Hr.appId,Re.options.measurementId&&Hr.measurementId!==Re.options.measurementId&&Mt.warn(`The measurement ID in the local Firebase config (${Re.options.measurementId}) does not match the measurement ID fetched from the server (${Hr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Hr=>Mt.error(Hr)),Se.push(sr);const _r=Wn().then(Hr=>{if(Hr)return gt.getId()}),[nr,Mr]=yield Promise.all([sr,_r]);Ke()||Cn(Ut,nr.measurementId),kt("js",new Date);const Vr=null!==(Vn=null==an?void 0:an.config)&&void 0!==Vn?Vn:{};return Vr.origin="firebase",Vr.update=!0,null!=Mr&&(Vr[Ur]=Mr),kt("config",nr.measurementId,Vr),nr.measurementId})).apply(this,arguments)}class kr{constructor(Se){this.app=Se}_delete(){return delete Bn[this.app.options.appId],Promise.resolve()}}let Bn={},Or=[];const Fn={};let Ct,nn,Gr="dataLayer",xe=!1;function De(Re,Se,Oe){!function(){const Re=[];if((0,Te.ru)()&&Re.push("This is a browser extension environment."),(0,Te.zI)()||Re.push("Cookies are not available."),Re.length>0){const Se=Re.map((gt,kt)=>`(${kt+1}) ${gt}`).join(" "),Oe=je.create("invalid-analytics-context",{errorInfo:Se});Mt.warn(Oe.message)}}();const gt=Re.options.appId;if(!gt)throw je.create("no-app-id");if(!Re.options.apiKey){if(!Re.options.measurementId)throw je.create("no-api-key");Mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Re.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bn[gt])throw je.create("already-exists",{id:gt});if(!xe){!function(Re){let Se=[];Array.isArray(window[Re])?Se=window[Re]:window[Re]=Se}(Gr);const{wrappedGtag:Ut,gtagCore:an}=function(Re,Se,Oe,gt,kt){let Ut=function(...an){window[gt].push(arguments)};return window[kt]&&"function"==typeof window[kt]&&(Ut=window[kt]),window[kt]=function(Re,Se,Oe,gt){function Ut(){return(Ut=(0,X.Z)(function*(an,Vn,sr){try{"event"===an?yield Pr(Re,Se,Oe,Vn,sr):"config"===an?yield Er(Re,Se,Oe,gt,Vn,sr):Re("set",Vn)}catch(_r){Mt.error(_r)}})).apply(this,arguments)}return function(an,Vn,sr){return Ut.apply(this,arguments)}}(Ut,Re,Se,Oe),{gtagCore:Ut,wrappedGtag:window[kt]}}(Bn,Or,Fn,Gr,"gtag");nn=Ut,Ct=an,xe=!0}return Bn[gt]=function(Re,Se,Oe,gt,kt,Ut,an){return Br.apply(this,arguments)}(Re,Or,Fn,Se,Ct,Gr,Oe),new kr(Re)}function wt(){return(wt=(0,X.Z)(function*(Re,Se,Oe,gt,kt){if(kt&&kt.global)Re("event",Oe,gt);else{const Ut=yield Se;Re("event",Oe,Object.assign(Object.assign({},gt),{send_to:Ut}))}})).apply(this,arguments)}function ri(){return gi.apply(this,arguments)}function gi(){return(gi=(0,X.Z)(function*(){if((0,Te.ru)()||!(0,Te.zI)()||!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch(Re){return!1}})).apply(this,arguments)}const ke="@firebase/analytics";(0,He._registerComponent)(new he.wA(qn,(Se,{options:Oe})=>De(Se.getProvider("app").getImmediate(),Se.getProvider("installations-internal").getImmediate(),Oe),"PUBLIC")),(0,He._registerComponent)(new he.wA("analytics-internal",function(Se){try{const Oe=Se.getProvider(qn).getImmediate();return{logEvent:(gt,kt,Ut)=>function(Re,Se,Oe,gt){Re=(0,Te.m9)(Re),function(Re,Se,Oe,gt,kt){return wt.apply(this,arguments)}(nn,Bn[Re.app.options.appId],Se,Oe,gt).catch(kt=>Mt.error(kt))}(Oe,gt,kt,Ut)}}catch(Oe){throw je.create("interop-component-reg-failed",{reason:Oe})}},"PRIVATE")),(0,He.registerVersion)(ke,"0.7.4"),(0,He.registerVersion)(ke,"0.7.4","esm2017");var At=F(7575),bt=F(8178),qt=F(5548),En=F(5722),un=F(2698),Gn=F(9254);const vr=new a.GfV("7.2.0"),Qn="__angularfire_symbol__analyticsIsSupported",Ni="__angularfire_symbol__remoteConfigIsSupported",Ui="__angularfire_symbol__messagingIsSupportedValue",wi="__angularfire_symbol__messagingIsSupported";globalThis[Qn]||(globalThis[Qn]=ri().then(Re=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=Re)),globalThis[wi]||(globalThis[wi]=(0,Zn.Gb)().then(Re=>globalThis[Ui]=Re)),globalThis[Ni]||(globalThis[Ni]=pr().then(Re=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=Re));const Di={async:()=>globalThis[wi],sync:()=>{const Re=globalThis[Ui];if(void 0===Re)throw new Error((Re=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${Re} in the constructor, first ensure that ${Re} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${Re})\`.`)("Messaging"));return Re}};function Qi(Re,Se,Oe){if(Se){if(1===Se.length)return Se[0];const Ut=Se.filter(an=>an.app===Oe);if(1===Ut.length)return Ut[0]}return Oe.container.getProvider(Re).getImmediate({optional:!0})}const Ti=(Re,Se)=>{const Oe=Se?[Se]:(0,C.C6)(),gt=[];return Oe.forEach(kt=>{kt.container.getProvider(Re).instances.forEach(an=>{gt.includes(an)||gt.push(an)})}),gt};function $r(){}class U{constructor(Se,Oe=At.N){this.zone=Se,this.delegate=Oe}now(){return this.delegate.now()}schedule(Se,Oe,gt){const kt=this.zone;return this.delegate.schedule(function(an){kt.runGuarded(()=>{Se.apply(this,[an])})},Oe,gt)}}class W{constructor(Se){this.zone=Se,this.task=null}call(Se,Oe){const gt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$r,{},$r,$r)),Oe.pipe((0,En.b)({next:gt,complete:gt,error:gt})).subscribe(Se).add(gt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ie=(()=>{class Re{constructor(Oe){this.ngZone=Oe,this.outsideAngular=Oe.runOutsideAngular(()=>new U(Zone.current)),this.insideAngular=Oe.run(()=>new U(Zone.current,bt.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Re.\u0275fac=function(Oe){return new(Oe||Re)(a.LFG(a.R0b))},Re.\u0275prov=a.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})();function ge(){const Re=globalThis.\u0275AngularFireScheduler;if(!Re)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Re}function tt(Re){return ge().ngZone.runOutsideAngular(()=>Re())}function et(Re){return ge().ngZone.run(()=>Re())}function sn(Re){return ge(),function(Re){return function(Oe){return(Oe=Oe.lift(new W(Re.ngZone))).pipe((0,un.R)(Re.outsideAngular),(0,Gn.QV)(Re.insideAngular))}}(ge())(Re)}const rr=(Re,Se)=>function(){return Se&&setTimeout(()=>{"scheduled"===Se.state&&Se.invoke()},10),et(()=>Re.apply(void 0,arguments))},Yn=(Re,Se)=>function(){let Oe;for(let kt=0;kt<arguments.length;kt++)"function"==typeof arguments[kt]&&(Se&&(Oe||(Oe=et(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$r,{},$r,$r)))),arguments[kt]=rr(arguments[kt],Oe));const gt=tt(()=>Re.apply(this,arguments));if(!Se){if(gt instanceof qt.y){const kt=ge();return gt.pipe((0,un.R)(kt.outsideAngular),(0,Gn.QV)(kt.insideAngular))}return et(()=>gt)}return gt instanceof qt.y?gt.pipe(sn):gt instanceof Promise?et(()=>new Promise((kt,Ut)=>gt.then(an=>et(()=>kt(an)),an=>et(()=>Ut(an))))):"function"==typeof gt&&Oe?function(){return setTimeout(()=>{Oe&&"scheduled"===Oe.state&&Oe.invoke()},10),gt.apply(this,arguments)}:et(()=>gt)}},576:(rn,ht,F)=>{"use strict";F.d(ht,{$:()=>Wo,A:()=>de,D:()=>Ue,E:()=>G,G:()=>fn,I:()=>Qn,K:()=>xr,L:()=>ge,M:()=>Wt,N:()=>sn,P:()=>mi,Q:()=>$n,R:()=>Xl,T:()=>Vt,U:()=>Se,V:()=>Oe,W:()=>Vn,X:()=>M,Y:()=>ce,Z:()=>Tn,_:()=>Ai,a:()=>bo,a0:()=>Bs,a1:()=>Go,a2:()=>K,a3:()=>z,a4:()=>It,a5:()=>Pn,a6:()=>Zr,a7:()=>yi,a8:()=>Mi,a9:()=>No,aA:()=>qs,aB:()=>gs,aC:()=>xe,aG:()=>br,aJ:()=>Yn,aa:()=>ro,ab:()=>pl,ae:()=>Vs,af:()=>Gl,ag:()=>ui,aj:()=>Vr,ak:()=>Jr,am:()=>Ts,an:()=>Yl,ao:()=>Bn,ap:()=>qe,aq:()=>kr,ar:()=>On,as:()=>_e,at:()=>lc,au:()=>Fc,av:()=>Ie,aw:()=>Je,ax:()=>Me,ay:()=>Ge,az:()=>bu,b:()=>mn,c:()=>fd,d:()=>Es,e:()=>Uo,f:()=>Sa,g:()=>ys,h:()=>ms,i:()=>I,j:()=>_u,k:()=>ko,l:()=>ec,m:()=>cc,o:()=>Q,r:()=>dd,s:()=>Nc,t:()=>ml,u:()=>wo,x:()=>Ji,z:()=>Ce});var a=F(8239),C=F(4213),X=F(1572),He=F(4762),Te=F(3855),he=F(1177);const Q={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ce=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},We=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new C.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new Te.Yd("@firebase/auth");function Ne(D,...m){Be.logLevel<=Te.in.ERROR&&Be.error(`Auth (${X.SDK_VERSION}): ${D}`,...m)}function _e(D,...m){throw Bt(D,...m)}function Ie(D,...m){return Bt(D,...m)}function st(D,m,v){const A=Object.assign(Object.assign({},We()),{[m]:v});return new C.LL("auth","Firebase",A).create(m,{appName:D.name})}function lt(D,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&_e(D,"argument-error"),st(D,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bt(D,...m){if("string"!=typeof D){const v=m[0],A=[...m.slice(1)];return A[0]&&(A[0].appName=D.name),D._errorFactory.create(v,...A)}return ye.create(D,...m)}function Je(D,m,...v){if(!D)throw Bt(m,...v)}function jt(D){const m="INTERNAL ASSERTION FAILED: "+D;throw Ne(m),new Error(m)}function qe(D,m){D||jt(m)}const it=new Map;function Me(D){qe(D instanceof Function,"Expected a class definition");let m=it.get(D);return m?(qe(m instanceof D,"Instance stored in cache mismatched with class"),m):(m=new D,it.set(D,m),m)}function Ue(D,m){const v=(0,X._getProvider)(D,"auth");if(v.isInitialized()){const le=v.getImmediate(),Pe=v.getOptions();if((0,C.vZ)(Pe,null!=m?m:{}))return le;_e(le,"already-initialized")}return v.initialize({options:m})}function nt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Ht(){return"http:"===tn()||"https:"===tn()}function tn(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class _t{constructor(m,v){this.shortDelay=m,this.longDelay=v,qe(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,C.uI)()||(0,C.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ht()||(0,C.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Et(D,m){qe(D.emulator,"Emulator should always be set here");const{url:v}=D.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Kt{static initialize(m,v,A){this.fetchImpl=m,v&&(this.headersImpl=v),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ln={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Pt=new _t(3e4,6e4);function _n(D,m){return D.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:D.tenantId}):m}function Ot(D,m,v,A){return on.apply(this,arguments)}function on(){return(on=(0,a.Z)(function*(D,m,v,A,le={}){return Sr(D,le,(0,a.Z)(function*(){let Pe={},Rt={};A&&("GET"===m?Rt=A:Pe={body:JSON.stringify(A)});const ln=(0,C.xO)(Object.assign({key:D.config.apiKey},Rt)).slice(1),or=yield D._getAdditionalHeaders();return or["Content-Type"]="application/json",D.languageCode&&(or["X-Firebase-Locale"]=D.languageCode),Kt.fetch()(lr(D,D.config.apiHost,v,ln),Object.assign({method:m,headers:or,referrerPolicy:"no-referrer"},Pe))}))})).apply(this,arguments)}function Sr(D,m,v){return ar.apply(this,arguments)}function ar(){return(ar=(0,a.Z)(function*(D,m,v){D._canInitEmulator=!1;const A=Object.assign(Object.assign({},Ln),m);try{const le=new Jn(D),Pe=yield Promise.race([v(),le.promise]);le.clearNetworkTimeout();const Rt=yield Pe.json();if("needConfirmation"in Rt)throw Dr(D,"account-exists-with-different-credential",Rt);if(Pe.ok&&!("errorMessage"in Rt))return Rt;{const ln=Pe.ok?Rt.errorMessage:Rt.error.message,[or,wr]=ln.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===or)throw Dr(D,"credential-already-in-use",Rt);if("EMAIL_EXISTS"===or)throw Dr(D,"email-already-in-use",Rt);const ii=A[or]||or.toLowerCase().replace(/[_\s]+/g,"-");if(wr)throw st(D,ii,wr);_e(D,ii)}}catch(le){if(le instanceof C.ZR)throw le;_e(D,"network-request-failed")}})).apply(this,arguments)}function Dn(D,m,v,A){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,a.Z)(function*(D,m,v,A,le={}){const Pe=yield Ot(D,m,v,A,le);return"mfaPendingCredential"in Pe&&_e(D,"multi-factor-auth-required",{_serverResponse:Pe}),Pe})).apply(this,arguments)}function lr(D,m,v,A){const le=`${m}${v}?${A}`;return D.config.emulator?Et(D.config,le):`${D.config.apiScheme}://${le}`}class Jn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,A)=>{this.timer=setTimeout(()=>A(Ie(this.auth,"timeout")),Pt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dr(D,m,v){const A={appName:D.name};v.email&&(A.email=v.email),v.phoneNumber&&(A.phoneNumber=v.phoneNumber);const le=Ie(D,m,A);return le.customData._tokenResponse=v,le}function pr(){return(pr=(0,a.Z)(function*(D,m){return Ot(D,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Tr(D,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,a.Z)(function*(D,m){return Ot(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function qn(D,m){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,a.Z)(function*(D,m){return Ot(D,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Rn(D){if(D)try{const m=new Date(Number(D));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function gr(){return(gr=(0,a.Z)(function*(D,m=!1){const v=(0,C.m9)(D),A=yield v.getIdToken(m),le=Hn(A);Je(le&&le.exp&&le.auth_time&&le.iat,v.auth,"internal-error");const Pe="object"==typeof le.firebase?le.firebase:void 0,Rt=null==Pe?void 0:Pe.sign_in_provider;return{claims:le,token:A,authTime:Rn(Mt(le.auth_time)),issuedAtTime:Rn(Mt(le.iat)),expirationTime:Rn(Mt(le.exp)),signInProvider:Rt||null,signInSecondFactor:(null==Pe?void 0:Pe.sign_in_second_factor)||null}})).apply(this,arguments)}function Mt(D){return 1e3*Number(D)}function Hn(D){const[m,v,A]=D.split(".");if(void 0===m||void 0===v||void 0===A)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const le=(0,C.tV)(v);return le?JSON.parse(le):(Ne("Failed to decode base64 JWT payload"),null)}catch(le){return Ne("Caught error parsing JWT payload as JSON",le),null}}function yn(D,m){return Er.apply(this,arguments)}function Er(){return(Er=(0,a.Z)(function*(D,m,v=!1){if(v)return m;try{return yield m}catch(A){throw A instanceof C.ZR&&ai(A)&&D.auth.currentUser===D&&(yield D.auth.signOut()),A}})).apply(this,arguments)}function ai({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class Pr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const le=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,le)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const A=this.getInterval(m);this.timerId=setTimeout((0,a.Z)(function*(){yield v.iteration()}),A)}iteration(){var m=this;return(0,a.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&m.schedule(!0))}m.schedule()})()}}class Fr{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rn(this.lastLoginAt),this.creationTime=Rn(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gn(D){return ti.apply(this,arguments)}function ti(){return(ti=(0,a.Z)(function*(D){var m;const v=D.auth,A=yield D.getIdToken(),le=yield yn(D,qn(v,{idToken:A}));Je(null==le?void 0:le.users.length,v,"internal-error");const Pe=le.users[0];D._notifyReloadListener(Pe);const Rt=(null===(m=Pe.providerUserInfo)||void 0===m?void 0:m.length)?St(Pe.providerUserInfo):[],ln=je(D.providerData,Rt),ii=!!D.isAnonymous&&!(D.email&&Pe.passwordHash||(null==ln?void 0:ln.length)),Gi={uid:Pe.localId,displayName:Pe.displayName||null,photoURL:Pe.photoUrl||null,email:Pe.email||null,emailVerified:Pe.emailVerified||!1,phoneNumber:Pe.phoneNumber||null,tenantId:Pe.tenantId||null,providerData:ln,metadata:new Fr(Pe.createdAt,Pe.lastLoginAt),isAnonymous:ii};Object.assign(D,Gi)})).apply(this,arguments)}function Qe(){return(Qe=(0,a.Z)(function*(D){const m=(0,C.m9)(D);yield gn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function je(D,m){return[...D.filter(A=>!m.some(le=>le.providerId===A.providerId)),...m]}function St(D){return D.map(m=>{var{providerId:v}=m,A=(0,He._T)(m,["providerId"]);return{providerId:v,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Jt(){return(Jt=(0,a.Z)(function*(D,m){const v=yield Sr(D,{},(0,a.Z)(function*(){const A=(0,C.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:le,apiKey:Pe}=D.config,Rt=lr(D,le,"/v1/token",`key=${Pe}`),ln=yield D._getAdditionalHeaders();return ln["Content-Type"]="application/x-www-form-urlencoded",Kt.fetch()(Rt,{method:"POST",headers:ln,body:A})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Xt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Je(m.idToken,"internal-error"),Je(void 0!==m.idToken,"internal-error"),Je(void 0!==m.refreshToken,"internal-error");const v="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(D){const m=Hn(D);return Je(m,"internal-error"),Je(void 0!==m.exp,"internal-error"),Je(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var A=this;return(0,a.Z)(function*(){return Je(!A.accessToken||A.refreshToken,m,"user-token-expired"),v||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(m,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var A=this;return(0,a.Z)(function*(){const{accessToken:le,refreshToken:Pe,expiresIn:Rt}=yield function(D,m){return Jt.apply(this,arguments)}(m,v);A.updateTokensAndExpiration(le,Pe,Number(Rt))})()}updateTokensAndExpiration(m,v,A){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(m,v){const{refreshToken:A,accessToken:le,expirationTime:Pe}=v,Rt=new Xt;return A&&(Je("string"==typeof A,"internal-error",{appName:m}),Rt.refreshToken=A),le&&(Je("string"==typeof le,"internal-error",{appName:m}),Rt.accessToken=le),Pe&&(Je("number"==typeof Pe,"internal-error",{appName:m}),Rt.expirationTime=Pe),Rt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Xt,this.toJSON())}_performRefresh(){return jt("not implemented")}}function er(D,m){Je("string"==typeof D||void 0===D,"internal-error",{appName:m})}class Cr{constructor(m){var{uid:v,auth:A,stsTokenManager:le}=m,Pe=(0,He._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=A,this.stsTokenManager=le,this.accessToken=le.accessToken,this.displayName=Pe.displayName||null,this.email=Pe.email||null,this.emailVerified=Pe.emailVerified||!1,this.phoneNumber=Pe.phoneNumber||null,this.photoURL=Pe.photoURL||null,this.isAnonymous=Pe.isAnonymous||!1,this.tenantId=Pe.tenantId||null,this.metadata=new Fr(Pe.createdAt||void 0,Pe.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,a.Z)(function*(){const A=yield yn(v,v.stsTokenManager.getToken(v.auth,m));return Je(A,v.auth,"internal-error"),v.accessToken!==A&&(v.accessToken=A,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),A})()}getIdTokenResult(m){return function(D){return gr.apply(this,arguments)}(this,m)}reload(){return function(D){return Qe.apply(this,arguments)}(this)}_assign(m){this!==m&&(Je(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Cr(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var A=this;return(0,a.Z)(function*(){let le=!1;m.idToken&&m.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(m),le=!0),v&&(yield gn(A)),yield A.auth._persistUserIfCurrent(A),le&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var m=this;return(0,a.Z)(function*(){const v=yield m.getIdToken();return yield yn(m,function(D,m){return pr.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var A,le,Pe,Rt,ln,or,wr,ii;const Gi=null!==(A=v.displayName)&&void 0!==A?A:void 0,Mo=null!==(le=v.email)&&void 0!==le?le:void 0,Ks=null!==(Pe=v.phoneNumber)&&void 0!==Pe?Pe:void 0,Uc=null!==(Rt=v.photoURL)&&void 0!==Rt?Rt:void 0,Cs=null!==(ln=v.tenantId)&&void 0!==ln?ln:void 0,Tl=null!==(or=v._redirectEventId)&&void 0!==or?or:void 0,tl=null!==(wr=v.createdAt)&&void 0!==wr?wr:void 0,mo=null!==(ii=v.lastLoginAt)&&void 0!==ii?ii:void 0,{uid:nl,emailVerified:Ed,isAnonymous:xl,providerData:Qo,stsTokenManager:jc}=v;Je(nl&&jc,m,"internal-error");const ca=Xt.fromJSON(this.name,jc);Je("string"==typeof nl,m,"internal-error"),er(Gi,m.name),er(Mo,m.name),Je("boolean"==typeof Ed,m,"internal-error"),Je("boolean"==typeof xl,m,"internal-error"),er(Ks,m.name),er(Uc,m.name),er(Cs,m.name),er(Tl,m.name),er(tl,m.name),er(mo,m.name);const Ns=new Cr({uid:nl,auth:m,email:Mo,emailVerified:Ed,displayName:Gi,isAnonymous:xl,photoURL:Uc,phoneNumber:Ks,tenantId:Cs,stsTokenManager:ca,createdAt:tl,lastLoginAt:mo});return Qo&&Array.isArray(Qo)&&(Ns.providerData=Qo.map(Cd=>Object.assign({},Cd))),Tl&&(Ns._redirectEventId=Tl),Ns}static _fromIdTokenResponse(m,v,A=!1){return(0,a.Z)(function*(){const le=new Xt;le.updateFromServerResponse(v);const Pe=new Cr({uid:v.localId,auth:m,stsTokenManager:le,isAnonymous:A});return yield gn(Pe),Pe})()}}const xr=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(v,A){var le=this;return(0,a.Z)(function*(){le.storage[v]=A})()}_get(v){var A=this;return(0,a.Z)(function*(){const le=A.storage[v];return void 0===le?null:le})()}_remove(v){var A=this;return(0,a.Z)(function*(){delete A.storage[v]})()}_addListener(v,A){}_removeListener(v,A){}}return D.type="NONE",D})();function Ge(D,m,v){return`firebase:${D}:${m}:${v}`}class $e{constructor(m,v,A){this.persistence=m,this.auth=v,this.userKey=A;const{config:le,name:Pe}=this.auth;this.fullUserKey=Ge(this.userKey,le.apiKey,Pe),this.fullPersistenceKey=Ge("persistence",le.apiKey,Pe),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,a.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?Cr._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,a.Z)(function*(){if(v.persistence===m)return;const A=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,A?v.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,A="authUser"){return(0,a.Z)(function*(){if(!v.length)return new $e(Me(xr),m,A);const le=(yield Promise.all(v.map(function(){var wr=(0,a.Z)(function*(ii){if(yield ii._isAvailable())return ii});return function(ii){return wr.apply(this,arguments)}}()))).filter(wr=>wr);let Pe=le[0]||Me(xr);const Rt=Ge(A,m.config.apiKey,m.name);let ln=null;for(const wr of v)try{const ii=yield wr._get(Rt);if(ii){const Gi=Cr._fromJSON(m,ii);wr!==Pe&&(ln=Gi),Pe=wr;break}}catch(ii){}const or=le.filter(wr=>wr._shouldAllowMigration);return Pe._shouldAllowMigration&&or.length?(Pe=or[0],ln&&(yield Pe._set(Rt,ln.toJSON())),yield Promise.all(v.map(function(){var wr=(0,a.Z)(function*(ii){if(ii!==Pe)try{yield ii._remove(Rt)}catch(Gi){}});return function(ii){return wr.apply(this,arguments)}}())),new $e(Pe,m,A)):new $e(Pe,m,A)})()}}function Xe(D){const m=D.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Wn(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Lt(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Lr(m))return"Blackberry";if(Br(m))return"Webos";if(cn(m))return"Safari";if((m.includes("chrome/")||In(m))&&!m.includes("edge/"))return"Chrome";if(On(m))return"Android";{const A=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function Lt(D=(0,C.z$)()){return/firefox\//i.test(D)}function cn(D=(0,C.z$)()){const m=D.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function In(D=(0,C.z$)()){return/crios\//i.test(D)}function Wn(D=(0,C.z$)()){return/iemobile/i.test(D)}function On(D=(0,C.z$)()){return/android/i.test(D)}function Lr(D=(0,C.z$)()){return/blackberry/i.test(D)}function Br(D=(0,C.z$)()){return/webos/i.test(D)}function kr(D=(0,C.z$)()){return/iphone|ipad|ipod/i.test(D)}function Bn(D=(0,C.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function Gr(D=(0,C.z$)()){return kr(D)||On(D)||Br(D)||Lr(D)||/windows phone/i.test(D)||Wn(D)}function Ct(D,m=[]){let v;switch(D){case"Browser":v=Xe((0,C.z$)());break;case"Worker":v=`${Xe((0,C.z$)())}-${D}`;break;default:v=D}const A=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${X.SDK_VERSION}/${A}`}class nn{constructor(m,v){this.app=m,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J(this),this.idTokenSubscription=new J(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(m,v){var A=this;return v&&(this._popupRedirectResolver=Me(v)),this._initializationPromise=this.queue((0,a.Z)(function*(){var le,Pe;if(!A._deleted&&(A.persistenceManager=yield $e.create(A,m),!A._deleted)){if(null===(le=A._popupRedirectResolver)||void 0===le?void 0:le._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(Rt){}yield A.initializeCurrentUser(v),A.lastNotifiedUid=(null===(Pe=A.currentUser)||void 0===Pe?void 0:Pe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,a.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v)}})()}initializeCurrentUser(m){var v=this;return(0,a.Z)(function*(){var A;let le=yield v.assertedPersistence.getCurrentUser();if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Pe=null===(A=v.redirectUser)||void 0===A?void 0:A._redirectEventId,Rt=null==le?void 0:le._redirectEventId,ln=yield v.tryRedirectSignIn(m);(!Pe||Pe===Rt)&&(null==ln?void 0:ln.user)&&(le=ln.user)}return le?le._redirectEventId?(Je(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===le._redirectEventId?v.directlySetCurrentUser(le):v.reloadAndSetCurrentUserOrClear(le)):v.reloadAndSetCurrentUserOrClear(le):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var v=this;return(0,a.Z)(function*(){let A=null;try{A=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch(le){yield v._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,a.Z)(function*(){try{yield gn(m)}catch(A){if("auth/network-request-failed"!==A.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var m=this;return(0,a.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,a.Z)(function*(){const A=m?(0,C.m9)(m):null;return A&&Je(A.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(A&&A._clone(v))})()}_updateCurrentUser(m){var v=this;return(0,a.Z)(function*(){if(!v._deleted)return m&&Je(v.tenantId===m.tenantId,v,"tenant-id-mismatch"),v.queue((0,a.Z)(function*(){yield v.directlySetCurrentUser(m),v.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,a.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var v=this;return this.queue((0,a.Z)(function*(){yield v.assertedPersistence.setPersistence(Me(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new C.LL("auth","Firebase",m())}onAuthStateChanged(m,v,A){return this.registerStateListener(this.authStateSubscription,m,v,A)}onIdTokenChanged(m,v,A){return this.registerStateListener(this.idTokenSubscription,m,v,A)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var A=this;return(0,a.Z)(function*(){const le=yield A.getOrInitRedirectPersistenceManager(v);return null===m?le.removeCurrentUser():le.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,a.Z)(function*(){if(!v.redirectPersistenceManager){const A=m&&Me(m)||v._popupRedirectResolver;Je(A,v,"argument-error"),v.redirectPersistenceManager=yield $e.create(v,[Me(A._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,a.Z)(function*(){var A,le;return v._isInitialized&&(yield v.queue((0,a.Z)(function*(){}))),(null===(A=v._currentUser)||void 0===A?void 0:A._redirectEventId)===m?v._currentUser:(null===(le=v.redirectUser)||void 0===le?void 0:le._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,a.Z)(function*(){if(m===v.currentUser)return v.queue((0,a.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,A,le){if(this._deleted)return()=>{};const Pe="function"==typeof v?v:v.next.bind(v),Rt=this._isInitialized?Promise.resolve():this._initializationPromise;return Je(Rt,this,"internal-error"),Rt.then(()=>Pe(this.currentUser)),"function"==typeof v?m.addObserver(v,A,le):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,a.Z)(function*(){v.currentUser&&v.currentUser!==m&&(v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh()),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Ct(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,a.Z)(function*(){const v={"X-Client-Version":m.clientVersion};return m.app.options.appId&&(v["X-Firebase-gmpid"]=m.app.options.appId),v})()}}function xe(D){return(0,C.m9)(D)}class J{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,C.ne)(v=>this.observer=v)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function G(D,m,v){const A=xe(D);Je(A._canInitEmulator,A,"emulator-config-failed"),Je(/^https?:\/\//.test(m),A,"invalid-emulator-scheme");const le=!!(null==v?void 0:v.disableWarnings),Pe=De(m),{host:Rt,port:ln}=function(D){const m=De(D),v=/(\/\/)?([^?#/]+)/.exec(D.substr(m.length));if(!v)return{host:"",port:null};const A=v[2].split("@").pop()||"",le=/^(\[[^\]]+\])(:|$)/.exec(A);if(le){const Pe=le[1];return{host:Pe,port:wt(A.substr(Pe.length+1))}}{const[Pe,Rt]=A.split(":");return{host:Pe,port:wt(Rt)}}}(m);A.config.emulator={url:`${Pe}//${Rt}${null===ln?"":`:${ln}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Rt,port:ln,protocol:Pe.replace(":",""),options:Object.freeze({disableWarnings:le})}),le||function(){function D(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function De(D){const m=D.indexOf(":");return m<0?"":D.substr(0,m+1)}function wt(D){if(!D)return null;const m=Number(D);return isNaN(m)?null:m}class fn{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return jt("not implemented")}_getIdTokenResponse(m){return jt("not implemented")}_linkToIdToken(m,v){return jt("not implemented")}_getReauthenticationResolver(m){return jt("not implemented")}}function zn(D,m){return tr.apply(this,arguments)}function tr(){return(tr=(0,a.Z)(function*(D,m){return Ot(D,"POST","/v1/accounts:resetPassword",_n(D,m))})).apply(this,arguments)}function Sn(D,m){return li.apply(this,arguments)}function li(){return(li=(0,a.Z)(function*(D,m){return Ot(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function yt(D,m){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,a.Z)(function*(D,m){return Ot(D,"POST","/v1/accounts:update",_n(D,m))})).apply(this,arguments)}function jr(){return(jr=(0,a.Z)(function*(D,m){return Dn(D,"POST","/v1/accounts:signInWithPassword",_n(D,m))})).apply(this,arguments)}function ri(D,m){return gi.apply(this,arguments)}function gi(){return(gi=(0,a.Z)(function*(D,m){return Ot(D,"POST","/v1/accounts:sendOobCode",_n(D,m))})).apply(this,arguments)}function qr(D,m){return L.apply(this,arguments)}function L(){return(L=(0,a.Z)(function*(D,m){return ri(D,m)})).apply(this,arguments)}function Z(D,m){return Y.apply(this,arguments)}function Y(){return(Y=(0,a.Z)(function*(D,m){return ri(D,m)})).apply(this,arguments)}function se(D,m){return ke.apply(this,arguments)}function ke(){return(ke=(0,a.Z)(function*(D,m){return ri(D,m)})).apply(this,arguments)}function ze(D,m){return vt.apply(this,arguments)}function vt(){return(vt=(0,a.Z)(function*(D,m){return ri(D,m)})).apply(this,arguments)}function bt(){return(bt=(0,a.Z)(function*(D,m){return Dn(D,"POST","/v1/accounts:signInWithEmailLink",_n(D,m))})).apply(this,arguments)}function En(){return(En=(0,a.Z)(function*(D,m){return Dn(D,"POST","/v1/accounts:signInWithEmailLink",_n(D,m))})).apply(this,arguments)}class un extends fn{constructor(m,v,A,le=null){super("password",A),this._email=m,this._password=v,this._tenantId=le}static _fromEmailAndPassword(m,v){return new un(m,v,"password")}static _fromEmailAndCode(m,v,A=null){return new un(m,v,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,a.Z)(function*(){switch(v.signInMethod){case"password":return function(D,m){return jr.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(D,m){return bt.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:_e(m,"internal-error")}})()}_linkToIdToken(m,v){var A=this;return(0,a.Z)(function*(){switch(A.signInMethod){case"password":return Sn(m,{idToken:v,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function(D,m){return En.apply(this,arguments)}(m,{idToken:v,email:A._email,oobCode:A._password});default:_e(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Gn(D,m){return vr.apply(this,arguments)}function vr(){return(vr=(0,a.Z)(function*(D,m){return Dn(D,"POST","/v1/accounts:signInWithIdp",_n(D,m))})).apply(this,arguments)}class Qn extends fn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Qn(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):_e("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:A,signInMethod:le}=v,Pe=(0,He._T)(v,["providerId","signInMethod"]);if(!A||!le)return null;const Rt=new Qn(A,le);return Rt.idToken=Pe.idToken||void 0,Rt.accessToken=Pe.accessToken||void 0,Rt.secret=Pe.secret,Rt.nonce=Pe.nonce,Rt.pendingToken=Pe.pendingToken||null,Rt}_getIdTokenResponse(m){return Gn(m,this.buildRequest())}_linkToIdToken(m,v){const A=this.buildRequest();return A.idToken=v,Gn(m,A)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Gn(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,C.xO)(v)}return m}}function bi(D,m){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(D,m){return Ot(D,"POST","/v1/accounts:sendVerificationCode",_n(D,m))})).apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(D,m){return Dn(D,"POST","/v1/accounts:signInWithPhoneNumber",_n(D,m))})).apply(this,arguments)}function Di(){return(Di=(0,a.Z)(function*(D,m){const v=yield Dn(D,"POST","/v1/accounts:signInWithPhoneNumber",_n(D,m));if(v.temporaryProof)throw Dr(D,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const $o={USER_NOT_FOUND:"user-not-found"};function Qi(){return(Qi=(0,a.Z)(function*(D,m){return Dn(D,"POST","/v1/accounts:signInWithPhoneNumber",_n(D,Object.assign(Object.assign({},m),{operation:"REAUTH"})),$o)})).apply(this,arguments)}class Ti extends fn{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Ti({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Ti({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function(D,m){return wi.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function(D,m){return Di.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(D,m){return Qi.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:A,verificationCode:le}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:A,code:le}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:A,phoneNumber:le,temporaryProof:Pe}=m;return A||v||le||Pe?new Ti({verificationId:v,verificationCode:A,phoneNumber:le,temporaryProof:Pe}):null}}class W{constructor(m){var v,A,le,Pe,Rt,ln;const or=(0,C.zd)((0,C.pd)(m)),wr=null!==(v=or.apiKey)&&void 0!==v?v:null,ii=null!==(A=or.oobCode)&&void 0!==A?A:null,Gi=function(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(le=or.mode)&&void 0!==le?le:null);Je(wr&&ii&&Gi,"argument-error"),this.apiKey=wr,this.operation=Gi,this.code=ii,this.continueUrl=null!==(Pe=or.continueUrl)&&void 0!==Pe?Pe:null,this.languageCode=null!==(Rt=or.languageCode)&&void 0!==Rt?Rt:null,this.tenantId=null!==(ln=or.tenantId)&&void 0!==ln?ln:null}static parseLink(m){const v=function(D){const m=(0,C.zd)((0,C.pd)(D)).link,v=m?(0,C.zd)((0,C.pd)(m)).deep_link_id:null,A=(0,C.zd)((0,C.pd)(D)).deep_link_id;return(A?(0,C.zd)((0,C.pd)(A)).link:null)||A||v||m||D}(m);try{return new W(v)}catch(A){return null}}}let ge=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(v,A){return un._fromEmailAndPassword(v,A)}static credentialWithLink(v,A){const le=W.parseLink(A);return Je(le,"argument-error"),un._fromEmailAndCode(v,le.code,le.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class tt{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class et extends tt{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Vt extends et{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return Je("providerId"in v&&"signInMethod"in v,"argument-error"),Qn._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Je(m.idToken||m.accessToken,"argument-error"),Qn._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Vt.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Vt.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:A,oauthTokenSecret:le,pendingToken:Pe,nonce:Rt,providerId:ln}=m;if(!A&&!le&&!v&&!Pe||!ln)return null;try{return new Vt(ln)._credential({idToken:v,accessToken:A,nonce:Rt,pendingToken:Pe})}catch(or){return null}}}let Wt=(()=>{class D extends et{constructor(){super("facebook.com")}static credential(v){return Qn._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return D.credential(v.oauthAccessToken)}catch(A){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),sn=(()=>{class D extends et{constructor(){super("google.com"),this.addScope("profile")}static credential(v,A){return Qn._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:A})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:A,oauthAccessToken:le}=v;if(!A&&!le)return null;try{return D.credential(A,le)}catch(Pe){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),$n=(()=>{class D extends et{constructor(){super("github.com")}static credential(v){return Qn._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return D.credential(v.oauthAccessToken)}catch(A){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Yn extends fn{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return Gn(m,this.buildRequest())}_linkToIdToken(m,v){const A=this.buildRequest();return A.idToken=v,Gn(m,A)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Gn(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:A,signInMethod:le,pendingToken:Pe}=v;return A&&le&&Pe&&A===le?new Yn(A,Pe):null}static _create(m,v){return new Yn(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Se extends tt{constructor(m){Je(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Se.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Se.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=Yn.fromJSON(m);return Je(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:A}=m;if(!v||!A)return null;try{return Yn._create(A,v)}catch(le){return null}}}let Oe=(()=>{class D extends et{constructor(){super("twitter.com")}static credential(v,A){return Qn._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:A})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:A,oauthTokenSecret:le}=v;if(!A||!le)return null;try{return D.credential(A,le)}catch(Pe){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function gt(D,m){return kt.apply(this,arguments)}function kt(){return(kt=(0,a.Z)(function*(D,m){return Dn(D,"POST","/v1/accounts:signUp",_n(D,m))})).apply(this,arguments)}class Ut{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,A,le=!1){return(0,a.Z)(function*(){const Pe=yield Cr._fromIdTokenResponse(m,A,le),Rt=an(A);return new Ut({user:Pe,providerId:Rt,_tokenResponse:A,operationType:v})})()}static _forOperation(m,v,A){return(0,a.Z)(function*(){yield m._updateTokensIfNecessary(A,!0);const le=an(A);return new Ut({user:m,providerId:le,_tokenResponse:A,operationType:v})})()}}function an(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Vn(D){return sr.apply(this,arguments)}function sr(){return(sr=(0,a.Z)(function*(D){var m;const v=xe(D);if(yield v._initializationPromise,null===(m=v.currentUser)||void 0===m?void 0:m.isAnonymous)return new Ut({user:v.currentUser,providerId:null,operationType:"signIn"});const A=yield gt(v,{returnSecureToken:!0}),le=yield Ut._fromIdTokenResponse(v,"signIn",A,!0);return yield v._updateCurrentUser(le.user),le})).apply(this,arguments)}class _r extends C.ZR{constructor(m,v,A,le){var Pe;super(v.code,v.message),this.operationType=A,this.user=le,Object.setPrototypeOf(this,_r.prototype),this.customData={appName:m.name,tenantId:null!==(Pe=m.tenantId)&&void 0!==Pe?Pe:void 0,_serverResponse:v.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(m,v,A,le){return new _r(m,v,A,le)}}function nr(D,m,v,A){return("reauthenticate"===m?v._getReauthenticationResolver(D):v._getIdTokenResponse(D)).catch(Pe=>{throw"auth/multi-factor-auth-required"===Pe.code?_r._fromErrorAndOperation(D,Pe,m,A):Pe})}function Mr(D){return new Set(D.map(({providerId:m})=>m).filter(m=>!!m))}function Vr(D,m){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,a.Z)(function*(D,m){const v=(0,C.m9)(D);yield V(!0,v,m);const{providerUserInfo:A}=yield Tr(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),le=Mr(A||[]);return v.providerData=v.providerData.filter(Pe=>le.has(Pe.providerId)),le.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function xi(D,m){return Si.apply(this,arguments)}function Si(){return(Si=(0,a.Z)(function*(D,m,v=!1){const A=yield yn(D,m._linkToIdToken(D.auth,yield D.getIdToken()),v);return Ut._forOperation(D,"link",A)})).apply(this,arguments)}function V(D,m,v){return ae.apply(this,arguments)}function ae(){return(ae=(0,a.Z)(function*(D,m,v){yield gn(m);const le=!1===D?"provider-already-linked":"no-such-provider";Je(Mr(m.providerData).has(v)===D,m.auth,le)})).apply(this,arguments)}function $(D,m){return ve.apply(this,arguments)}function ve(){return(ve=(0,a.Z)(function*(D,m,v=!1){const{auth:A}=D,le="reauthenticate";try{const Pe=yield yn(D,nr(A,le,m,D),v);Je(Pe.idToken,A,"internal-error");const Rt=Hn(Pe.idToken);Je(Rt,A,"internal-error");const{sub:ln}=Rt;return Je(D.uid===ln,A,"user-mismatch"),Ut._forOperation(D,le,Pe)}catch(Pe){throw"auth/user-not-found"===(null==Pe?void 0:Pe.code)&&_e(A,"user-mismatch"),Pe}})).apply(this,arguments)}function ct(D,m){return O.apply(this,arguments)}function O(){return(O=(0,a.Z)(function*(D,m,v=!1){const A="signIn",le=yield nr(D,A,m),Pe=yield Ut._fromIdTokenResponse(D,A,le);return v||(yield D._updateCurrentUser(Pe.user)),Pe})).apply(this,arguments)}function M(D,m){return R.apply(this,arguments)}function R(){return(R=(0,a.Z)(function*(D,m){return ct(xe(D),m)})).apply(this,arguments)}function ce(D,m){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,a.Z)(function*(D,m){const v=(0,C.m9)(D);return yield V(!1,v,m.providerId),xi(v,m)})).apply(this,arguments)}function Tn(D,m){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,a.Z)(function*(D,m){return $((0,C.m9)(D),m)})).apply(this,arguments)}function zr(D,m){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,a.Z)(function*(D,m){return Dn(D,"POST","/v1/accounts:signInWithCustomToken",_n(D,m))})).apply(this,arguments)}function Ai(D,m){return fo.apply(this,arguments)}function fo(){return(fo=(0,a.Z)(function*(D,m){const v=xe(D),A=yield zr(v,{token:m,returnSecureToken:!0}),le=yield Ut._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(le.user),le})).apply(this,arguments)}class Oo{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?oo._fromServerResponse(m,v):_e(m,"internal-error")}}class oo extends Oo{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new oo(v)}}function vo(D,m,v){var A;Je((null===(A=v.url)||void 0===A?void 0:A.length)>0,D,"invalid-continue-uri"),Je(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Je(v.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(Je(v.android.packageName.length>0,D,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Wo(D,m,v){return ur.apply(this,arguments)}function ur(){return(ur=(0,a.Z)(function*(D,m,v){const A=(0,C.m9)(D),le={requestType:"PASSWORD_RESET",email:m};v&&vo(A,le,v),yield Z(A,le)})).apply(this,arguments)}function Bs(D,m,v){return $s.apply(this,arguments)}function $s(){return($s=(0,a.Z)(function*(D,m,v){yield zn((0,C.m9)(D),{oobCode:m,newPassword:v})})).apply(this,arguments)}function Go(D,m){return b.apply(this,arguments)}function b(){return(b=(0,a.Z)(function*(D,m){yield yt((0,C.m9)(D),{oobCode:m})})).apply(this,arguments)}function K(D,m){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)(function*(D,m){const v=(0,C.m9)(D),A=yield zn(v,{oobCode:m}),le=A.requestType;switch(Je(le,v,"internal-error"),le){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Je(A.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Je(A.mfaInfo,v,"internal-error");default:Je(A.email,v,"internal-error")}let Pe=null;return A.mfaInfo&&(Pe=Oo._fromServerResponse(xe(v),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:Pe},operation:le}})).apply(this,arguments)}function z(D,m){return ne.apply(this,arguments)}function ne(){return(ne=(0,a.Z)(function*(D,m){const{data:v}=yield K((0,C.m9)(D),m);return v.email})).apply(this,arguments)}function It(D,m,v){return xn.apply(this,arguments)}function xn(){return(xn=(0,a.Z)(function*(D,m,v){const A=xe(D),le=yield gt(A,{returnSecureToken:!0,email:m,password:v}),Pe=yield Ut._fromIdTokenResponse(A,"signIn",le);return yield A._updateCurrentUser(Pe.user),Pe})).apply(this,arguments)}function Pn(D,m,v){return M((0,C.m9)(D),ge.credential(m,v))}function Zr(D,m,v){return ci.apply(this,arguments)}function ci(){return(ci=(0,a.Z)(function*(D,m,v){const A=(0,C.m9)(D),le={requestType:"EMAIL_SIGNIN",email:m};Je(v.handleCodeInApp,A,"argument-error"),v&&vo(A,le,v),yield se(A,le)})).apply(this,arguments)}function yi(D,m){const v=W.parseLink(m);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function Mi(D,m,v){return _o.apply(this,arguments)}function _o(){return(_o=(0,a.Z)(function*(D,m,v){const A=(0,C.m9)(D),le=ge.credentialWithLink(m,v||nt());return Je(le._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),M(A,le)})).apply(this,arguments)}function Xi(D,m){return ds.apply(this,arguments)}function ds(){return(ds=(0,a.Z)(function*(D,m){return Ot(D,"POST","/v1/accounts:createAuthUri",_n(D,m))})).apply(this,arguments)}function No(D,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,a.Z)(function*(D,m){const A={identifier:m,continueUri:Ht()?nt():"http://localhost"},{signinMethods:le}=yield Xi((0,C.m9)(D),A);return le||[]})).apply(this,arguments)}function ro(D,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,a.Z)(function*(D,m){const v=(0,C.m9)(D),le={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};m&&vo(v.auth,le,m);const{email:Pe}=yield qr(v.auth,le);Pe!==D.email&&(yield D.reload())})).apply(this,arguments)}function pl(D,m,v){return es.apply(this,arguments)}function es(){return(es=(0,a.Z)(function*(D,m,v){const A=(0,C.m9)(D),Pe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:m};v&&vo(A.auth,Pe,v);const{email:Rt}=yield ze(A.auth,Pe);Rt!==D.email&&(yield D.reload())})).apply(this,arguments)}function hs(D,m){return va.apply(this,arguments)}function va(){return(va=(0,a.Z)(function*(D,m){return Ot(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Vs(D,m){return gl.apply(this,arguments)}function gl(){return(gl=(0,a.Z)(function*(D,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const A=(0,C.m9)(D),Pe={idToken:yield A.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},Rt=yield yn(A,hs(A.auth,Pe));A.displayName=Rt.displayName||null,A.photoURL=Rt.photoUrl||null;const ln=A.providerData.find(({providerId:or})=>"password"===or);ln&&(ln.displayName=A.displayName,ln.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Rt)})).apply(this,arguments)}function Gl(D,m){return hi((0,C.m9)(D),m,null)}function ui(D,m){return hi((0,C.m9)(D),null,m)}function hi(D,m,v){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,a.Z)(function*(D,m,v){const{auth:A}=D,Pe={idToken:yield D.getIdToken(),returnSecureToken:!0};m&&(Pe.email=m),v&&(Pe.password=v);const Rt=yield yn(D,Sn(A,Pe));yield D._updateTokensIfNecessary(Rt,!0)})).apply(this,arguments)}class vi{constructor(m,v,A={}){this.isNewUser=m,this.providerId=v,this.profile=A}}class _a extends vi{constructor(m,v,A,le){super(m,v,A),this.username=le}}class Us extends vi{constructor(m,v){super(m,"facebook.com",v)}}class ba extends _a{constructor(m,v){super(m,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class za extends vi{constructor(m,v){super(m,"google.com",v)}}class Ci extends _a{constructor(m,v,A){super(m,"twitter.com",v,A)}}function Jr(D){const{user:m,_tokenResponse:v}=D;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(D){var m,v;if(!D)return null;const{providerId:A}=D,le=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},Pe=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!A&&(null==D?void 0:D.idToken)){const Rt=null===(v=null===(m=Hn(D.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(Rt)return new vi(Pe,"anonymous"!==Rt&&"custom"!==Rt?Rt:null)}if(!A)return null;switch(A){case"facebook.com":return new Us(Pe,le);case"github.com":return new ba(Pe,le);case"google.com":return new za(Pe,le);case"twitter.com":return new Ci(Pe,le,D.screenName||null);case"custom":case"anonymous":return new vi(Pe,null);default:return new vi(Pe,A,le)}}(v)}function ml(D,m,v,A){return(0,C.m9)(D).onAuthStateChanged(m,v,A)}function Ji(D){return(0,C.m9)(D).signOut()}class Yo{constructor(m,v){this.type=m,this.credential=v}static _fromIdtoken(m){return new Yo("enroll",m)}static _fromMfaPendingCredential(m){return new Yo("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,A;if(null==m?void 0:m.multiFactorSession){if(null===(v=m.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Yo._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(A=m.multiFactorSession)||void 0===A?void 0:A.idToken)return Yo._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Wa{constructor(m,v,A){this.session=m,this.hints=v,this.signInResolver=A}static _fromError(m,v){const A=xe(m),le=v.customData._serverResponse,Pe=(le.mfaInfo||[]).map(ln=>Oo._fromServerResponse(A,ln));Je(le.mfaPendingCredential,A,"internal-error");const Rt=Yo._fromMfaPendingCredential(le.mfaPendingCredential);return new Wa(Rt,Pe,function(){var ln=(0,a.Z)(function*(or){const wr=yield or._process(A,Rt);delete le.mfaInfo,delete le.mfaPendingCredential;const ii=Object.assign(Object.assign({},le),{idToken:wr.idToken,refreshToken:wr.refreshToken});switch(v.operationType){case"signIn":const Gi=yield Ut._fromIdTokenResponse(A,v.operationType,ii);return yield A._updateCurrentUser(Gi.user),Gi;case"reauthenticate":return Je(v.user,A,"internal-error"),Ut._forOperation(v.user,v.operationType,ii);default:_e(A,"internal-error")}});return function(or){return ln.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,a.Z)(function*(){return v.signInResolver(m)})()}}function Ts(D,m){var v;const A=(0,C.m9)(D),le=m;return Je(m.customData.operationType,A,"argument-error"),Je(null===(v=le.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,A,"argument-error"),Wa._fromError(A,le)}function Rc(D,m){return Ot(D,"POST","/v2/accounts/mfaEnrollment:start",_n(D,m))}class Ea{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(A=>Oo._fromServerResponse(m.auth,A)))})}static _fromUser(m){return new Ea(m)}getSession(){var m=this;return(0,a.Z)(function*(){return Yo._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,v){var A=this;return(0,a.Z)(function*(){const le=m,Pe=yield A.getSession(),Rt=yield yn(A.user,le._process(A.user.auth,Pe,v));return yield A.user._updateTokensIfNecessary(Rt),A.user.reload()})()}unenroll(m){var v=this;return(0,a.Z)(function*(){const A="string"==typeof m?m:m.uid,le=yield v.user.getIdToken(),Pe=yield yn(v.user,function(D,m){return Ot(D,"POST","/v2/accounts/mfaEnrollment:withdraw",_n(D,m))}(v.user.auth,{idToken:le,mfaEnrollmentId:A}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Rt})=>Rt!==A),yield v.user._updateTokensIfNecessary(Pe);try{yield v.user.reload()}catch(Rt){if("auth/user-token-expired"!==Rt.code)throw Rt}})()}}const js=new WeakMap;function Yl(D){const m=(0,C.m9)(D);return js.has(m)||js.set(m,Ea._fromUser(m)),js.get(m)}const Ca="__sak";class ki{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Ca,"1"),this.storage.removeItem(Ca),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const mn=(()=>{class D extends ki{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,A)=>this.onStorageEvent(v,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const D=(0,C.z$)();return cn(D)||kr(D)}()&&function(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=Gr(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const A of Object.keys(this.listeners)){const le=this.storage.getItem(A),Pe=this.localCache[A];le!==Pe&&v(A,Pe,le)}}onStorageEvent(v,A=!1){if(!v.key)return void this.forAllChangedKeys((ln,or,wr)=>{this.notifyListeners(ln,wr)});const le=v.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ln=this.storage.getItem(le);if(v.newValue!==ln)null!==v.newValue?this.storage.setItem(le,v.newValue):this.storage.removeItem(le);else if(this.localCache[le]===v.newValue&&!A)return}const Pe=()=>{const ln=this.storage.getItem(le);!A&&this.localCache[le]===ln||this.notifyListeners(le,ln)},Rt=this.storage.getItem(le);(0,C.w1)()&&10===document.documentMode&&Rt!==v.newValue&&v.newValue!==v.oldValue?setTimeout(Pe,10):Pe()}notifyListeners(v,A){this.localCache[v]=A;const le=this.listeners[v];if(le)for(const Pe of Array.from(le))Pe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,A,le)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:A,newValue:le}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,A){var le=()=>super._set,Pe=this;return(0,a.Z)(function*(){yield le().call(Pe,v,A),Pe.localCache[v]=JSON.stringify(A)})()}_get(v){var A=()=>super._get,le=this;return(0,a.Z)(function*(){const Pe=yield A().call(le,v);return le.localCache[v]=JSON.stringify(Pe),Pe})()}_remove(v){var A=()=>super._remove,le=this;return(0,a.Z)(function*(){yield A().call(le,v),delete le.localCache[v]})()}}return D.type="LOCAL",D})(),bo=(()=>{class D extends ki{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,A){}_removeListener(v,A){}}return D.type="SESSION",D})();let jn=(()=>{class D{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const A=this.receivers.find(Pe=>Pe.isListeningto(v));if(A)return A;const le=new D(v);return this.receivers.push(le),le}isListeningto(v){return this.eventTarget===v}handleEvent(v){var A=this;return(0,a.Z)(function*(){const le=v,{eventId:Pe,eventType:Rt,data:ln}=le.data,or=A.handlersMap[Rt];if(!(null==or?void 0:or.size))return;le.ports[0].postMessage({status:"ack",eventId:Pe,eventType:Rt});const wr=Array.from(or).map(function(){var Gi=(0,a.Z)(function*(Mo){return Mo(le.origin,ln)});return function(Mo){return Gi.apply(this,arguments)}}()),ii=yield function(D){return Promise.all(D.map(function(){var m=(0,a.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(A){return{fulfilled:!1,reason:A}}});return function(v){return m.apply(this,arguments)}}()))}(wr);le.ports[0].postMessage({status:"done",eventId:Pe,eventType:Rt,response:ii})})()}_subscribe(v,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(A)}_unsubscribe(v,A){this.handlersMap[v]&&A&&this.handlersMap[v].delete(A),(!A||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function br(D="",m=10){let v="";for(let A=0;A<m;A++)v+=Math.floor(10*Math.random());return D+v}class Ga{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,A=50){var le=this;return(0,a.Z)(function*(){const Pe="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Pe)throw new Error("connection_unavailable");let Rt,ln;return new Promise((or,wr)=>{const ii=br("",20);Pe.port1.start();const Gi=setTimeout(()=>{wr(new Error("unsupported_event"))},A);ln={messageChannel:Pe,onMessage(Mo){const Ks=Mo;if(Ks.data.eventId===ii)switch(Ks.data.status){case"ack":clearTimeout(Gi),Rt=setTimeout(()=>{wr(new Error("timeout"))},3e3);break;case"done":clearTimeout(Rt),or(Ks.data.response);break;default:clearTimeout(Gi),clearTimeout(Rt),wr(new Error("invalid_response"))}}},le.handlers.add(ln),Pe.port1.addEventListener("message",ln.onMessage),le.target.postMessage({eventType:m,eventId:ii,data:v},[Pe.port2])}).finally(()=>{ln&&le.removeMessageHandler(ln)})})()}}function bn(){return window}function vn(){return void 0!==bn().WorkerGlobalScope&&"function"==typeof bn().importScripts}function ps(){return(ps=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const qa="firebaseLocalStorageDb",Kl="firebaseLocalStorage",_l="fbase_key";class Ii{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Zl(D,m){return D.transaction([Kl],m?"readwrite":"readonly").objectStore(Kl)}function ws(){const D=indexedDB.open(qa,1);return new Promise((m,v)=>{D.addEventListener("error",()=>{v(D.error)}),D.addEventListener("upgradeneeded",()=>{const A=D.result;try{A.createObjectStore(Kl,{keyPath:_l})}catch(le){v(le)}}),D.addEventListener("success",(0,a.Z)(function*(){const A=D.result;A.objectStoreNames.contains(Kl)?m(A):(A.close(),yield function(){const D=indexedDB.deleteDatabase(qa);return new Ii(D).toPromise()}(),m(yield ws()))}))})}function Ss(D,m,v){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(D,m,v){const A=Zl(D,!0).put({[_l]:m,value:v});return new Ii(A).toPromise()})).apply(this,arguments)}function ns(){return(ns=(0,a.Z)(function*(D,m){const v=Zl(D,!1).get(m),A=yield new Ii(v).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function dr(D,m){const v=Zl(D,!0).delete(m);return new Ii(v).toPromise()}const I=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,a.Z)(function*(){return v.db||(v.db=yield ws()),v.db})()}_withRetries(v){var A=this;return(0,a.Z)(function*(){let le=0;for(;;)try{const Pe=yield A._openDb();return yield v(Pe)}catch(Pe){if(le++>3)throw Pe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,a.Z)(function*(){return vn()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,a.Z)(function*(){v.receiver=jn._getInstance(vn()?self:null),v.receiver._subscribe("keyChanged",function(){var A=(0,a.Z)(function*(le,Pe){return{keyProcessed:(yield v._poll()).includes(Pe.key)}});return function(le,Pe){return A.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var A=(0,a.Z)(function*(le,Pe){return["keyChanged"]});return function(le,Pe){return A.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,a.Z)(function*(){var A,le;if(v.activeServiceWorker=yield function(){return ps.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Ga(v.activeServiceWorker);const Pe=yield v.sender._send("ping",{},800);!Pe||(null===(A=Pe[0])||void 0===A?void 0:A.fulfilled)&&(null===(le=Pe[0])||void 0===le?void 0:le.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var A=this;return(0,a.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:v},A.serviceWorkerReceiverAvailable?800:50)}catch(le){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const v=yield ws();return yield Ss(v,Ca,"1"),yield dr(v,Ca),!0}catch(v){}return!1})()}_withPendingWrite(v){var A=this;return(0,a.Z)(function*(){A.pendingWrites++;try{yield v()}finally{A.pendingWrites--}})()}_set(v,A){var le=this;return(0,a.Z)(function*(){return le._withPendingWrite((0,a.Z)(function*(){return yield le._withRetries(Pe=>Ss(Pe,v,A)),le.localCache[v]=A,le.notifyServiceWorker(v)}))})()}_get(v){var A=this;return(0,a.Z)(function*(){const le=yield A._withRetries(Pe=>function(D,m){return ns.apply(this,arguments)}(Pe,v));return A.localCache[v]=le,le})()}_remove(v){var A=this;return(0,a.Z)(function*(){return A._withPendingWrite((0,a.Z)(function*(){return yield A._withRetries(le=>dr(le,v)),delete A.localCache[v],A.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,a.Z)(function*(){const A=yield v._withRetries(Rt=>{const ln=Zl(Rt,!1).getAll();return new Ii(ln).toPromise()});if(!A)return[];if(0!==v.pendingWrites)return[];const le=[],Pe=new Set;for(const{fbase_key:Rt,value:ln}of A)Pe.add(Rt),JSON.stringify(v.localCache[Rt])!==JSON.stringify(ln)&&(v.notifyListeners(Rt,ln),le.push(Rt));for(const Rt of Object.keys(v.localCache))v.localCache[Rt]&&!Pe.has(Rt)&&(v.notifyListeners(Rt,null),le.push(Rt));return le})()}notifyListeners(v,A){this.localCache[v]=A;const le=this.listeners[v];if(le)for(const Pe of Array.from(le))Pe(A)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function B(D,m){return Ot(D,"POST","/v2/accounts/mfaSignIn:start",_n(D,m))}function Fe(){return(Fe=(0,a.Z)(function*(D){return(yield Ot(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Gt(D){return new Promise((m,v)=>{const A=document.createElement("script");A.setAttribute("src",D),A.onload=m,A.onerror=le=>{const Pe=Ie("internal-error");Pe.customData=le,v(Pe)},A.type="text/javascript",A.charset="UTF-8",function(){var D,m;return null!==(m=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==m?m:document}().appendChild(A)})}function kn(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Ir=1e12;class si{constructor(m){this.auth=m,this.counter=Ir,this._widgets=new Map}render(m,v){const A=this.counter;return this._widgets.set(A,new so(m,this.auth.name,v||{})),this.counter++,A}reset(m){var v;const A=m||Ir;null===(v=this._widgets.get(A))||void 0===v||v.delete(),this._widgets.delete(A)}getResponse(m){var v;return(null===(v=this._widgets.get(m||Ir))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,a.Z)(function*(){var A;return null===(A=v._widgets.get(m||Ir))||void 0===A||A.execute(),""})()}}class so{constructor(m,v,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const le="string"==typeof m?document.getElementById(m):m;Je(le,"argument-error",{appName:v}),this.container=le,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(D){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<50;A++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}();const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hi=kn("rcb"),So=new _t(3e4,6e4);class Ao{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!bn().grecaptcha}load(m,v=""){return Je((D=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(bn().grecaptcha):new Promise((A,le)=>{const Pe=bn().setTimeout(()=>{le(Ie(m,"network-request-failed"))},So.get());bn()[Hi]=()=>{bn().clearTimeout(Pe),delete bn()[Hi];const ln=bn().grecaptcha;if(!ln)return void le(Ie(m,"internal-error"));const or=ln.render;ln.render=(wr,ii)=>{const Gi=or(wr,ii);return this.counter++,Gi},this.hostLanguage=v,A(ln)},Gt(`https://www.google.com/recaptcha/api.js??${(0,C.xO)({onload:Hi,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(Pe),le(Ie(m,"internal-error"))})});var D}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!bn().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class As{load(m){return(0,a.Z)(function*(){return new si(m)})()}clearedOneInstance(){}}const Ri="recaptcha",Ql={theme:"light",type:"image"};class Xl{constructor(m,v=Object.assign({},Ql),A){this.parameters=v,this.type=Ri,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xe(A),this.isInvisible="invisible"===this.parameters.size,Je("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const le="string"==typeof m?document.getElementById(m):m;Je(le,this.auth,"argument-error"),this.container=le,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new As:new Ao,this.validateStartingState()}verify(){var m=this;return(0,a.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),A=m.getAssertedRecaptcha();return A.getResponse(v)||new Promise(Pe=>{const Rt=ln=>{!ln||(m.tokenChangeListeners.delete(Rt),Pe(ln))};m.tokenChangeListeners.add(Rt),m.isInvisible&&A.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Je(!this.parameters.sitekey,this.auth,"argument-error"),Je(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Je("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(A=>A(v)),"function"==typeof m)m(v);else if("string"==typeof m){const A=bn()[m];"function"==typeof A&&A(v)}}}assertNotDestroyed(){Je(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,a.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const A=document.createElement("div");v.appendChild(A),v=A}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,a.Z)(function*(){Je(Ht()&&!vn(),m.auth,"internal-error"),yield function(){let D=null;return new Promise(m=>{"complete"!==document.readyState?(D=()=>m(),window.addEventListener("load",D)):m()}).catch(m=>{throw D&&window.removeEventListener("load",D),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function(D){return Fe.apply(this,arguments)}(m.auth);Je(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return Je(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Oc{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Ti._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function Nc(D,m,v){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,a.Z)(function*(D,m,v){const A=xe(D),le=yield oa(A,m,(0,C.m9)(v));return new Oc(le,Pe=>M(A,Pe))})).apply(this,arguments)}function ec(D,m,v){return zs.apply(this,arguments)}function zs(){return(zs=(0,a.Z)(function*(D,m,v){const A=(0,C.m9)(D);yield V(!1,A,"phone");const le=yield oa(A.auth,m,(0,C.m9)(v));return new Oc(le,Pe=>ce(A,Pe))})).apply(this,arguments)}function dd(D,m,v){return eo.apply(this,arguments)}function eo(){return(eo=(0,a.Z)(function*(D,m,v){const A=(0,C.m9)(D),le=yield oa(A.auth,m,(0,C.m9)(v));return new Oc(le,Pe=>Tn(A,Pe))})).apply(this,arguments)}function oa(D,m,v){return is.apply(this,arguments)}function is(){return(is=(0,a.Z)(function*(D,m,v){var A;const le=yield v.verify();try{let Pe;if(Je("string"==typeof le,D,"argument-error"),Je(v.type===Ri,D,"argument-error"),Pe="string"==typeof m?{phoneNumber:m}:m,"session"in Pe){const Rt=Pe.session;if("phoneNumber"in Pe)return Je("enroll"===Rt.type,D,"internal-error"),(yield Rc(D,{idToken:Rt.credential,phoneEnrollmentInfo:{phoneNumber:Pe.phoneNumber,recaptchaToken:le}})).phoneSessionInfo.sessionInfo;{Je("signin"===Rt.type,D,"internal-error");const ln=(null===(A=Pe.multiFactorHint)||void 0===A?void 0:A.uid)||Pe.multiFactorUid;return Je(ln,D,"missing-multi-factor-info"),(yield B(D,{mfaPendingCredential:Rt.credential,mfaEnrollmentId:ln,phoneSignInInfo:{recaptchaToken:le}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Rt}=yield bi(D,{phoneNumber:Pe.phoneNumber,recaptchaToken:le});return Rt}}finally{v._reset()}})).apply(this,arguments)}function wo(D,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,a.Z)(function*(D,m){yield xi((0,C.m9)(D),m)})).apply(this,arguments)}let mi=(()=>{class D{constructor(v){this.providerId=D.PROVIDER_ID,this.auth=xe(v)}verifyPhoneNumber(v,A){return oa(this.auth,v,(0,C.m9)(A))}static credential(v,A){return Ti._fromVerification(v,A)}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:A,temporaryProof:le}=v;return A&&le?Ti._fromTokenResponse(A,le):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Vo(D,m){return m?Me(m):(Je(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class tc extends fn{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Gn(m,this._buildIdpRequest())}_linkToIdToken(m,v){return Gn(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return Gn(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function sa(D){return ct(D.auth,new tc(D),D.bypassAuthState)}function nc(D){const{auth:m,user:v}=D;return Je(v,m,"internal-error"),$(v,new tc(D),D.bypassAuthState)}function rc(D){return wl.apply(this,arguments)}function wl(){return(wl=(0,a.Z)(function*(D){const{auth:m,user:v}=D;return Je(v,m,"internal-error"),xi(v,new tc(D),D.bypassAuthState)})).apply(this,arguments)}class Wi{constructor(m,v,A,le,Pe=!1){this.auth=m,this.resolver=A,this.user=le,this.bypassAuthState=Pe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,a.Z)(function*(A,le){m.pendingPromise={resolve:A,reject:le};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(Pe){m.reject(Pe)}});return function(A,le){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,a.Z)(function*(){const{urlResponse:A,sessionId:le,postBody:Pe,tenantId:Rt,error:ln,type:or}=m;if(ln)return void v.reject(ln);const wr={auth:v.auth,requestUri:A,sessionId:le,tenantId:Rt||void 0,postBody:Pe||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(or)(wr))}catch(ii){v.reject(ii)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return sa;case"linkViaPopup":case"linkViaRedirect":return rc;case"reauthViaPopup":case"reauthViaRedirect":return nc;default:_e(this.auth,"internal-error")}}resolve(m){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hd=new _t(2e3,1e4);function fd(D,m,v){return El.apply(this,arguments)}function El(){return(El=(0,a.Z)(function*(D,m,v){const A=xe(D);lt(D,m,tt);const le=Vo(A,v);return new ks(A,"signInViaPopup",m,le).executeNotNull()})).apply(this,arguments)}function Uo(D,m,v){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,a.Z)(function*(D,m,v){const A=(0,C.m9)(D);lt(A.auth,m,tt);const le=Vo(A.auth,v);return new ks(A.auth,"reauthViaPopup",m,le,A).executeNotNull()})).apply(this,arguments)}function Es(D,m,v){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,a.Z)(function*(D,m,v){const A=(0,C.m9)(D);lt(A.auth,m,tt);const le=Vo(A.auth,v);return new ks(A.auth,"linkViaPopup",m,le,A).executeNotNull()})).apply(this,arguments)}let ks=(()=>{class D extends Wi{constructor(v,A,le,Pe,Rt){super(v,A,Pe,Rt),this.provider=le,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var v=this;return(0,a.Z)(function*(){const A=yield v.execute();return Je(A,v.auth,"internal-error"),A})()}onExecution(){var v=this;return(0,a.Z)(function*(){qe(1===v.filter.length,"Popup operations only handle one event");const A=br();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],A),v.authWindow.associatedEvent=A,v.resolver._originValidation(v.auth).catch(le=>{v.reject(le)}),v.resolver._isIframeWebStorageSupported(v.auth,le=>{le||v.reject(Ie(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const v=()=>{var A,le;this.pollId=(null===(le=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===le?void 0:le.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,hd.get())};v()}}return D.currentPopupAction=null,D})();const Da=new Map;class Ta extends Wi{constructor(m,v,A=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,A),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,a.Z)(function*(){let A=Da.get(v.auth._key());if(!A){try{const Pe=(yield function(D,m){return vu.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;A=()=>Promise.resolve(Pe)}catch(le){A=()=>Promise.reject(le)}Da.set(v.auth._key(),A)}return v.bypassAuthState||Da.set(v.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,A=this;return(0,a.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(A,m);if("unknown"!==m.type){if(m.eventId){const le=yield A.auth._redirectUserForId(m.eventId);if(le)return A.user=le,v().call(A,m);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function vu(){return(vu=(0,a.Z)(function*(D,m){const v=Lo(m),A=ic(D);if(!(yield A._isAvailable()))return!1;const le="true"===(yield A._get(v));return yield A._remove(v),le})).apply(this,arguments)}function xa(D,m){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,a.Z)(function*(D,m){return ic(D)._set(Lo(m),"true")})).apply(this,arguments)}function gs(){Da.clear()}function ic(D){return Me(D._redirectPersistence)}function Lo(D){return Ge("pendingRedirect",D.config.apiKey,D.name)}function Sa(D,m,v){return function(D,m,v){return $i.apply(this,arguments)}(D,m,v)}function $i(){return($i=(0,a.Z)(function*(D,m,v){const A=xe(D);lt(D,m,tt);const le=Vo(A,v);return yield xa(le,A),le._openRedirect(A,m,"signInViaRedirect")})).apply(this,arguments)}function ms(D,m,v){return function(D,m,v){return Ms.apply(this,arguments)}(D,m,v)}function Ms(){return(Ms=(0,a.Z)(function*(D,m,v){const A=(0,C.m9)(D);lt(A.auth,m,tt);const le=Vo(A.auth,v);yield xa(le,A.auth);const Pe=yield oc(A);return le._openRedirect(A.auth,m,"reauthViaRedirect",Pe)})).apply(this,arguments)}function ys(D,m,v){return function(D,m,v){return os.apply(this,arguments)}(D,m,v)}function os(){return(os=(0,a.Z)(function*(D,m,v){const A=(0,C.m9)(D);lt(A.auth,m,tt);const le=Vo(A.auth,v);yield V(!1,A,m.providerId),yield xa(le,A.auth);const Pe=yield oc(A);return le._openRedirect(A.auth,m,"linkViaRedirect",Pe)})).apply(this,arguments)}function _u(D,m){return zi.apply(this,arguments)}function zi(){return(zi=(0,a.Z)(function*(D,m){return yield xe(D)._initializationPromise,qs(D,m,!1)})).apply(this,arguments)}function qs(D,m){return ka.apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(D,m,v=!1){const A=xe(D),le=Vo(A,m),Rt=yield new Ta(A,le,v).execute();return Rt&&!v&&(delete Rt.user._redirectEventId,yield A._persistUserIfCurrent(Rt.user),yield A._setRedirectUser(null,m)),Rt})).apply(this,arguments)}function oc(D){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,a.Z)(function*(D){const m=br(`${D.uid}:::`);return D._redirectEventId=m,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),m})).apply(this,arguments)}class bu{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(m,A)&&(v=!0,this.sendToConsumer(m,A),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Il(D);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var A;if(m.error&&!Il(m)){const le=(null===(A=m.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";v.onError(Ie(this.auth,le))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const A=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&A}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sc(m))}saveEventToCache(m){this.cachedEventUids.add(sc(m)),this.lastProcessedEventTime=Date.now()}}function sc(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(m=>m).join("-")}function Il({type:D,error:m}){return"unknown"===D&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Fc(D){return vs.apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(D,m={}){return Ot(D,"GET","/v1/projects",m)})).apply(this,arguments)}const Ma=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lc=/^https?/;function Xa(){return(Xa=(0,a.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:m}=yield Fc(D);for(const v of m)try{if(Ja(v))return}catch(A){}_e(D,"unauthorized-domain")})).apply(this,arguments)}function Ja(D){const m=nt(),{protocol:v,hostname:A}=new URL(m);if(D.startsWith("chrome-extension://")){const Rt=new URL(D);return""===Rt.hostname&&""===A?"chrome-extension:"===v&&D.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&Rt.hostname===A}if(!Lc.test(v))return!1;if(Ma.test(D))return A===D;const le=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+le+"|"+le+")$","i").test(A)}const gd=new _t(3e4,6e4);function wu(){const D=bn().___jsl;if(null==D?void 0:D.H)for(const m of Object.keys(D.H))if(D.H[m].r=D.H[m].r||[],D.H[m].L=D.H[m].L||[],D.H[m].r=[...D.H[m].L],D.CP)for(let v=0;v<D.CP.length;v++)D.CP[v]=null}let Ps=null;function Eu(D){return Ps=Ps||function(D){return new Promise((m,v)=>{var A,le,Pe;function Rt(){wu(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{wu(),v(Ie(D,"network-request-failed"))},timeout:gd.get()})}if(null===(le=null===(A=bn().gapi)||void 0===A?void 0:A.iframes)||void 0===le?void 0:le.Iframe)m(gapi.iframes.getContext());else{if(!(null===(Pe=bn().gapi)||void 0===Pe?void 0:Pe.load)){const ln=kn("iframefcb");return bn()[ln]=()=>{gapi.load?Rt():v(Ie(D,"network-request-failed"))},Gt(`https://apis.google.com/js/api.js?onload=${ln}`).catch(or=>v(or))}Rt()}}).catch(m=>{throw Ps=null,m})}(D),Ps}const Eo=new _t(5e3,15e3),md={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$c=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yd(D){const m=D.config;Je(m.authDomain,D,"auth-domain-config-required");const v=m.emulator?Et(m,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,A={apiKey:m.apiKey,appName:D.name,v:X.SDK_VERSION},le=$c.get(D.config.apiHost);le&&(A.eid=le);const Pe=D._getFrameworks();return Pe.length&&(A.fw=Pe.join(",")),`${v}?${(0,C.xO)(A).slice(1)}`}function el(){return el=(0,a.Z)(function*(D){const m=yield Eu(D),v=bn().gapi;return Je(v,D,"internal-error"),m.open({where:document.body,url:yd(D),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:md,dontclear:!0},A=>new Promise(function(){var le=(0,a.Z)(function*(Pe,Rt){yield A.restyle({setHideOnLeave:!1});const ln=Ie(D,"network-request-failed"),or=bn().setTimeout(()=>{Rt(ln)},Eo.get());function wr(){bn().clearTimeout(or),Pe(A)}A.ping(wr).then(wr,()=>{Rt(ln)})});return function(Pe,Rt){return le.apply(this,arguments)}}()))}),el.apply(this,arguments)}const Pa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class la{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function lc(D,m,v,A,le,Pe){Je(D.config.authDomain,D,"auth-domain-config-required"),Je(D.config.apiKey,D,"invalid-api-key");const Rt={apiKey:D.config.apiKey,appName:D.name,authType:v,redirectUrl:A,v:X.SDK_VERSION,eventId:le};if(m instanceof tt){m.setDefaultLanguage(D.languageCode),Rt.providerId=m.providerId||"",(0,C.xb)(m.getCustomParameters())||(Rt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[or,wr]of Object.entries(Pe||{}))Rt[or]=wr}if(m instanceof et){const or=m.getScopes().filter(wr=>""!==wr);or.length>0&&(Rt.scopes=or.join(","))}D.tenantId&&(Rt.tid=D.tenantId);const ln=Rt;for(const or of Object.keys(ln))void 0===ln[or]&&delete ln[or];return`${function({config:D}){return D.emulator?Et(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,C.xO)(ln).slice(1)}`}const lo="webStorageSupport",ko=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bo,this._completeRedirectFn=qs}_openPopup(m,v,A,le){var Pe=this;return(0,a.Z)(function*(){var Rt;qe(null===(Rt=Pe.eventManagers[m._key()])||void 0===Rt?void 0:Rt.manager,"_initialize() not called before _openPopup()");const ln=lc(m,v,A,nt(),le);return function(D,m,v,A=500,le=600){const Pe=Math.max((window.screen.availHeight-le)/2,0).toString(),Rt=Math.max((window.screen.availWidth-A)/2,0).toString();let ln="";const or=Object.assign(Object.assign({},Pa),{width:A.toString(),height:le.toString(),top:Pe,left:Rt}),wr=(0,C.z$)().toLowerCase();v&&(ln=In(wr)?"_blank":v),Lt(wr)&&(m=m||"http://localhost",or.scrollbars="yes");const ii=Object.entries(or).reduce((Mo,[Ks,Uc])=>`${Mo}${Ks}=${Uc},`,"");if(function(D=(0,C.z$)()){var m;return kr(D)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(wr)&&"_self"!==ln)return function(D,m){const v=document.createElement("a");v.href=D,v.target=m;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(A)}(m||"",ln),new la(null);const Gi=window.open(m||"",ln,ii);Je(Gi,D,"popup-blocked");try{Gi.focus()}catch(Mo){}return new la(Gi)}(m,ln,br())})()}_openRedirect(m,v,A,le){var Pe=this;return(0,a.Z)(function*(){return yield Pe._originValidation(m),D=lc(m,v,A,nt(),le),bn().location.href=D,new Promise(()=>{});var D})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:le,promise:Pe}=this.eventManagers[v];return le?Promise.resolve(le):(qe(Pe,"If manager is not set, promise should be"),Pe)}const A=this.initAndGetManager(m);return this.eventManagers[v]={promise:A},A.catch(()=>{delete this.eventManagers[v]}),A}initAndGetManager(m){var v=this;return(0,a.Z)(function*(){const A=yield function(D){return el.apply(this,arguments)}(m),le=new bu(m);return A.register("authEvent",Pe=>(Je(null==Pe?void 0:Pe.authEvent,m,"invalid-auth-event"),{status:le.onEvent(Pe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:le},v.iframes[m._key()]=A,le})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(lo,{type:lo},le=>{var Pe;const Rt=null===(Pe=null==le?void 0:le[0])||void 0===Pe?void 0:Pe[lo];void 0!==Rt&&v(!!Rt),_e(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(D){return Xa.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return Gr()||cn()||kr()}};class Os extends class{constructor(m){this.factorId=m}_process(m,v,A){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,A);case"signin":return this._finalizeSignIn(m,v.credential);default:return jt("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Os(m)}_finalizeEnroll(m,v,A){return function(D,m){return Ot(D,"POST","/v2/accounts/mfaEnrollment:finalize",_n(D,m))}(m,{idToken:v,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function(D,m){return Ot(D,"POST","/v2/accounts/mfaSignIn:finalize",_n(D,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cc=(()=>{class D{constructor(){}static assertion(v){return Os._fromCredential(v)}}return D.FACTOR_ID="phone",D})();var D,_s="@firebase/auth";class Iu{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,a.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(A=>{var le;m((null===(le=A)||void 0===le?void 0:le.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);!v||(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}D="Browser",(0,X._registerComponent)(new he.wA("auth",(m,{options:v})=>{const A=m.getProvider("app").getImmediate(),{apiKey:le,authDomain:Pe}=A.options;return(Rt=>{Je(le&&!le.includes(":"),"invalid-api-key",{appName:Rt.name}),Je(!(null==Pe?void 0:Pe.includes(":")),"argument-error",{appName:Rt.name});const ln={apiKey:le,authDomain:Pe,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ct(D)},or=new nn(Rt,ln);return function(D,m){const v=(null==m?void 0:m.persistence)||[],A=(Array.isArray(v)?v:[v]).map(Me);(null==m?void 0:m.errorMap)&&D._updateErrorMap(m.errorMap),D._initializeWithPersistence(A,null==m?void 0:m.popupRedirectResolver)}(or,v),or})(A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,A)=>{m.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new he.wA("auth-internal",m=>{const v=xe(m.getProvider("auth").getImmediate());return new Iu(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)(_s,"0.19.4",void 0),(0,X.registerVersion)(_s,"0.19.4","esm2017")},5023:(rn,ht,F)=>{"use strict";F.d(ht,{u7:()=>Ap,Jj:()=>Hl,IX:()=>sh,my:()=>uo,xU:()=>uu,Lz:()=>dl,WA:()=>vn,F8:()=>hf,$q:()=>mf,W:()=>ud,EK:()=>dr,PU:()=>Ng,l7:()=>iu,Ky:()=>ir,Xb:()=>Fe,Cf:()=>Pi,K9:()=>Ga,Me:()=>Gt,yq:()=>bo,Wi:()=>ih,ET:()=>Om,Ab:()=>Um,vr:()=>Vm,Fc:()=>cu,hJ:()=>su,B$:()=>Ig,at:()=>Cg,oe:()=>_y,AK:()=>Bm,TF:()=>Cp,JU:()=>Dg,ST:()=>lu,fH:()=>Vl,Ix:()=>jl,Wu:()=>Pg,Lx:()=>my,qY:()=>ho,GL:()=>hu,QT:()=>Am,kl:()=>Fg,Xk:()=>km,PL:()=>vy,UQ:()=>Mm,zN:()=>Rm,ad:()=>sd,nP:()=>jm,b9:()=>gy,vh:()=>gv,Pb:()=>Ip,L$:()=>Dp,cf:()=>Nm,sc:()=>Bg,Xo:()=>pv,IO:()=>py,iE:()=>ga,Eo:()=>id,i3:()=>Lm,Bt:()=>$m,pl:()=>Lg,Ub:()=>Hs,qK:()=>fy,TQ:()=>Rg,e0:()=>Tm,r7:()=>Pm,Mx:()=>ad,ar:()=>Dm});var Q,a=F(8239),C=F(1572),X=F(1177),He=F(3855),Te=F(4213),he="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},fe={},pe=pe||{},ee=he||self;function de(){}function we(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function re(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var We="closure_uid_"+(1e9*Math.random()>>>0),ye=0;function Ee(i,e,r){return i.call.apply(i.bind,arguments)}function Be(i,e,r){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,s),i.apply(e,f)}}return function(){return i.apply(e,arguments)}}function Ne(i,e,r){return(Ne=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ee:Be).apply(null,arguments)}function _e(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Ie(i,e){function r(){}r.prototype=e.prototype,i.Z=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(s,f,y){for(var x=Array(arguments.length-2),j=2;j<arguments.length;j++)x[j-2]=arguments[j];return e.prototype[f].apply(s,x)}}function st(){this.s=this.s,this.o=this.o}var Bt={};st.prototype.s=!1,st.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,We)&&i[We]||(i[We]=++ye)}(this);delete Bt[i]}},st.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Je=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1},jt=Array.prototype.forEach?function(i,e,r){Array.prototype.forEach.call(i,e,r)}:function(i,e,r){const s=i.length,f="string"==typeof i?i.split(""):i;for(let y=0;y<s;y++)y in f&&e.call(r,f[y],y,i)};function it(i){return Array.prototype.concat.apply([],arguments)}function Me(i){const e=i.length;if(0<e){const r=Array(e);for(let s=0;s<e;s++)r[s]=i[s];return r}return[]}function Ue(i){return/^[\s\xa0]*$/.test(i)}var tn,ut=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function nt(i,e){return-1!=i.indexOf(e)}function Ht(i,e){return i<e?-1:i>e?1:0}e:{var Dt=ee.navigator;if(Dt){var pt=Dt.userAgent;if(pt){tn=pt;break e}}tn=""}function _t(i,e,r){for(const s in i)e.call(r,i[s],s,i)}function Et(i){const e={};for(const r in i)e[r]=i[r];return e}var Kt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ln(i,e){let r,s;for(let f=1;f<arguments.length;f++){for(r in s=arguments[f],s)i[r]=s[r];for(let y=0;y<Kt.length;y++)r=Kt[y],Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}}function Pt(i){return Pt[" "](i),i}Pt[" "]=de;var Jn,i,Ot=nt(tn,"Opera"),on=nt(tn,"Trident")||nt(tn,"MSIE"),Sr=nt(tn,"Edge"),ar=Sr||on,Dn=nt(tn,"Gecko")&&!(nt(tn.toLowerCase(),"webkit")&&!nt(tn,"Edge"))&&!(nt(tn,"Trident")||nt(tn,"MSIE"))&&!nt(tn,"Edge"),Nn=nt(tn.toLowerCase(),"webkit")&&!nt(tn,"Edge");function lr(){var i=ee.document;return i?i.documentMode:void 0}e:{var Dr="",cr=(i=tn,Dn?/rv:([^\);]+)(\)|;)/.exec(i):Sr?/Edge\/([\d\.]+)/.exec(i):on?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Nn?/WebKit\/(\S+)/.exec(i):Ot?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(cr&&(Dr=cr?cr[1]:""),on){var pr=lr();if(null!=pr&&pr>parseFloat(Dr)){Jn=String(pr);break e}}Jn=Dr}var Tr={};function Zn(){return e=Tr,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let i=0;const e=ut(String(Jn)).split("."),r=ut("9").split("."),s=Math.max(e.length,r.length);for(let x=0;0==i&&x<s;x++){var f=e[x]||"",y=r[x]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==f[0].length&&0==y[0].length)break;i=Ht(0==f[1].length?0:parseInt(f[1],10),0==y[1].length?0:parseInt(y[1],10))||Ht(0==f[2].length,0==y[2].length)||Ht(f[2],y[2]),f=f[3],y=y[3]}while(0==i)}return 0<=i}();var e}var Rn=ee.document&&on&&(lr()||parseInt(Jn,10))||void 0,Yt=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ee.addEventListener("test",de,e),ee.removeEventListener("test",de,e)}catch(r){}return i}();function hn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function gr(i,e){if(hn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Dn){e:{try{Pt(e.nodeName);var f=!0;break e}catch(y){}f=!1}f||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Mt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&gr.Z.h.call(this)}}hn.prototype.h=function(){this.defaultPrevented=!0},Ie(gr,hn);var Mt={2:"touch",3:"pen",4:"mouse"};gr.prototype.h=function(){gr.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Hn="closure_listenable_"+(1e6*Math.random()|0),Cn=0;function yn(i,e,r,s,f){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!s,this.ia=f,this.key=++Cn,this.ca=this.fa=!1}function Er(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function ai(i){this.src=i,this.g={},this.h=0}function Pr(i,e){var r=e.type;if(r in i.g){var y,s=i.g[r],f=Je(s,e);(y=0<=f)&&Array.prototype.splice.call(s,f,1),y&&(Er(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function Fr(i,e,r,s){for(var f=0;f<i.length;++f){var y=i[f];if(!y.ca&&y.listener==e&&y.capture==!!r&&y.ia==s)return f}return-1}ai.prototype.add=function(i,e,r,s,f){var y=i.toString();(i=this.g[y])||(i=this.g[y]=[],this.h++);var x=Fr(i,e,s,f);return-1<x?(e=i[x],r||(e.fa=!1)):((e=new yn(e,this.src,y,!!s,f)).fa=r,i.push(e)),e};var gn="closure_lm_"+(1e6*Math.random()|0),ti={};function Ke(i,e,r,s,f){if(s&&s.once)return St(i,e,r,s,f);if(Array.isArray(e)){for(var y=0;y<e.length;y++)Ke(i,e[y],r,s,f);return null}return r=xr(r),i&&i[Hn]?i.N(e,r,re(s)?!!s.capture:!!s,f):Qe(i,e,r,!1,s,f)}function Qe(i,e,r,s,f,y){if(!e)throw Error("Invalid event type");var x=re(f)?!!f.capture:!!f,j=Cr(i);if(j||(i[gn]=j=new ai(i)),(r=j.add(e,r,s,x,y)).proxy)return r;if(s=function(){var e=er;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=s,s.src=i,s.listener=r,i.addEventListener)Yt||(f=x),void 0===f&&(f=!1),i.addEventListener(e.toString(),s,f);else if(i.attachEvent)i.attachEvent(Xt(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return r}function St(i,e,r,s,f){if(Array.isArray(e)){for(var y=0;y<e.length;y++)St(i,e[y],r,s,f);return null}return r=xr(r),i&&i[Hn]?i.O(e,r,re(s)?!!s.capture:!!s,f):Qe(i,e,r,!0,s,f)}function ft(i,e,r,s,f){if(Array.isArray(e))for(var y=0;y<e.length;y++)ft(i,e[y],r,s,f);else s=re(s)?!!s.capture:!!s,r=xr(r),i&&i[Hn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=Fr(y=i.g[e],r,s,f))&&(Er(y[r]),Array.prototype.splice.call(y,r,1),0==y.length&&(delete i.g[e],i.h--))):i&&(i=Cr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Fr(e,r,s,f)),(r=-1<i?e[i]:null)&&Jt(r))}function Jt(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Hn])Pr(e.i,i);else{var r=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(r,s,i.capture):e.detachEvent?e.detachEvent(Xt(r),s):e.addListener&&e.removeListener&&e.removeListener(s),(r=Cr(e))?(Pr(r,i),0==r.h&&(r.src=null,e[gn]=null)):Er(i)}}}function Xt(i){return i in ti?ti[i]:ti[i]="on"+i}function er(i,e){if(i.ca)i=!0;else{e=new gr(e,this);var r=i.listener,s=i.ia||i.src;i.fa&&Jt(i),i=r.call(s,e)}return i}function Cr(i){return(i=i[gn])instanceof ai?i:null}var mr="__closure_events_fn_"+(1e9*Math.random()>>>0);function xr(i){return"function"==typeof i?i:(i[mr]||(i[mr]=function(e){return i.handleEvent(e)}),i[mr])}function Ge(){st.call(this),this.i=new ai(this),this.P=this,this.I=null}function $e(i,e){var r,s=i.I;if(s)for(r=[];s;s=s.I)r.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new hn(e,i);else if(e instanceof hn)e.target=e.target||i;else{var f=e;Ln(e=new hn(s,i),f)}if(f=!0,r)for(var y=r.length-1;0<=y;y--){var x=e.g=r[y];f=Xe(x,s,!0,e)&&f}if(f=Xe(x=e.g=i,s,!0,e)&&f,f=Xe(x,s,!1,e)&&f,r)for(y=0;y<r.length;y++)f=Xe(x=e.g=r[y],s,!1,e)&&f}function Xe(i,e,r,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var f=!0,y=0;y<e.length;++y){var x=e[y];if(x&&!x.ca&&x.capture==r){var j=x.listener,oe=x.ia||x.src;x.fa&&Pr(i.i,x),f=!1!==j.call(oe,s)&&f}}return f&&!s.defaultPrevented}Ie(Ge,st),Ge.prototype[Hn]=!0,Ge.prototype.removeEventListener=function(i,e,r,s){ft(this,i,e,r,s)},Ge.prototype.M=function(){if(Ge.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],s=0;s<r.length;s++)Er(r[s]);delete i.g[e],i.h--}}this.I=null},Ge.prototype.N=function(i,e,r,s){return this.i.add(String(i),e,!1,r,s)},Ge.prototype.O=function(i,e,r,s){return this.i.add(String(i),e,!0,r,s)};var Lt=ee.JSON.stringify;function cn(){var i=Fn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var kr,Wn=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new On,i=>i.reset());class On{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Lr(i){ee.setTimeout(()=>{throw i},0)}function Br(i,e){kr||function(){var i=ee.Promise.resolve(void 0);kr=function(){i.then(Gr)}}(),Or||(kr(),Or=!0),Fn.add(i,e)}var Or=!1,Fn=new class{constructor(){this.h=this.g=null}add(e,r){const s=Wn.get();s.set(e,r),this.h?this.h.next=s:this.g=s,this.h=s}};function Gr(){for(var i;i=cn();){try{i.h.call(i.g)}catch(r){Lr(r)}var e=Wn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Or=!1}function ot(i,e){Ge.call(this),this.h=i||1,this.g=e||ee,this.j=Ne(this.kb,this),this.l=Date.now()}function Ct(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function nn(i,e,r){if("function"==typeof i)r&&(i=Ne(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ne(i.handleEvent,i)}return 2147483647<Number(e)?-1:ee.setTimeout(i,e||0)}function xe(i){i.g=nn(()=>{i.g=null,i.i&&(i.i=!1,xe(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ie(ot,Ge),(Q=ot.prototype).da=!1,Q.S=null,Q.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$e(this,"tick"),this.da&&(Ct(this),this.start()))}},Q.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Q.M=function(){ot.Z.M.call(this),Ct(this),delete this.g};class J extends st{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xe(this)}M(){super.M(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function G(i){st.call(this),this.h=i,this.g={}}Ie(G,st);var De=[];function Ye(i,e,r,s){Array.isArray(r)||(r&&(De[0]=r.toString()),r=De);for(var f=0;f<r.length;f++){var y=Ke(e,r[f],s||i.handleEvent,!1,i.h||i);if(!y)break;i.g[y.key]=y}}function wt(i){_t(i.g,function(e,r){this.g.hasOwnProperty(r)&&Jt(e)},i),i.g={}}function Zt(){this.g=!0}function tr(i,e,r,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var s=r[i];if(!(2>s.length)){var f=s[1];if(Array.isArray(f)&&!(1>f.length)){var y=f[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var x=1;x<f.length;x++)f[x]=""}}}return Lt(r)}catch(j){return e}}(i,r)+(s?" "+s:"")})}G.prototype.M=function(){G.Z.M.call(this),wt(this)},G.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zt.prototype.Aa=function(){this.g=!1},Zt.prototype.info=function(){};var yt={},Ei=null;function di(){return Ei=Ei||new Ge}function jr(i){hn.call(this,yt.Ma,i)}function ri(i){const e=di();$e(e,new jr(e,i))}function gi(i,e){hn.call(this,yt.STAT_EVENT,i),this.stat=e}function qr(i){const e=di();$e(e,new gi(e,i))}function L(i,e){hn.call(this,yt.Na,i),this.size=e}function Z(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){i()},e)}yt.Ma="serverreachability",Ie(jr,hn),yt.STAT_EVENT="statevent",Ie(gi,hn),yt.Na="timingevent",Ie(L,hn);var Y={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},se={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ke(){}function vt(){}ke.prototype.h=null;var En,At={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bt(){hn.call(this,"d")}function qt(){hn.call(this,"c")}function un(){}function Gn(i,e,r,s){this.l=i,this.j=e,this.m=r,this.X=s||1,this.V=new G(this),this.P=oi,this.W=new ot(i=ar?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vr}function vr(){this.i=null,this.g="",this.h=!1}Ie(bt,hn),Ie(qt,hn),Ie(un,ke),un.prototype.g=function(){return new XMLHttpRequest},un.prototype.i=function(){return{}},En=new un;var oi=45e3,Qn={},bi={};function Ni(i,e,r){i.K=1,i.v=gt($n(e)),i.s=r,i.U=!0,Ui(i,null)}function Ui(i,e){i.F=Date.now(),$o(i),i.A=$n(i.v);var r=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),$(r.h,"t",s),i.C=0,r=i.l.H,i.h=new vr,i.g=mu(i.l,r?e:null,!i.s),0<i.O&&(i.L=new J(Ne(i.Ia,i,i.g),i.O)),Ye(i.V,i.g,"readystatechange",i.gb),e=i.H?Et(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),ri(1),function(i,e,r,s,f,y){i.info(function(){if(i.g)if(y)for(var x="",j=y.split("&"),oe=0;oe<j.length;oe++){var Ae=j[oe].split("=");if(1<Ae.length){var Ze=Ae[0];Ae=Ae[1];var mt=Ze.split("_");x=2<=mt.length&&"type"==mt[1]?x+(Ze+"=")+Ae+"&":x+(Ze+"=redacted&")}}else x=null;else x=y;return"XMLHTTP REQ ("+s+") [attempt "+f+"]: "+e+"\n"+r+"\n"+x})}(i.j,i.u,i.A,i.m,i.X,i.s)}function wi(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Li(i,e,r){let f,s=!0;for(;!i.I&&i.C<r.length;){if(f=Di(i,r),f==bi){4==e&&(i.o=4,qr(14),s=!1),tr(i.j,i.m,null,"[Incomplete Response]");break}if(f==Qn){i.o=4,qr(15),tr(i.j,i.m,r,"[Invalid Chunk]"),s=!1;break}tr(i.j,i.m,f,null),U(i,f)}wi(i)&&f!=bi&&f!=Qn&&(i.h.g="",i.C=0),4!=e||0!=r.length||i.h.h||(i.o=1,qr(16),s=!1),i.i=i.i&&s,s?0<r.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),vi(e),e.L=!0,qr(11))):(tr(i.j,i.m,r,"[Invalid Chunked Response]"),$r(i),Ti(i))}function Di(i,e){var r=i.C,s=e.indexOf("\n",r);return-1==s?bi:(r=Number(e.substring(r,s)),isNaN(r)?Qn:(s+=1)+r>e.length?bi:(e=e.substr(s,r),i.C=s+r,e))}function $o(i){i.Y=Date.now()+i.P,no(i,i.P)}function no(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Z(Ne(i.eb,i),e)}function Qi(i){i.B&&(ee.clearTimeout(i.B),i.B=null)}function Ti(i){0==i.l.G||i.I||ba(i.l,i)}function $r(i){Qi(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Ct(i.W),wt(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function U(i,e){try{var r=i.l;if(0!=r.G&&(r.g==i||Tn(r.i,i)))if(r.I=i.N,!i.J&&Tn(r.i,i)&&3==r.G){try{var s=r.Ca.g.parse(e)}catch(Ae){s=null}if(Array.isArray(s)&&3==s.length){var f=s;if(0==f[0])e:if(r.u)r.ta=f[1],0<r.ta-r.U&&37500>f[2]&&r.N&&0==r.A&&!r.v&&(r.v=Z(Ne(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;Us(r),es(r)}ts(r),qr(18)}if(1>=Tt(r.i)&&r.ka){try{r.ka()}catch(Ae){}r.ka=void 0}}else Ci(r,11)}else if((i.J||r.g==i)&&Us(r),!Ue(e))for(f=r.Ca.g.parse(e),e=0;e<f.length;e++){let Ae=f[e];if(r.U=Ae[0],Ae=Ae[1],2==r.G)if("c"==Ae[0]){r.J=Ae[1],r.la=Ae[2];const Ze=Ae[3];null!=Ze&&(r.ma=Ze,r.h.info("VER="+r.ma));const mt=Ae[4];null!=mt&&(r.za=mt,r.h.info("SVER="+r.za));const zt=Ae[5];null!=zt&&"number"==typeof zt&&0<zt&&(r.K=s=1.5*zt,r.h.info("backChannelRequestTimeoutMs_="+s)),s=r;const wn=i.g;if(wn){const An=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(An){var y=s.i;!y.g&&(nt(An,"spdy")||nt(An,"quic")||nt(An,"h2"))&&(y.j=y.l,y.g=new Set,y.h&&(Xn(y,y.h),y.h=null))}if(s.D){const Rr=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Rr&&(s.sa=Rr,Oe(s.F,s.D,Rr))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var x=i;if((s=r).oa=po(s,s.H?s.la:null,s.W),x.J){zr(s.i,x);var j=x,oe=s.K;oe&&j.setTimeout(oe),j.B&&(Qi(j),$o(j)),s.g=x}else Xr(s);0<r.l.length&&Vs(r)}else"stop"!=Ae[0]&&"close"!=Ae[0]||Ci(r,7);else 3==r.G&&("stop"==Ae[0]||"close"==Ae[0]?"stop"==Ae[0]?Ci(r,7):pl(r):"noop"!=Ae[0]&&r.j&&r.j.wa(Ae),r.A=0)}ri(4)}catch(Ae){}}function ie(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(we(i)||"string"==typeof i)jt(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(we(i)||"string"==typeof i){r=[];for(var s=i.length,f=0;f<s;f++)r.push(f)}else for(f in r=[],s=0,i)r[s++]=f;s=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(we(i)){for(var e=[],r=i.length,s=0;s<r;s++)e.push(i[s]);return e}for(s in e=[],r=0,i)e[r++]=i[s];return e}(i),f=s.length;for(var y=0;y<f;y++)e.call(void 0,s[y],r&&r[y],i)}}function ge(i,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var s=0;s<r;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof ge)for(r=i.T(),s=0;s<r.length;s++)this.set(r[s],i.get(r[s]));else for(s in i)this.set(s,i[s])}function tt(i){if(i.i!=i.g.length){for(var e=0,r=0;e<i.g.length;){var s=i.g[e];et(i.h,s)&&(i.g[r++]=s),e++}i.g.length=r}if(i.i!=i.g.length){var f={};for(r=e=0;e<i.g.length;)et(f,s=i.g[e])||(i.g[r++]=s,f[s]=1),e++;i.g.length=r}}function et(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(Q=Gn.prototype).setTimeout=function(i){this.P=i},Q.gb=function(i){i=i.target;const e=this.L;e&&3==Xi(i)?e.l():this.Ia(i)},Q.Ia=function(i){try{if(i==this.g)e:{const Ze=Xi(this.g);var e=this.g.Da();const mt=this.g.ba();if(!(3>Ze)&&(3!=Ze||ar||this.g&&(this.h.h||this.g.ga()||ds(this.g)))){this.I||4!=Ze||7==e||ri(8==e||0>=mt?3:2),Qi(this);var r=this.g.ba();this.N=r;t:if(wi(this)){var s=ds(this.g);i="";var f=s.length,y=4==Xi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$r(this),Ti(this);var x="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:y&&e==f-1});s.splice(0,f),this.h.g+=i,this.C=0,x=this.h.g}else x=this.g.ga();if(this.i=200==r,function(i,e,r,s,f,y,x){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+f+"]: "+e+"\n"+r+"\n"+y+" "+x})}(this.j,this.u,this.A,this.m,this.X,Ze,r),this.i){if(this.$&&!this.J){t:{if(this.g){var j,oe=this.g;if((j=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ue(j)){var Ae=j;break t}}Ae=null}if(!(r=Ae)){this.i=!1,this.o=3,qr(12),$r(this),Ti(this);break e}tr(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,U(this,r)}this.U?(Li(this,Ze,x),ar&&this.i&&3==Ze&&(Ye(this.V,this.W,"tick",this.fb),this.W.start())):(tr(this.j,this.m,x,null),U(this,x)),4==Ze&&$r(this),this.i&&!this.I&&(4==Ze?ba(this.l,this):(this.i=!1,$o(this)))}else 400==r&&0<x.indexOf("Unknown SID")?(this.o=3,qr(12)):(this.o=0,qr(13)),$r(this),Ti(this)}}}catch(Ze){}},Q.fb=function(){if(this.g){var i=Xi(this.g),e=this.g.ga();this.C<e.length&&(Qi(this),Li(this,i,e),this.i&&4!=i&&$o(this))}},Q.cancel=function(){this.I=!0,$r(this)},Q.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ri(3),qr(17)),$r(this),this.o=2,Ti(this)):no(this,this.Y-i)},(Q=ge.prototype).R=function(){tt(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},Q.T=function(){return tt(this),this.g.concat()},Q.get=function(i,e){return et(this.h,i)?this.h[i]:e},Q.set=function(i,e){et(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},Q.forEach=function(i,e){for(var r=this.T(),s=0;s<r.length;s++){var f=r[s],y=this.get(f);i.call(e,y,f,this)}};var Vt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sn(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof sn){this.g=void 0!==e?e:i.g,rr(this,i.j),this.s=i.s,Yn(this,i.i),Re(this,i.m),this.l=i.l,e=i.h;var r=new xi;r.i=e.i,e.g&&(r.g=new ge(e.g),r.h=e.h),Se(this,r),this.o=i.o}else i&&(r=String(i).match(Vt))?(this.g=!!e,rr(this,r[1]||"",!0),this.s=an(r[2]||""),Yn(this,r[3]||"",!0),Re(this,r[4]),this.l=an(r[5]||"",!0),Se(this,r[6]||"",!0),this.o=an(r[7]||"")):(this.g=!!e,this.h=new xi(null,this.g))}function $n(i){return new sn(i)}function rr(i,e,r){i.j=r?an(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Yn(i,e,r){i.i=r?an(e,!0):e}function Re(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Se(i,e,r){e instanceof xi?(i.h=e,function(i,e){e&&!i.j&&(Si(i),i.i=null,i.g.forEach(function(r,s){var f=s.toLowerCase();s!=f&&(V(this,s),$(this,f,r))},i)),i.j=e}(i.h,i.g)):(r||(e=Vn(e,Vr)),i.h=new xi(e,i.g))}function Oe(i,e,r){i.h.set(e,r)}function gt(i){return Oe(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function an(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Vn(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,sr),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function sr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}sn.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Vn(e,_r,!0),":");var r=this.i;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Vn(e,_r,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Vn(r,"/"==r.charAt(0)?Mr:nr,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Vn(r,Hr)),i.join("")};var _r=/[#\/\?@]/g,nr=/[#\?:]/g,Mr=/[#\?]/g,Vr=/[#\?@]/g,Hr=/#/g;function xi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Si(i){i.g||(i.g=new ge,i.h=0,i.i&&function(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var s=i[r].indexOf("="),f=null;if(0<=s){var y=i[r].substring(0,s);f=i[r].substring(s+1)}else y=i[r];e(y,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function V(i,e){Si(i),e=ve(i,e),et(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,et((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&tt(i)))}function ae(i,e){return Si(i),e=ve(i,e),et(i.g.h,e)}function $(i,e,r){V(i,e),0<r.length&&(i.i=null,i.g.set(ve(i,e),Me(r)),i.h+=r.length)}function ve(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function M(i){this.l=i||R,i=ee.PerformanceNavigationTiming?0<(i=ee.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ee.g&&ee.g.Ea&&ee.g.Ea()&&ee.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Q=xi.prototype).add=function(i,e){Si(this),this.i=null,i=ve(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},Q.forEach=function(i,e){Si(this),this.g.forEach(function(r,s){jt(r,function(f){i.call(e,f,s,this)},this)},this)},Q.T=function(){Si(this);for(var i=this.g.R(),e=this.g.T(),r=[],s=0;s<e.length;s++)for(var f=i[s],y=0;y<f.length;y++)r.push(e[s]);return r},Q.R=function(i){Si(this);var e=[];if("string"==typeof i)ae(this,i)&&(e=it(e,this.g.get(ve(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)e=it(e,i[r])}return e},Q.set=function(i,e){return Si(this),this.i=null,ae(this,i=ve(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Q.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),r=0;r<e.length;r++){var s=e[r],f=encodeURIComponent(String(s));s=this.R(s);for(var y=0;y<s.length;y++){var x=f;""!==s[y]&&(x+="="+encodeURIComponent(String(s[y]))),i.push(x)}}return this.i=i.join("&")};var R=10;function ce(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Tt(i){return i.h?1:i.g?i.g.size:0}function Tn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Xn(i,e){i.g?i.g.add(e):i.h=e}function zr(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ar(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.D);return e}return Me(i.i)}function Ai(){}function fo(){this.g=new Ai}function Oo(i,e,r){const s=r||"";try{ie(i,function(f,y){let x=f;re(f)&&(x=Lt(f)),e.push(s+y+"="+encodeURIComponent(x))})}catch(f){throw e.push(s+"type="+encodeURIComponent("_badmap")),f}}function vo(i,e,r,s,f){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,f(s)}catch(y){}}function Wo(i){this.l=i.$b||null,this.j=i.ib||!1}function ur(i,e){Ge.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Bs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}M.prototype.cancel=function(){if(this.i=Ar(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Ai.prototype.stringify=function(i){return ee.JSON.stringify(i,void 0)},Ai.prototype.parse=function(i){return ee.JSON.parse(i,void 0)},Ie(Wo,ke),Wo.prototype.g=function(){return new ur(this.l,this.j)},Wo.prototype.i=function(i){return function(){return i}}({}),Ie(ur,Ge);var Bs=0;function $s(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Go(i){i.readyState=4,i.l=null,i.j=null,i.A=null,b(i)}function b(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Q=ur.prototype).open=function(i,e){if(this.readyState!=Bs)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,b(this)},Q.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ee).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Go(this)),this.readyState=Bs},Q.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,b(this)),this.g&&(this.readyState=3,b(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ee.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$s(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Q.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Go(this):b(this),3==this.readyState&&$s(this)}},Q.Ua=function(i){this.g&&(this.response=this.responseText=i,Go(this))},Q.Ta=function(i){this.g&&(this.response=i,Go(this))},Q.ha=function(){this.g&&Go(this)},Q.setRequestHeader=function(i,e){this.v.append(i,e)},Q.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Q.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var K=ee.JSON.parse;function _(i){Ge.call(this),this.headers=new ge,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=z,this.K=this.L=!1}Ie(_,Ge);var z="",ne=/^https?$/i,It=["POST","PUT"];function Pn(i){return"content-type"==i.toLowerCase()}function Zr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ci(i),Mi(i)}function ci(i){i.D||(i.D=!0,$e(i,"complete"),$e(i,"error"))}function yi(i){if(i.h&&void 0!==pe&&(!i.C[1]||4!=Xi(i)||2!=i.ba()))if(i.v&&4==Xi(i))nn(i.Fa,0,i);else if($e(i,"readystatechange"),4==Xi(i)){i.h=!1;try{const j=i.ba();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var s;if(s=0===j){var f=String(i.H).match(Vt)[1]||null;if(!f&&ee.self&&ee.self.location){var y=ee.self.location.protocol;f=y.substr(0,y.length-1)}s=!ne.test(f?f.toLowerCase():"")}r=s}if(r)$e(i,"complete"),$e(i,"success");else{i.m=6;try{var x=2<Xi(i)?i.g.statusText:""}catch(oe){x=""}i.j=x+" ["+i.ba()+"]",ci(i)}}finally{Mi(i)}}}function Mi(i,e){if(i.g){_o(i);const r=i.g,s=i.C[0]?de:null;i.g=null,i.C=null,e||$e(i,"ready");try{r.onreadystatechange=s}catch(f){}}}function _o(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ee.clearTimeout(i.A),i.A=null)}function Xi(i){return i.g?i.g.readyState:0}function ds(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case z:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Fo(i,e,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=function(i){let e="";return _t(i,function(r,s){e+=s,e+=":",e+=r,e+="\r\n"}),e}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):Oe(i,e,r))}function ro(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function qo(i){this.za=0,this.l=[],this.h=new Zt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ro("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ro("baseRetryDelayMs",5e3,i),this.$a=ro("retryDelaySeedMs",1e4,i),this.Ya=ro("forwardChannelMaxRetries",2,i),this.ra=ro("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new M(i&&i.concurrentRequestLimit),this.Ca=new fo,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function pl(i){if(hs(i),3==i.G){var e=i.V++,r=$n(i.F);Oe(r,"SID",i.J),Oe(r,"RID",e),Oe(r,"TYPE","terminate"),ui(i,r),(e=new Gn(i,i.h,e,void 0)).K=2,e.v=gt($n(r)),r=!1,ee.navigator&&ee.navigator.sendBeacon&&(r=ee.navigator.sendBeacon(e.v.toString(),"")),!r&&ee.Image&&((new Image).src=e.v,r=!0),r||(e.g=mu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),$o(e)}Jr(i)}function es(i){i.g&&(vi(i),i.g.cancel(),i.g=null)}function hs(i){es(i),i.u&&(ee.clearTimeout(i.u),i.u=null),Us(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ee.clearTimeout(i.m),i.m=null)}function va(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Vs(i)}function Vs(i){ce(i.i)||i.m||(i.m=!0,Br(i.Ha,i),i.C=0)}function Gl(i,e){var r;r=e?e.m:i.V++;const s=$n(i.F);Oe(s,"SID",i.J),Oe(s,"RID",r),Oe(s,"AID",i.U),ui(i,s),i.o&&i.s&&Fo(s,i.o,i.s),r=new Gn(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),e&&(i.l=e.D.concat(i.l)),e=hi(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Xn(i.i,r),Ni(r,s,e)}function ui(i,e){i.j&&ie({},function(r,s){Oe(e,s,r)})}function hi(i,e,r){r=Math.min(i.l.length,r);var s=i.j?Ne(i.j.Oa,i.j,i):null;e:{var f=i.l;let y=-1;for(;;){const x=["count="+r];-1==y?0<r?(y=f[0].h,x.push("ofs="+y)):y=0:x.push("ofs="+y);let j=!0;for(let oe=0;oe<r;oe++){let Ae=f[oe].h;const Ze=f[oe].g;if(Ae-=y,0>Ae)y=Math.max(0,f[oe].h-100),j=!1;else try{Oo(Ze,x,"req"+Ae+"_")}catch(mt){s&&s(Ze)}}if(j){s=x.join("&");break e}}}return i=i.l.splice(0,r),e.D=i,s}function Xr(i){i.g||i.u||(i.Y=1,Br(i.Ga,i),i.A=0)}function ts(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Z(Ne(i.Ga,i),za(i,i.A)),i.A++,0))}function vi(i){null!=i.B&&(ee.clearTimeout(i.B),i.B=null)}function _a(i){i.g=new Gn(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=$n(i.oa);Oe(e,"RID","rpc"),Oe(e,"SID",i.J),Oe(e,"CI",i.N?"0":"1"),Oe(e,"AID",i.U),ui(i,e),Oe(e,"TYPE","xmlhttp"),i.o&&i.s&&Fo(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=gt($n(e)),r.s=null,r.U=!0,Ui(r,i)}function Us(i){null!=i.v&&(ee.clearTimeout(i.v),i.v=null)}function ba(i,e){var r=null;if(i.g==e){Us(i),vi(i),i.g=null;var s=2}else{if(!Tn(i.i,e))return;r=e.D,zr(i.i,e),s=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==s){r=e.s?e.s.length:0,e=Date.now()-e.F;var f=i.C;$e(s=di(),new L(s,r,e,f)),Vs(i)}else Xr(i);else if(3==(f=e.o)||0==f&&0<i.I||!(1==s&&function(i,e){return!(Tt(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Z(Ne(i.Ha,i,e),za(i,i.C)),i.C++,0)))}(i,e)||2==s&&ts(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),f){case 1:Ci(i,5);break;case 4:Ci(i,10);break;case 3:Ci(i,6);break;default:Ci(i,2)}}function za(i,e){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*e}function Ci(i,e){if(i.h.info("Error code "+e),2==e){var r=null;i.j&&(r=null);var s=Ne(i.jb,i);r||(r=new sn("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||rr(r,"https"),gt(r)),function(i,e){const r=new Zt;if(ee.Image){const s=new Image;s.onload=_e(vo,r,s,"TestLoadImage: loaded",!0,e),s.onerror=_e(vo,r,s,"TestLoadImage: error",!1,e),s.onabort=_e(vo,r,s,"TestLoadImage: abort",!1,e),s.ontimeout=_e(vo,r,s,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(r.toString(),s)}else qr(2);i.G=0,i.j&&i.j.va(e),Jr(i),hs(i)}function Jr(i){i.G=0,i.I=-1,i.j&&((0!=Ar(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Me(i.l),i.l.length=0),i.j.ua())}function po(i,e,r){let s=function(i){return i instanceof sn?$n(i):new sn(i,void 0)}(r);if(""!=s.i)e&&Yn(s,e+"."+s.i),Re(s,s.m);else{const f=ee.location;s=function(i,e,r,s){var f=new sn(null,void 0);return i&&rr(f,i),e&&Yn(f,e),r&&Re(f,r),s&&(f.l=s),f}(f.protocol,e?e+"."+f.hostname:f.hostname,+f.port,r)}return i.aa&&_t(i.aa,function(f,y){Oe(s,y,f)}),r=i.sa,(e=i.D)&&r&&Oe(s,e,r),Oe(s,"VER",i.ma),ui(i,s),s}function mu(i,e,r){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _(r&&i.Ba&&!i.qa?new Wo({ib:!0}):i.qa)).L=i.H,e}function ml(){}function Bi(){if(on&&!(10<=Number(Rn)))throw Error("Environmental error: no available transport.")}function go(i,e){Ge.call(this),this.g=new qo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Ue(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ue(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new bs(this)}function Ji(i){bt.call(this);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ql(){qt.call(this),this.status=1}function bs(i){this.g=i}(Q=_.prototype).ea=function(i,e,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():En.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:En),this.g.onreadystatechange=Ne(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(y){return void Zr(this,y)}i=r||"";const f=new ge(this.headers);s&&ie(s,function(y,x){f.set(x,y)}),s=function(i){e:{var e=Pn;const r=i.length,s="string"==typeof i?i.split(""):i;for(let f=0;f<r;f++)if(f in s&&e.call(void 0,s[f],f,i)){e=f;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(f.T()),r=ee.FormData&&i instanceof ee.FormData,!(0<=Je(It,e))||s||r||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),f.forEach(function(y,x){this.g.setRequestHeader(x,y)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_o(this),0<this.B&&((this.K=function(i){return on&&Zn()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ne(this.pa,this)):this.A=nn(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(y){Zr(this,y)}},Q.pa=function(){void 0!==pe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$e(this,"timeout"),this.abort(8))},Q.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,$e(this,"complete"),$e(this,"abort"),Mi(this))},Q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mi(this,!0)),_.Z.M.call(this)},Q.Fa=function(){this.s||(this.F||this.v||this.l?yi(this):this.cb())},Q.cb=function(){yi(this)},Q.ba=function(){try{return 2<Xi(this)?this.g.status:-1}catch(i){return-1}},Q.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Q.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),K(e)}},Q.Da=function(){return this.m},Q.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Q=qo.prototype).ma=8,Q.G=1,Q.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},Q.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const f=new Gn(this,this.h,i,void 0);let y=this.s;if(this.P&&(y?(y=Et(y),Ln(y,this.P)):y=this.P),null===this.o&&(f.H=y),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){var s=this.l[r];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break e}if(4096===e||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=hi(this,f,e),Oe(r=$n(this.F),"RID",i),Oe(r,"CVER",22),this.D&&Oe(r,"X-HTTP-Session-Id",this.D),ui(this,r),this.o&&y&&Fo(r,this.o,y),Xn(this.i,f),this.Ra&&Oe(r,"TYPE","init"),this.ja?(Oe(r,"$req",e),Oe(r,"SID","null"),f.$=!0,Ni(f,r,null)):Ni(f,r,e),this.G=2}}else 3==this.G&&(i?Gl(this,i):0==this.l.length||ce(this.i)||Gl(this))},Q.Ga=function(){if(this.u=null,_a(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Z(Ne(this.bb,this),i)}},Q.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qr(10),es(this),_a(this))},Q.ab=function(){null!=this.v&&(this.v=null,es(this),ts(this),qr(19))},Q.jb=function(i){i?(this.h.info("Successfully pinged google.com"),qr(2)):(this.h.info("Failed to ping google.com"),qr(1))},(Q=ml.prototype).xa=function(){},Q.wa=function(){},Q.va=function(){},Q.ua=function(){},Q.Oa=function(){},Bi.prototype.g=function(i,e){return new go(i,e)},Ie(go,Ge),go.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Br(Ne(i.hb,i,e))),qr(0),i.W=e,i.aa=r||{},i.N=i.X,i.F=po(i,null,i.W),Vs(i)},go.prototype.close=function(){pl(this.g)},go.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,va(this.g,e)}else this.v?((e={}).__data__=Lt(i),va(this.g,e)):va(this.g,i)},go.prototype.M=function(){this.g.j=null,delete this.j,pl(this.g),delete this.g,go.Z.M.call(this)},Ie(Ji,bt),Ie(ql,qt),Ie(bs,ml),bs.prototype.xa=function(){$e(this.g,"a")},bs.prototype.wa=function(i){$e(this.g,new Ji(i))},bs.prototype.va=function(i){$e(this.g,new ql(i))},bs.prototype.ua=function(){$e(this.g,"b")},Bi.prototype.createWebChannel=Bi.prototype.g,go.prototype.send=go.prototype.u,go.prototype.open=go.prototype.m,go.prototype.close=go.prototype.close,Y.NO_ERROR=0,Y.TIMEOUT=8,Y.HTTP_ERROR=6,se.COMPLETE="complete",vt.EventType=At,At.OPEN="a",At.CLOSE="b",At.ERROR="c",At.MESSAGE="d",Ge.prototype.listen=Ge.prototype.N,_.prototype.listenOnce=_.prototype.O,_.prototype.getLastError=_.prototype.La,_.prototype.getLastErrorCode=_.prototype.Da,_.prototype.getStatus=_.prototype.ba,_.prototype.getResponseJson=_.prototype.Qa,_.prototype.getResponseText=_.prototype.ga,_.prototype.send=_.prototype.ea;var Yo=fe.createWebChannelTransport=function(){return new Bi},Wa=fe.getStatEventTarget=function(){return di()},Ts=fe.ErrorCode=Y,Rc=fe.EventType=se,yl=fe.Event=yt,wa=fe.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ea=fe.FetchXmlHttpFactory=Wo,js=fe.WebChannel=vt,Yl=fe.XhrIo=_;const Ca="@firebase/firestore";class ki{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");let hr="9.6.1";const fs=new He.Yd("@firebase/firestore");function xs(){return fs.logLevel}function Hs(i){fs.setLogLevel(i)}function mn(i,...e){if(fs.logLevel<=He.in.DEBUG){const r=e.map(Pc);fs.debug(`Firestore (${hr}): ${i}`,...r)}}function Vi(i,...e){if(fs.logLevel<=He.in.ERROR){const r=e.map(Pc);fs.error(`Firestore (${hr}): ${i}`,...r)}}function bo(i,...e){if(fs.logLevel<=He.in.WARN){const r=e.map(Pc);fs.warn(`Firestore (${hr}): ${i}`,...r)}}function Pc(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function jn(i="Unexpected state"){const e=`FIRESTORE (${hr}) INTERNAL ASSERTION FAILED: `+i;throw Vi(e),new Error(e)}function br(i,e){i||jn()}function Ga(i,e){i||jn()}function bn(i,e){return i}const $t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vn extends Error{constructor(e,r){super(r),this.code=e,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ji{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class ps{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ia{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ki.UNAUTHENTICATED))}shutdown(){}}class ia{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class qa{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let f=this.i;const y=Ae=>this.i!==f?(f=this.i,r(Ae)):Promise.resolve();let x=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),x.resolve(),x=new ji,e.enqueueRetryable(()=>y(this.currentUser))};const j=()=>{const Ae=x;e.enqueueRetryable((0,a.Z)(function*(){yield Ae.promise,yield y(s.currentUser)}))},oe=Ae=>{mn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Ae,this.auth.addAuthTokenListener(this.o),j()};this.t.onInit(Ae=>oe(Ae)),setTimeout(()=>{if(!this.auth){const Ae=this.t.getImmediate({optional:!0});Ae?oe(Ae):(mn("FirebaseAuthCredentialsProvider","Auth not yet detected"),x.resolve(),x=new ji)}},0),j()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(mn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(br("string"==typeof s.accessToken),new ps(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return br(null===e||"string"==typeof e),new ki(e)}}class vl{constructor(e,r,s){this.type="FirstParty",this.user=ki.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",r);const f=e.auth.getAuthHeaderValueForFirstParty([]);f&&this.headers.set("Authorization",f),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class Kl{constructor(e,r,s){this.h=e,this.l=r,this.m=s}getToken(){return Promise.resolve(new vl(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _l{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ii{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,r){this.o=f=>{e.enqueueRetryable(()=>{return null!=(y=f).error&&mn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`),r(y.token);var y})};const s=f=>{mn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.g.onInit(f=>s(f)),setTimeout(()=>{if(!this.appCheck){const f=this.g.getImmediate({optional:!0});f?s(f):mn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(br("string"==typeof r.token),new _l(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ko{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.p(s),this.T=s=>r.writeSequenceNumber(s))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function ws(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}Ko.I=-1;class Ss{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const f=ws(40);for(let y=0;y<f.length;++y)s.length<20&&f[y]<r&&(s+=e.charAt(f[y]%e.length))}return s}}function Yr(i,e){return i<e?-1:i>e?1:0}function Io(i,e,r){return i.length===e.length&&i.every((s,f)=>r(s,e[f]))}function ns(i){return i+"\0"}class dr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new vn($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new vn($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new vn($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vn($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dr.fromMillis(Date.now())}static fromDate(e){return dr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new dr(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yr(this.nanoseconds,e.nanoseconds):Yr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ei{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ei(e)}static min(){return new ei(new dr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function k(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function T(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function I(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class B{constructor(e,r,s){void 0===r?r=0:r>e.length&&jn(),void 0===s?s=e.length-r:s>e.length-r&&jn(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===B.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof B?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let f=0;f<s;f++){const y=e.get(f),x=r.get(f);if(y<x)return-1;if(y>x)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class q extends B{construct(e,r,s){return new q(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new vn($t.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(f=>f.length>0))}return new q(r)}static emptyPath(){return new q([])}}const me=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends B{construct(e,r,s){return new Fe(e,r,s)}static isValidIdentifier(e){return me.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fe(["__name__"])}static fromServerFormat(e){const r=[];let s="",f=0;const y=()=>{if(0===s.length)throw new vn($t.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let x=!1;for(;f<e.length;){const j=e[f];if("\\"===j){if(f+1===e.length)throw new vn($t.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const oe=e[f+1];if("\\"!==oe&&"."!==oe&&"`"!==oe)throw new vn($t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=oe,f+=2}else"`"===j?(x=!x,f++):"."!==j||x?(s+=j,f++):(y(),f++)}if(y(),x)throw new vn($t.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(r)}static emptyPath(){return new Fe([])}}class at{constructor(e){this.fields=e,e.sort(Fe.comparator)}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(r,s)=>r.isEqual(s))}}function Gt(){return"undefined"!=typeof atob}class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new kn(r)}static fromUint8Array(e){const r=function(s){let f="";for(let y=0;y<s.length;++y)f+=String.fromCharCode(s[y]);return f}(e);return new kn(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const fi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(i){if(br(!!i),"string"==typeof i){let e=0;const r=fi.exec(i);if(br(!!r),r[1]){let f=r[1];f=(f+"000000000").substr(0,9),e=Number(f)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ir(i.seconds),nanos:Ir(i.nanos)}}function Ir(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function si(i){return"string"==typeof i?kn.fromBase64String(i):kn.fromUint8Array(i)}function so(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Do(i){const e=i.mapValue.fields.__previous_value__;return so(e)?Do(e):e}function Hi(i){const e=fr(i.mapValue.fields.__local_write_time__.timestampValue);return new dr(e.seconds,e.nanos)}function So(i){return null==i}function rs(i){return 0===i&&1/i==-1/0}function Ao(i){return"number"==typeof i&&Number.isInteger(i)&&!rs(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class ir{constructor(e){this.path=e}static fromPath(e){return new ir(q.fromString(e))}static fromName(e){return new ir(q.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===q.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return q.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ir(new q(e.slice()))}}function As(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?so(i)?4:10:jn()}function Ri(i,e){const r=As(i);if(r!==As(e))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Hi(i).isEqual(Hi(e));case 3:return function(s,f){if("string"==typeof s.timestampValue&&"string"==typeof f.timestampValue&&s.timestampValue.length===f.timestampValue.length)return s.timestampValue===f.timestampValue;const y=fr(s.timestampValue),x=fr(f.timestampValue);return y.seconds===x.seconds&&y.nanos===x.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return f=e,si(i.bytesValue).isEqual(si(f.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,f){return Ir(s.geoPointValue.latitude)===Ir(f.geoPointValue.latitude)&&Ir(s.geoPointValue.longitude)===Ir(f.geoPointValue.longitude)}(i,e);case 2:return function(s,f){if("integerValue"in s&&"integerValue"in f)return Ir(s.integerValue)===Ir(f.integerValue);if("doubleValue"in s&&"doubleValue"in f){const y=Ir(s.doubleValue),x=Ir(f.doubleValue);return y===x?rs(y)===rs(x):isNaN(y)&&isNaN(x)}return!1}(i,e);case 9:return Io(i.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:return function(s,f){const y=s.mapValue.fields||{},x=f.mapValue.fields||{};if(k(y)!==k(x))return!1;for(const j in y)if(y.hasOwnProperty(j)&&(void 0===x[j]||!Ri(y[j],x[j])))return!1;return!0}(i,e);default:return jn()}var f}function Ql(i,e){return void 0!==(i.values||[]).find(r=>Ri(r,e))}function Xl(i,e){const r=As(i),s=As(e);if(r!==s)return Yr(r,s);switch(r){case 0:return 0;case 1:return Yr(i.booleanValue,e.booleanValue);case 2:return function(f,y){const x=Ir(f.integerValue||f.doubleValue),j=Ir(y.integerValue||y.doubleValue);return x<j?-1:x>j?1:x===j?0:isNaN(x)?isNaN(j)?0:-1:1}(i,e);case 3:return yu(i.timestampValue,e.timestampValue);case 4:return yu(Hi(i),Hi(e));case 5:return Yr(i.stringValue,e.stringValue);case 6:return function(f,y){const x=si(f),j=si(y);return x.compareTo(j)}(i.bytesValue,e.bytesValue);case 7:return function(f,y){const x=f.split("/"),j=y.split("/");for(let oe=0;oe<x.length&&oe<j.length;oe++){const Ae=Yr(x[oe],j[oe]);if(0!==Ae)return Ae}return Yr(x.length,j.length)}(i.referenceValue,e.referenceValue);case 8:return function(f,y){const x=Yr(Ir(f.latitude),Ir(y.latitude));return 0!==x?x:Yr(Ir(f.longitude),Ir(y.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(f,y){const x=f.values||[],j=y.values||[];for(let oe=0;oe<x.length&&oe<j.length;++oe){const Ae=Xl(x[oe],j[oe]);if(Ae)return Ae}return Yr(x.length,j.length)}(i.arrayValue,e.arrayValue);case 10:return function(f,y){const x=f.fields||{},j=Object.keys(x),oe=y.fields||{},Ae=Object.keys(oe);j.sort(),Ae.sort();for(let Ze=0;Ze<j.length&&Ze<Ae.length;++Ze){const mt=Yr(j[Ze],Ae[Ze]);if(0!==mt)return mt;const zt=Xl(x[j[Ze]],oe[Ae[Ze]]);if(0!==zt)return zt}return Yr(j.length,Ae.length)}(i.mapValue,e.mapValue);default:throw jn()}}function yu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Yr(i,e);const r=fr(i),s=fr(e),f=Yr(r.seconds,s.seconds);return 0!==f?f:Yr(r.nanos,s.nanos)}function Oc(i){return Nc(i)}function Nc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const f=fr(s);return`time(${f.seconds},${f.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?si(i.bytesValue).toBase64():"referenceValue"in i?ir.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let f="[",y=!0;for(const x of s.values||[])y?y=!1:f+=",",f+=Nc(x);return f+"]"}(i.arrayValue):"mapValue"in i?function(s){const f=Object.keys(s.fields||{}).sort();let y="{",x=!0;for(const j of f)x?x=!1:y+=",",y+=`${j}:${Nc(s.fields[j])}`;return y+"}"}(i.mapValue):jn();var e}function Jl(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ec(i){return!!i&&"integerValue"in i}function zs(i){return!!i&&"arrayValue"in i}function dd(i){return!!i&&"nullValue"in i}function eo(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function oa(i){return!!i&&"mapValue"in i}function is(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return T(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=is(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=is(i.arrayValue.values[r]);return e}return Object.assign({},i)}class wo{constructor(e){this.value=e}static empty(){return new wo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!oa(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=is(r)}setAll(e){let r=Fe.emptyPath(),s={},f=[];e.forEach((x,j)=>{if(!r.isImmediateParentOf(j)){const oe=this.getFieldsMap(r);this.applyChanges(oe,s,f),s={},f=[],r=j.popLast()}x?s[j.lastSegment()]=is(x):f.push(j.lastSegment())});const y=this.getFieldsMap(r);this.applyChanges(y,s,f)}delete(e){const r=this.field(e.popLast());oa(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let f=r.mapValue.fields[e.get(s)];oa(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=f),r=f}return r.mapValue.fields}applyChanges(e,r,s){T(r,(f,y)=>e[f]=y);for(const f of s)delete e[f]}clone(){return new wo(is(this.value))}}function bl(i){const e=[];return T(i.fields,(r,s)=>{const f=new Fe([r]);if(oa(s)){const y=bl(s.mapValue).fields;if(0===y.length)e.push(f);else for(const x of y)e.push(f.child(x))}else e.push(f)}),new at(e)}class mi{constructor(e,r,s,f,y){this.key=e,this.documentType=r,this.version=s,this.data=f,this.documentState=y}static newInvalidDocument(e){return new mi(e,0,ei.min(),wo.empty(),0)}static newFoundDocument(e,r,s){return new mi(e,1,r,s,0)}static newNoDocument(e,r){return new mi(e,2,r,wo.empty(),0)}static newUnknownDocument(e,r){return new mi(e,3,r,wo.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new mi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vo{constructor(e,r=null,s=[],f=[],y=null,x=null,j=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=f,this.limit=y,this.startAt=x,this.endAt=j,this.R=null}}function tc(i,e=null,r=[],s=[],f=null,y=null,x=null){return new Vo(i,e,r,s,f,y,x)}function sa(i){const e=bn(i);if(null===e.R){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>function(i){return i.field.canonicalString()+i.op.toString()+Oc(i.value)}(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),So(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=Ta(e.startAt)),e.endAt&&(r+="|ub:",r+=Ta(e.endAt)),e.R=r}return e.R}function rc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let f=0;f<i.orderBy.length;f++)if(!vu(i.orderBy[f],e.orderBy[f]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let f=0;f<i.filters.length;f++)if((r=i.filters[f]).op!==(s=e.filters[f]).op||!r.field.isEqual(s.field)||!Ri(r.value,s.value))return!1;var r,s;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Gs(i.startAt,e.startAt)&&Gs(i.endAt,e.endAt)}function wl(i){return ir.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Wi extends class{}{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.P(e,r,s):new fd(e,r,s):"array-contains"===r?new Es(e,s):"in"===r?new Ya(e,s):"not-in"===r?new ks(e,s):"array-contains-any"===r?new hh(e,s):new Wi(e,r,s)}static P(e,r,s){return"in"===r?new El(e,s):new Uo(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.v(Xl(r,this.value)):null!==r&&As(this.value)===As(r)&&this.v(Xl(r,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jn()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class fd extends Wi{constructor(e,r,s){super(e,r,s),this.key=ir.fromName(s.referenceValue)}matches(e){const r=ir.comparator(e.key,this.key);return this.v(r)}}class El extends Wi{constructor(e,r){super(e,"in",r),this.keys=Ws(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Uo extends Wi{constructor(e,r){super(e,"not-in",r),this.keys=Ws(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Ws(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>ir.fromName(s.referenceValue))}class Es extends Wi{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return zs(r)&&Ql(r.arrayValue,this.value)}}class Ya extends Wi{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Ql(this.value.arrayValue,r)}}class ks extends Wi{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Ql(this.value.arrayValue,r)}}class hh extends Wi{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!zs(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Ql(this.value.arrayValue,s))}}class Da{constructor(e,r){this.position=e,this.before=r}}function Ta(i){return`${i.before?"b":"a"}:${i.position.map(e=>Oc(e)).join(",")}`}class Cl{constructor(e,r="asc"){this.field=e,this.dir=r}}function vu(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function xa(i,e,r){let s=0;for(let f=0;f<i.position.length;f++){const y=e[f],x=i.position[f];if(s=y.field.isKeyField()?ir.comparator(ir.fromName(x.referenceValue),r.key):Xl(x,r.data.field(y.field)),"desc"===y.dir&&(s*=-1),0!==s)break}return i.before?s<=0:s<0}function Gs(i,e){if(null===i)return null===e;if(null===e||i.before!==e.before||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Ri(i.position[r],e.position[r]))return!1;return!0}class gs{constructor(e,r=null,s=[],f=[],y=null,x="F",j=null,oe=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=f,this.limit=y,this.limitType=x,this.startAt=j,this.endAt=oe,this.S=null,this.D=null}}function ic(i,e,r,s,f,y,x,j){return new gs(i,e,r,s,f,y,x,j)}function Lo(i){return new gs(i)}function Sa(i){return!So(i.limit)&&"F"===i.limitType}function Ka(i){return!So(i.limit)&&"L"===i.limitType}function $i(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function ms(i){for(const e of i.filters)if(e.V())return e.field;return null}function Za(i){return null!==i.collectionGroup}function Ms(i){const e=bn(i);if(null===e.S){e.S=[];const r=ms(e),s=$i(e);if(null!==r&&null===s)r.isKeyField()||e.S.push(new Cl(r)),e.S.push(new Cl(Fe.keyField(),"asc"));else{let f=!1;for(const y of e.explicitOrderBy)e.S.push(y),y.field.isKeyField()&&(f=!0);if(!f){const y=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Cl(Fe.keyField(),y))}}}return e.S}function ys(i){const e=bn(i);if(!e.D)if("F"===e.limitType)e.D=tc(e.path,e.collectionGroup,Ms(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const y of Ms(e))r.push(new Cl(y.field,"desc"===y.dir?"asc":"desc"));const s=e.endAt?new Da(e.endAt.position,!e.endAt.before):null,f=e.startAt?new Da(e.startAt.position,!e.startAt.before):null;e.D=tc(e.path,e.collectionGroup,r,e.filters,e.limit,s,f)}return e.D}function Aa(i,e,r){return new gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function os(i,e){return rc(ys(i),ys(e))&&i.limitType===e.limitType}function _u(i){return`${sa(ys(i))}|lt:${i.limitType}`}function zi(i){return`Query(target=${function(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(r=>{return`${(s=r).field.canonicalString()} ${s.op} ${Oc(s.value)}`;var s}).join(", ")}]`),So(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(e+=", startAt: "+Ta(i.startAt)),i.endAt&&(e+=", endAt: "+Ta(i.endAt)),`Target(${e})`}(ys(i))}; limitType=${i.limitType})`}function qs(i,e){return e.isFoundDocument()&&function(r,s){const f=s.key.path;return null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(f):ir.isDocumentKey(r.path)?r.path.isEqual(f):r.path.isImmediateParentOf(f)}(i,e)&&function(r,s){for(const f of r.explicitOrderBy)if(!f.field.isKeyField()&&null===s.data.field(f.field))return!1;return!0}(i,e)&&function(r,s){for(const f of r.filters)if(!f.matches(s))return!1;return!0}(i,e)&&(s=e,!((r=i).startAt&&!xa(r.startAt,Ms(r),s)||r.endAt&&xa(r.endAt,Ms(r),s)));var r,s}function ka(i){return(e,r)=>{let s=!1;for(const f of Ms(i)){const y=oc(f,e,r);if(0!==y)return y;s=s||f.field.isKeyField()}return 0}}function oc(i,e,r){const s=i.field.isKeyField()?ir.comparator(e.key,r.key):function(f,y,x){const j=y.data.field(f),oe=x.data.field(f);return null!==j&&null!==oe?Xl(j,oe):jn()}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return jn()}}function Rs(i,e){if(i.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rs(e)?"-0":e}}function pd(i){return{integerValue:""+i}}function bu(i,e){return Ao(e)?pd(e):Rs(i,e)}class sc{constructor(){this._=void 0}}function Il(i,e,r){return i instanceof vs?function(s,f){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return f&&(y.fields.__previous_value__=f),{mapValue:y}}(r,e):i instanceof Ma?Lc(i,e):i instanceof aa?Xa(i,e):function(s,f){const y=Fc(s,f),x=gd(y)+gd(s.N);return ec(y)&&ec(s.N)?pd(x):Rs(s.k,x)}(i,e)}function Qa(i,e,r){return i instanceof Ma?Lc(i,e):i instanceof aa?Xa(i,e):r}function Fc(i,e){return i instanceof Ja?ec(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var s,r}class vs extends sc{}class Ma extends sc{constructor(e){super(),this.elements=e}}function Lc(i,e){const r=wu(e);for(const s of i.elements)r.some(f=>Ri(f,s))||r.push(s);return{arrayValue:{values:r}}}class aa extends sc{constructor(e){super(),this.elements=e}}function Xa(i,e){let r=wu(e);for(const s of i.elements)r=r.filter(f=>!Ri(f,s));return{arrayValue:{values:r}}}class Ja extends sc{constructor(e,r){super(),this.k=e,this.N=r}}function gd(i){return Ir(i.integerValue||i.doubleValue)}function wu(i){return zs(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ys{constructor(e,r){this.field=e,this.transform=r}}class Eu{constructor(e,r){this.version=e,this.transformResults=r}}class Eo{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Eo}static exists(e){return new Eo(void 0,e)}static updateTime(e){return new Eo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ra(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Bc{}function md(i,e,r){i instanceof Pa?function(s,f,y){const x=s.value.clone(),j=bd(s.fieldTransforms,f,y.transformResults);x.setAll(j),f.convertToFoundDocument(y.version,x).setHasCommittedMutations()}(i,e,r):i instanceof Zo?function(s,f,y){if(!Ra(s.precondition,f))return void f.convertToUnknownDocument(y.version);const x=bd(s.fieldTransforms,f,y.transformResults),j=f.data;j.setAll(_d(s)),j.setAll(x),f.convertToFoundDocument(y.version,j).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function $c(i,e,r){var f;i instanceof Pa?function(s,f,y){if(!Ra(s.precondition,f))return;const x=s.value.clone(),j=fh(s.fieldTransforms,y,f);x.setAll(j),f.convertToFoundDocument(el(f),x).setHasLocalMutations()}(i,e,r):i instanceof Zo?function(s,f,y){if(!Ra(s.precondition,f))return;const x=fh(s.fieldTransforms,y,f),j=f.data;j.setAll(_d(s)),j.setAll(x),f.convertToFoundDocument(el(f),j).setHasLocalMutations()}(i,e,r):Ra(i.precondition,f=e)&&f.convertToNoDocument(ei.min())}function yd(i,e){let r=null;for(const s of i.fieldTransforms){const f=e.data.field(s.field),y=Fc(s.transform,f||null);null!=y&&(null==r&&(r=wo.empty()),r.set(s.field,y))}return r||null}function vd(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===s||r&&s&&Io(r,s,(f,y)=>function(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(r=i.transform)instanceof Ma&&s instanceof Ma||r instanceof aa&&s instanceof aa?Io(r.elements,s.elements,Ri):r instanceof Ja&&s instanceof Ja?Ri(r.N,s.N):r instanceof vs&&s instanceof vs);var r,s}(f,y))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var r,s}function el(i){return i.isFoundDocument()?i.version:ei.min()}class Pa extends Bc{constructor(e,r,s,f=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=f,this.type=0}}class Zo extends Bc{constructor(e,r,s,f,y=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=f,this.fieldTransforms=y,this.type=1}}function _d(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function bd(i,e,r){const s=new Map;br(i.length===r.length);for(let f=0;f<r.length;f++){const y=i[f],x=y.transform,j=e.data.field(y.field);s.set(y.field,Qa(x,j,r[f]))}return s}function fh(i,e,r){const s=new Map;for(const f of i){const y=f.transform,x=r.data.field(f.field);s.set(f.field,Il(y,x,e))}return s}class la extends Bc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class Dl extends Bc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class ac{constructor(e){this.count=e}}var ao,_i;function lc(i){switch(i){default:return jn();case $t.CANCELLED:case $t.UNKNOWN:case $t.DEADLINE_EXCEEDED:case $t.RESOURCE_EXHAUSTED:case $t.INTERNAL:case $t.UNAVAILABLE:case $t.UNAUTHENTICATED:return!1;case $t.INVALID_ARGUMENT:case $t.NOT_FOUND:case $t.ALREADY_EXISTS:case $t.PERMISSION_DENIED:case $t.FAILED_PRECONDITION:case $t.ABORTED:case $t.OUT_OF_RANGE:case $t.UNIMPLEMENTED:case $t.DATA_LOSS:return!0}}function Cu(i){if(void 0===i)return Vi("GRPC error has no .code"),$t.UNKNOWN;switch(i){case ao.OK:return $t.OK;case ao.CANCELLED:return $t.CANCELLED;case ao.UNKNOWN:return $t.UNKNOWN;case ao.DEADLINE_EXCEEDED:return $t.DEADLINE_EXCEEDED;case ao.RESOURCE_EXHAUSTED:return $t.RESOURCE_EXHAUSTED;case ao.INTERNAL:return $t.INTERNAL;case ao.UNAVAILABLE:return $t.UNAVAILABLE;case ao.UNAUTHENTICATED:return $t.UNAUTHENTICATED;case ao.INVALID_ARGUMENT:return $t.INVALID_ARGUMENT;case ao.NOT_FOUND:return $t.NOT_FOUND;case ao.ALREADY_EXISTS:return $t.ALREADY_EXISTS;case ao.PERMISSION_DENIED:return $t.PERMISSION_DENIED;case ao.FAILED_PRECONDITION:return $t.FAILED_PRECONDITION;case ao.ABORTED:return $t.ABORTED;case ao.OUT_OF_RANGE:return $t.OUT_OF_RANGE;case ao.UNIMPLEMENTED:return $t.UNIMPLEMENTED;case ao.DATA_LOSS:return $t.DATA_LOSS;default:return jn()}}(_i=ao||(ao={}))[_i.OK=0]="OK",_i[_i.CANCELLED=1]="CANCELLED",_i[_i.UNKNOWN=2]="UNKNOWN",_i[_i.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_i[_i.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_i[_i.NOT_FOUND=5]="NOT_FOUND",_i[_i.ALREADY_EXISTS=6]="ALREADY_EXISTS",_i[_i.PERMISSION_DENIED=7]="PERMISSION_DENIED",_i[_i.UNAUTHENTICATED=16]="UNAUTHENTICATED",_i[_i.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_i[_i.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_i[_i.ABORTED=10]="ABORTED",_i[_i.OUT_OF_RANGE=11]="OUT_OF_RANGE",_i[_i.UNIMPLEMENTED=12]="UNIMPLEMENTED",_i[_i.INTERNAL=13]="INTERNAL",_i[_i.UNAVAILABLE=14]="UNAVAILABLE",_i[_i.DATA_LOSS=15]="DATA_LOSS";class lo{constructor(e,r){this.comparator=e,this.root=r||ko.EMPTY}insert(e,r){return new lo(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ko.BLACK,null,null))}remove(e){return new lo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ko.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const f=this.comparator(e,s.key);if(0===f)return r+s.left.size;f<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,r,s,f){this.isReverse=f,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=r?s(e.key,r):1,f&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ko{constructor(e,r,s,f,y){this.key=e,this.value=r,this.color=null!=s?s:ko.RED,this.left=null!=f?f:ko.EMPTY,this.right=null!=y?y:ko.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,f,y){return new ko(null!=e?e:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=f?f:this.left,null!=y?y:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let f=this;const y=s(e,f.key);return f=y<0?f.copy(null,null,null,f.left.insert(e,r,s),null):0===y?f.copy(null,r,null,null,null):f.copy(null,null,null,null,f.right.insert(e,r,s)),f.fixUp()}removeMin(){if(this.left.isEmpty())return ko.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,f=this;if(r(e,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(e,r),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===r(e,f.key)){if(f.right.isEmpty())return ko.EMPTY;s=f.right.min(),f=f.copy(s.key,s.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(e,r))}return f.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ko.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ko.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw jn();const e=this.left.check();if(e!==this.right.check())throw jn();return e+(this.isRed()?0:1)}}ko.EMPTY=null,ko.RED=!0,ko.BLACK=!1,ko.EMPTY=new class{constructor(){this.size=0}get key(){throw jn()}get value(){throw jn()}get color(){throw jn()}get left(){throw jn()}get right(){throw jn()}copy(i,e,r,s,f){return this}insert(i,e,r){return new ko(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class co{constructor(e){this.comparator=e,this.data=new lo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const f=s.getNext();if(this.comparator(f.key,e[1])>=0)return;r(f.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Os(this.data.getIterator())}getIteratorFrom(e){return new Os(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const f=r.getNext().key,y=s.getNext().key;if(0!==this.comparator(f,y))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new co(this.comparator);return r.data=e,r}}class Os{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const cc=new lo(ir.comparator);function _s(){return cc}const ph=new lo(ir.comparator);function Iu(){return ph}const Ef=new lo(ir.comparator);function wd(){return Ef}const Cf=new co(ir.comparator);function D(...i){let e=Cf;for(const r of i)e=e.add(r);return e}const m=new co(Yr);function v(){return m}class A{constructor(e,r,s,f,y){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=f,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,r){const s=new Map;return s.set(e,le.createSynthesizedTargetChangeForCurrentChange(e,r)),new A(ei.min(),s,v(),_s(),D())}}class le{constructor(e,r,s,f,y){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=f,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,r){return new le(kn.EMPTY_BYTE_STRING,r,D(),D(),D())}}class Pe{constructor(e,r,s,f){this.$=e,this.removedTargetIds=r,this.key=s,this.F=f}}class Rt{constructor(e,r){this.targetId=e,this.O=r}}class ln{constructor(e,r,s=kn.EMPTY_BYTE_STRING,f=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=f}}class or{constructor(){this.M=0,this.L=Gi(),this.B=kn.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=D(),r=D(),s=D();return this.L.forEach((f,y)=>{switch(y){case 0:e=e.add(f);break;case 2:r=r.add(f);break;case 1:s=s.add(f);break;default:jn()}}),new le(this.B,this.U,e,r,s)}H(){this.q=!1,this.L=Gi()}J(e,r){this.q=!0,this.L=this.L.insert(e,r)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class wr{constructor(e){this.et=e,this.nt=new Map,this.st=_s(),this.it=ii(),this.rt=new co(Yr)}ot(e){for(const r of e.$)e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F);for(const r of e.removedTargetIds)this.ct(r,e.key,e.F)}ut(e){this.forEachTarget(e,r=>{const s=this.ht(r);switch(e.state){case 0:this.lt(r)&&s.W(e.resumeToken);break;case 1:s.Z(),s.K||s.H(),s.W(e.resumeToken);break;case 2:s.Z(),s.K||this.removeTarget(r);break;case 3:this.lt(r)&&(s.tt(),s.W(e.resumeToken));break;case 4:this.lt(r)&&(this.ft(r),s.W(e.resumeToken));break;default:jn()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.nt.forEach((s,f)=>{this.lt(f)&&r(f)})}dt(e){const r=e.targetId,s=e.O.count,f=this.wt(r);if(f){const y=f.target;if(wl(y))if(0===s){const x=new ir(y.path);this.ct(r,x,mi.newNoDocument(x,ei.min()))}else br(1===s);else this._t(r)!==s&&(this.ft(r),this.rt=this.rt.add(r))}}gt(e){const r=new Map;this.nt.forEach((y,x)=>{const j=this.wt(x);if(j){if(y.current&&wl(j.target)){const oe=new ir(j.target.path);null!==this.st.get(oe)||this.yt(x,oe)||this.ct(x,oe,mi.newNoDocument(oe,e))}y.j&&(r.set(x,y.G()),y.H())}});let s=D();this.it.forEach((y,x)=>{let j=!0;x.forEachWhile(oe=>{const Ae=this.wt(oe);return!Ae||2===Ae.purpose||(j=!1,!1)}),j&&(s=s.add(y))});const f=new A(e,r,this.rt,this.st,s);return this.st=_s(),this.it=ii(),this.rt=new co(Yr),f}at(e,r){if(!this.lt(e))return;const s=this.yt(e,r.key)?2:0;this.ht(e).J(r.key,s),this.st=this.st.insert(r.key,r),this.it=this.it.insert(r.key,this.Tt(r.key).add(e))}ct(e,r,s){if(!this.lt(e))return;const f=this.ht(e);this.yt(e,r)?f.J(r,1):f.Y(r),this.it=this.it.insert(r,this.Tt(r).delete(e)),s&&(this.st=this.st.insert(r,s))}removeTarget(e){this.nt.delete(e)}_t(e){const r=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let r=this.nt.get(e);return r||(r=new or,this.nt.set(e,r)),r}Tt(e){let r=this.it.get(e);return r||(r=new co(Yr),this.it=this.it.insert(e,r)),r}lt(e){const r=null!==this.wt(e);return r||mn("WatchChangeAggregator","Detected inactive target",e),r}wt(e){const r=this.nt.get(e);return r&&r.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new or),this.et.getRemoteKeysForTarget(e).forEach(r=>{this.ct(e,r,null)})}yt(e,r){return this.et.getRemoteKeysForTarget(e).has(r)}}function ii(){return new lo(ir.comparator)}function Gi(){return new lo(ir.comparator)}const Mo={asc:"ASCENDING",desc:"DESCENDING"},Ks={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Uc{constructor(e,r){this.databaseId=e,this.C=r}}function Cs(i,e){return i.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tl(i,e){return i.C?e.toBase64():e.toUint8Array()}function tl(i,e){return Cs(i,e.toTimestamp())}function mo(i){return br(!!i),ei.fromTimestamp(function(e){const r=fr(e);return new dr(r.seconds,r.nanos)}(i))}function nl(i,e){return(r=i,new q(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function Ed(i){const e=q.fromString(i);return br(wh(e)),e}function xl(i,e){return nl(i.databaseId,e.path)}function Qo(i,e){const r=Ed(e);if(r.get(1)!==i.databaseId.projectId)throw new vn($t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new vn($t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new ir(Cd(r))}function jc(i,e){return nl(i.databaseId,e)}function ca(i){const e=Ed(i);return 4===e.length?q.emptyPath():Cd(e)}function Ns(i){return new q(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Cd(i){return br(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function gh(i,e,r){return{name:xl(i,e),fields:r.value.mapValue.fields}}function Du(i,e,r){const s=Qo(i,e.name),f=mo(e.updateTime),y=new wo({mapValue:{fields:e.fields}}),x=mi.newFoundDocument(s,f,y);return r&&x.setHasCommittedMutations(),r?x.setHasCommittedMutations():x}function Id(i,e){let r;if(e instanceof Pa)r={update:gh(i,e.key,e.value)};else if(e instanceof la)r={delete:xl(i,e.key)};else if(e instanceof Zo)r={update:gh(i,e.key,e.data),updateMask:xf(e.fieldMask)};else{if(!(e instanceof Dl))return jn();r={verify:xl(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(f,y){const x=y.transform;if(x instanceof vs)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof Ma)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof aa)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof Ja)return{fieldPath:y.field.canonicalString(),increment:x.N};throw jn()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:tl(i,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:jn()),r;var f}function Co(i,e){const r=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?Eo.updateTime(mo(f.updateTime)):void 0!==f.exists?Eo.exists(f.exists):Eo.none():Eo.none(),s=e.updateTransforms?e.updateTransforms.map(f=>function(y,x){let j=null;"setToServerValue"in x?(br("REQUEST_TIME"===x.setToServerValue),j=new vs):"appendMissingElements"in x?j=new Ma(x.appendMissingElements.values||[]):"removeAllFromArray"in x?j=new aa(x.removeAllFromArray.values||[]):"increment"in x?j=new Ja(y,x.increment):jn();const oe=Fe.fromServerFormat(x.fieldPath);return new Ys(oe,j)}(i,f)):[];var f;if(e.update){const f=Qo(i,e.update.name),y=new wo({mapValue:{fields:e.update.fields}});if(e.updateMask){const x=new at((e.updateMask.fieldPaths||[]).map(Ae=>Fe.fromServerFormat(Ae)));return new Zo(f,y,x,r,s)}return new Pa(f,y,r,s)}if(e.delete){const f=Qo(i,e.delete);return new la(f,r)}if(e.verify){const f=Qo(i,e.verify);return new Dl(f,r)}return jn()}function If(i,e){return{documents:[jc(i,e.path)]}}function rl(i,e){const r={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(r.parent=jc(i,s),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=jc(i,s.popLast()),r.structuredQuery.from=[{collectionId:s.lastSegment()}]);const f=function(j){if(0===j.length)return;const oe=j.map(Ae=>function(Ze){if("=="===Ze.op){if(eo(Ze.value))return{unaryFilter:{field:uc(Ze.field),op:"IS_NAN"}};if(dd(Ze.value))return{unaryFilter:{field:uc(Ze.field),op:"IS_NULL"}}}else if("!="===Ze.op){if(eo(Ze.value))return{unaryFilter:{field:uc(Ze.field),op:"IS_NOT_NAN"}};if(dd(Ze.value))return{unaryFilter:{field:uc(Ze.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uc(Ze.field),op:Tf(Ze.op),value:Ze.value}}}(Ae));return 1===oe.length?oe[0]:{compositeFilter:{op:"AND",filters:oe}}}(e.filters);f&&(r.structuredQuery.where=f);const y=function(j){if(0!==j.length)return j.map(oe=>{return{field:uc((Ae=oe).field),direction:_h(Ae.dir)};var Ae})}(e.orderBy);y&&(r.structuredQuery.orderBy=y);const x=(oe=e.limit,i.C||So(oe)?oe:{value:oe});var oe;return null!==x&&(r.structuredQuery.limit=x),e.startAt&&(r.structuredQuery.startAt=Tu(e.startAt)),e.endAt&&(r.structuredQuery.endAt=Tu(e.endAt)),r}function Td(i){let e=ca(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let f=null;if(s>0){br(1===s);const Ze=r.from[0];Ze.allDescendants?f=Ze.collectionId:e=e.child(Ze.collectionId)}let y=[];r.where&&(y=vh(r.where));let x=[];r.orderBy&&(x=r.orderBy.map(Ze=>{return new Cl(Oa((mt=Ze).field),function(zt){switch(zt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(mt.direction));var mt}));let j=null;r.limit&&(j=function(Ze){let mt;return mt="object"==typeof Ze?Ze.value:Ze,So(mt)?null:mt}(r.limit));let oe=null;r.startAt&&(oe=xu(r.startAt));let Ae=null;return r.endAt&&(Ae=xu(r.endAt)),ic(e,f,x,y,j,"F",oe,Ae)}function vh(i){return i?void 0!==i.unaryFilter?[bh(i)]:void 0!==i.fieldFilter?[Bo(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>vh(e)).reduce((e,r)=>e.concat(r)):jn():[]}function Tu(i){return{before:i.before,values:i.position}}function xu(i){return new Da(i.values||[],!!i.before)}function _h(i){return Mo[i]}function Tf(i){return Ks[i]}function uc(i){return{fieldPath:i.canonicalString()}}function Oa(i){return Fe.fromServerFormat(i.fieldPath)}function Bo(i){return Wi.create(Oa(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jn()}}(i.fieldFilter.op),i.fieldFilter.value)}function bh(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Oa(i.unaryFilter.field);return Wi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Oa(i.unaryFilter.field);return Wi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Oa(i.unaryFilter.field);return Wi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Oa(i.unaryFilter.field);return Wi.create(f,"!=",{nullValue:"NULL_VALUE"});default:return jn()}}function xf(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function wh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Yi(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=xd(e)),e=dc(i.get(r),e);return xd(e)}function dc(i,e){let r=e;const s=i.length;for(let f=0;f<s;f++){const y=i.charAt(f);switch(y){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=y}}return r}function xd(i){return i+"\x01\x01"}function Na(i){const e=i.length;if(br(e>=2),2===e)return br("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),q.emptyPath();const r=e-2,s=[];let f="";for(let y=0;y<e;){const x=i.indexOf("\x01",y);switch((x<0||x>r)&&jn(),i.charAt(x+1)){case"\x01":const j=i.substring(y,x);let oe;0===f.length?oe=j:(f+=j,oe=f,f=""),s.push(oe);break;case"\x10":f+=i.substring(y,x),f+="\0";break;case"\x11":f+=i.substring(y,x+1);break;default:jn()}y=x+2}return new q(s)}class Bp{constructor(e,r){this.seconds=e,this.nanoseconds=r}}class Is{constructor(e,r,s){this.ownerId=e,this.allowTabSynchronization=r,this.leaseTimestampMs=s}}Is.store="owner",Is.key="owner";class il{constructor(e,r,s){this.userId=e,this.lastAcknowledgedBatchId=r,this.lastStreamToken=s}}il.store="mutationQueues",il.keyPath="userId";class Ki{constructor(e,r,s,f,y){this.userId=e,this.batchId=r,this.localWriteTimeMs=s,this.baseMutations=f,this.mutations=y}}Ki.store="mutations",Ki.keyPath="batchId",Ki.userMutationsIndex="userMutationsIndex",Ki.userMutationsKeyPath=["userId","batchId"];class jo{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,r){return[e,Yi(r)]}static key(e,r,s){return[e,Yi(r),s]}}jo.store="documentMutations",jo.PLACEHOLDER=new jo;class Sd{constructor(e,r){this.path=e,this.readTime=r}}class Ad{constructor(e,r){this.path=e,this.version=r}}class Zi{constructor(e,r,s,f,y,x){this.unknownDocument=e,this.noDocument=r,this.document=s,this.hasCommittedMutations=f,this.readTime=y,this.parentPath=x}}Zi.store="remoteDocuments",Zi.readTimeIndex="readTimeIndex",Zi.readTimeIndexPath="readTime",Zi.collectionReadTimeIndex="collectionReadTimeIndex",Zi.collectionReadTimeIndexPath=["parentPath","readTime"];class Zs{constructor(e){this.byteSize=e}}Zs.store="remoteDocumentGlobal",Zs.key="remoteDocumentGlobalKey";class Xo{constructor(e,r,s,f,y,x,j){this.targetId=e,this.canonicalId=r,this.readTime=s,this.resumeToken=f,this.lastListenSequenceNumber=y,this.lastLimboFreeSnapshotVersion=x,this.query=j}}Xo.store="targets",Xo.keyPath="targetId",Xo.queryTargetsIndexName="queryTargetsIndex",Xo.queryTargetsKeyPath=["canonicalId","targetId"];class Jo{constructor(e,r,s){this.targetId=e,this.path=r,this.sequenceNumber=s}}Jo.store="targetDocuments",Jo.keyPath=["targetId","path"],Jo.documentTargetsIndex="documentTargetsIndex",Jo.documentTargetsKeyPath=["path","targetId"];class ss{constructor(e,r,s,f){this.highestTargetId=e,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=s,this.targetCount=f}}ss.key="targetGlobalKey",ss.store="targetGlobal";class hc{constructor(e,r){this.collectionId=e,this.parent=r}}hc.store="collectionParents",hc.keyPath=["collectionId","parent"];class ua{constructor(e,r,s,f){this.clientId=e,this.updateTimeMs=r,this.networkEnabled=s,this.inForeground=f}}ua.store="clientMetadata",ua.keyPath="clientId";class Fa{constructor(e,r,s){this.bundleId=e,this.createTime=r,this.version=s}}Fa.store="bundles",Fa.keyPath="bundleId";class Sl{constructor(e,r,s){this.name=e,this.readTime=r,this.bundledQuery=s}}Sl.store="namedQueries",Sl.keyPath="name";const Su=[il.store,Ki.store,jo.store,Zi.store,Xo.store,Is.store,ss.store,Jo.store,ua.store,Zs.store,hc.store,Fa.store,Sl.store],Sf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Af{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class pn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&jn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pn((s,f)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(s,f)},this.catchCallback=y=>{this.wrapFailure(r,y).next(s,f)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof pn?r:pn.resolve(r)}catch(r){return pn.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):pn.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):pn.reject(r)}static resolve(e){return new pn((r,s)=>{r(e)})}static reject(e){return new pn((r,s)=>{s(e)})}static waitFor(e){return new pn((r,s)=>{let f=0,y=0,x=!1;e.forEach(j=>{++f,j.next(()=>{++y,x&&y===f&&r()},oe=>s(oe))}),x=!0,y===f&&r()})}static or(e){let r=pn.resolve(!1);for(const s of e)r=r.next(f=>f?pn.resolve(f):s());return r}static forEach(e,r){const s=[];return e.forEach((f,y)=>{s.push(r.call(this,f,y))}),this.waitFor(s)}}class fc{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.It=new ji,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{r.error?this.It.reject(new ol(e,r.error)):this.It.resolve()},this.transaction.onerror=s=>{const f=ku(s.target.error);this.It.reject(new ol(e,f))}}static open(e,r,s,f){try{return new fc(r,e.transaction(f,s))}catch(y){throw new ol(r,y)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(mn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const r=this.transaction.objectStore(e);return new Au(r)}}class Qs{constructor(e,r,s){this.name=e,this.version=r,this.Rt=s,12.2===Qs.Pt((0,Te.z$)())&&Vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return mn("SimpleDb","Removing database:",e),pc(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Te.hl)())return!1;if(Qs.vt())return!0;const e=(0,Te.z$)(),r=Qs.Pt(e),s=0<r&&r<10,f=Qs.Vt(e),y=0<f&&f<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||y)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,r){return e.store(r)}static Pt(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static Vt(e){const r=e.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Ct(e){var r=this;return(0,a.Z)(function*(){return r.db||(mn("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,f)=>{const y=indexedDB.open(r.name,r.version);y.onsuccess=x=>{s(x.target.result)},y.onblocked=()=>{f(new ol(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=x=>{const j=x.target.error;f("VersionError"===j.name?new vn($t.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===j.name?new vn($t.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+j):new ol(e,j))},y.onupgradeneeded=x=>{mn("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',x.oldVersion),r.Rt.Nt(x.target.result,y.transaction,x.oldVersion,r.version).next(()=>{mn("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.kt&&(r.db.onversionchange=s=>r.kt(s)),r.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,f){var y=this;return(0,a.Z)(function*(){const x="readonly"===r;let j=0;for(;;){++j;try{y.db=yield y.Ct(e);const oe=fc.open(y.db,e,x?"readonly":"readwrite",s),Ae=f(oe).catch(Ze=>(oe.abort(Ze),pn.reject(Ze))).toPromise();return Ae.catch(()=>{}),yield oe.At,Ae}catch(oe){const Ae="FirebaseError"!==oe.name&&j<3;if(mn("SimpleDb","Transaction failed with error:",oe.message,"Retrying:",Ae),y.close(),!Ae)return Promise.reject(oe)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class kf{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return pc(this.$t.delete())}}class ol extends vn{constructor(e,r){super($t.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function as(i){return"IndexedDbTransactionError"===i.name}class Au{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(mn("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(mn("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),pc(s)}add(e){return mn("SimpleDb","ADD",this.store.name,e,e),pc(this.store.add(e))}get(e){return pc(this.store.get(e)).next(r=>(void 0===r&&(r=null),mn("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return mn("SimpleDb","DELETE",this.store.name,e),pc(this.store.delete(e))}count(){return mn("SimpleDb","COUNT",this.store.name),pc(this.store.count())}Bt(e,r){const s=this.cursor(this.options(e,r)),f=[];return this.Ut(s,(y,x)=>{f.push(x)}).next(()=>f)}qt(e,r){mn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.Kt=!1;const f=this.cursor(s);return this.Ut(f,(y,x,j)=>j.delete())}jt(e,r){let s;r?s=e:(s={},r=e);const f=this.cursor(s);return this.Ut(f,r)}Qt(e){const r=this.cursor({});return new pn((s,f)=>{r.onerror=y=>{const x=ku(y.target.error);f(x)},r.onsuccess=y=>{const x=y.target.result;x?e(x.primaryKey,x.value).next(j=>{j?x.continue():s()}):s()}})}Ut(e,r){const s=[];return new pn((f,y)=>{e.onerror=x=>{y(x.target.error)},e.onsuccess=x=>{const j=x.target.result;if(!j)return void f();const oe=new kf(j),Ae=r(j.primaryKey,j.value,oe);if(Ae instanceof pn){const Ze=Ae.catch(mt=>(oe.done(),pn.reject(mt)));s.push(Ze)}oe.isDone?f():null===oe.Mt?j.continue():j.continue(oe.Mt)}}).next(()=>pn.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.Kt?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function pc(i){return new pn((e,r)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const f=ku(s.target.error);r(f)}})}let kd=!1;function ku(i){const e=Qs.Pt((0,Te.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const s=new vn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kd||(kd=!0,setTimeout(()=>{throw s},0)),s}}return i}class Hc extends Af{constructor(e,r){super(),this.Wt=e,this.currentSequenceNumber=r}}function ls(i,e){const r=bn(i);return Qs.Dt(r.Wt,e)}class Al{constructor(e,r,s,f){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=f}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let f=0;f<this.mutations.length;f++){const y=this.mutations[f];y.key.isEqual(e.key)&&md(y,e,s[f])}}applyToLocalView(e){for(const r of this.baseMutations)r.key.isEqual(e.key)&&$c(r,e,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(e.key)&&$c(r,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(r=>{const s=e.get(r.key),f=s;this.applyToLocalView(f),s.isValidDocument()||f.convertToNoDocument(ei.min())})}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),D())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(r,s)=>vd(r,s))&&Io(this.baseMutations,e.baseMutations,(r,s)=>vd(r,s))}}class To{constructor(e,r,s,f){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=f}static from(e,r,s){br(e.mutations.length===s.length);let f=wd();const y=e.mutations;for(let x=0;x<y.length;x++)f=f.insert(y[x].key,s[x].version);return new To(e,r,s,f)}}class kl{constructor(e,r,s,f,y=ei.min(),x=ei.min(),j=kn.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=f,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=x,this.resumeToken=j}withSequenceNumber(e){return new kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class $p{constructor(e){this.Gt=e}}function gc(i,e){if(e.document)return Du(i.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const r=ir.fromSegments(e.noDocument.path),s=mc(e.noDocument.readTime),f=mi.newNoDocument(r,s);return e.hasCommittedMutations?f.setHasCommittedMutations():f}if(e.unknownDocument){const r=ir.fromSegments(e.unknownDocument.path),s=mc(e.unknownDocument.version);return mi.newUnknownDocument(r,s)}return jn()}function Eh(i,e,r){const s=yo(r),f=e.key.path.popLast().toArray();if(e.isFoundDocument()){const y={name:xl(j=i.Gt,(oe=e).key),fields:oe.data.value.mapValue.fields,updateTime:Cs(j,oe.version.toTimestamp())};return new Zi(null,null,y,e.hasCommittedMutations,s,f)}var j,oe;if(e.isNoDocument()){const y=e.key.path.toArray(),x=Ml(e.version),j=e.hasCommittedMutations;return new Zi(null,new Sd(y,x),null,j,s,f)}if(e.isUnknownDocument()){const y=e.key.path.toArray(),x=Ml(e.version);return new Zi(new Ad(y,x),null,null,!0,s,f)}return jn()}function yo(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Mu(i){const e=new dr(i[0],i[1]);return ei.fromTimestamp(e)}function Ml(i){const e=i.toTimestamp();return new Bp(e.seconds,e.nanoseconds)}function mc(i){const e=new dr(i.seconds,i.nanoseconds);return ei.fromTimestamp(e)}function yc(i,e){const r=(e.baseMutations||[]).map(y=>Co(i.Gt,y));for(let y=0;y<e.mutations.length-1;++y){const x=e.mutations[y];y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(x.updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y)}const s=e.mutations.map(y=>Co(i.Gt,y)),f=dr.fromMillis(e.localWriteTimeMs);return new Al(e.batchId,f,r,s)}function sl(i){const e=mc(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?mc(i.lastLimboFreeSnapshotVersion):ei.min();let s;var f;return void 0!==i.query.documents?(br(1===(f=i.query).documents.length),s=ys(Lo(ca(f.documents[0])))):s=ys(Td(i.query)),new kl(s,i.targetId,0,i.lastListenSequenceNumber,e,r,kn.fromBase64String(i.resumeToken))}function Ch(i,e){const r=Ml(e.snapshotVersion),s=Ml(e.lastLimboFreeSnapshotVersion);let f;f=wl(e.target)?If(i.Gt,e.target):rl(i.Gt,e.target);const y=e.resumeToken.toBase64();return new Xo(e.targetId,sa(e.target),r,y,e.sequenceNumber,s,f)}function Ru(i){const e=Td({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Aa(e,e.limit,"L"):e}class vc{getBundleMetadata(e,r){return Pu(e).get(r).next(s=>{if(s)return{id:(f=s).bundleId,createTime:mc(f.createTime),version:f.version};var f})}saveBundleMetadata(e,r){return Pu(e).put({bundleId:(s=r).id,createTime:Ml(mo(s.createTime)),version:s.version});var s}getNamedQuery(e,r){return Md(e).get(r).next(s=>{if(s)return{name:(f=s).name,query:Ru(f.bundledQuery),readTime:mc(f.readTime)};var f})}saveNamedQuery(e,r){return Md(e).put({name:(s=r).name,readTime:Ml(mo(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Pu(i){return ls(i,Fa.store)}function Md(i){return ls(i,Sl.store)}class Xg{constructor(){this.zt=new La}addToCollectionParentIndex(e,r){return this.zt.add(r),pn.resolve()}getCollectionParents(e,r){return pn.resolve(this.zt.getEntries(r))}}class La{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),f=this.index[r]||new co(q.comparator),y=!f.has(s);return this.index[r]=f.add(s),y}has(e){const r=e.lastSegment(),s=e.popLast(),f=this.index[r];return f&&f.has(s)}getEntries(e){return(this.index[e]||new co(q.comparator)).toArray()}}class zc{constructor(){this.Ht=new La}addToCollectionParentIndex(e,r){if(!this.Ht.has(r)){const s=r.lastSegment(),f=r.popLast();e.addOnCommittedListener(()=>{this.Ht.add(r)});const y={collectionId:s,parent:Yi(f)};return Ih(e).put(y)}return pn.resolve()}getCollectionParents(e,r){const s=[],f=IDBKeyRange.bound([r,""],[ns(r),""],!1,!0);return Ih(e).Bt(f).next(y=>{for(const x of y){if(x.collectionId!==r)break;s.push(Na(x.parent))}return s})}}function Ih(i){return ls(i,hc.store)}const Rd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cs{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Mf(i,e,r){const s=i.store(Ki.store),f=i.store(jo.store),y=[],x=IDBKeyRange.only(r.batchId);let j=0;const oe=s.jt({range:x},(Ze,mt,zt)=>(j++,zt.delete()));y.push(oe.next(()=>{br(1===j)}));const Ae=[];for(const Ze of r.mutations){const mt=jo.key(e,Ze.key.path,r.batchId);y.push(f.delete(mt)),Ae.push(Ze.key)}return pn.waitFor(y).next(()=>Ae)}function Pd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw jn();e=i.noDocument}return JSON.stringify(e).length}cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(41943040,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class Od{constructor(e,r,s,f){this.userId=e,this.k=r,this.Jt=s,this.referenceDelegate=f,this.Yt={}}static Xt(e,r,s,f){br(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new Od(y,r,s,f)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rl(e).jt({index:Ki.userMutationsIndex,range:s},(f,y,x)=>{r=!1,x.done()}).next(()=>r)}addMutationBatch(e,r,s,f){const y=Wc(e),x=Rl(e);return x.add({}).next(j=>{br("number"==typeof j);const oe=new Al(j,r,s,f),Ae=function(zt,wn,An){const Rr=An.baseMutations.map(us=>Id(zt.Gt,us)),pi=An.mutations.map(us=>Id(zt.Gt,us));return new Ki(wn,An.batchId,An.localWriteTime.toMillis(),Rr,pi)}(this.k,this.userId,oe),Ze=[];let mt=new co((zt,wn)=>Yr(zt.canonicalString(),wn.canonicalString()));for(const zt of f){const wn=jo.key(this.userId,zt.key.path,j);mt=mt.add(zt.key.path.popLast()),Ze.push(x.put(Ae)),Ze.push(y.put(wn,jo.PLACEHOLDER))}return mt.forEach(zt=>{Ze.push(this.Jt.addToCollectionParentIndex(e,zt))}),e.addOnCommittedListener(()=>{this.Yt[j]=oe.keys()}),pn.waitFor(Ze).next(()=>oe)})}lookupMutationBatch(e,r){return Rl(e).get(r).next(s=>s?(br(s.userId===this.userId),yc(this.k,s)):null)}Zt(e,r){return this.Yt[r]?pn.resolve(this.Yt[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const f=s.keys();return this.Yt[r]=f,f}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,f=IDBKeyRange.lowerBound([this.userId,s]);let y=null;return Rl(e).jt({index:Ki.userMutationsIndex,range:f},(x,j,oe)=>{j.userId===this.userId&&(br(j.batchId>=s),y=yc(this.k,j)),oe.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Rl(e).jt({index:Ki.userMutationsIndex,range:r,reverse:!0},(f,y,x)=>{s=y.batchId,x.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rl(e).Bt(Ki.userMutationsIndex,r).next(s=>s.map(f=>yc(this.k,f)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=jo.prefixForPath(this.userId,r.path),f=IDBKeyRange.lowerBound(s),y=[];return Wc(e).jt({range:f},(x,j,oe)=>{const[Ae,Ze,mt]=x,zt=Na(Ze);if(Ae===this.userId&&r.path.isEqual(zt))return Rl(e).get(mt).next(wn=>{if(!wn)throw jn();br(wn.userId===this.userId),y.push(yc(this.k,wn))});oe.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new co(Yr);const f=[];return r.forEach(y=>{const x=jo.prefixForPath(this.userId,y.path),j=IDBKeyRange.lowerBound(x),oe=Wc(e).jt({range:j},(Ae,Ze,mt)=>{const[zt,wn,An]=Ae,Rr=Na(wn);zt===this.userId&&y.path.isEqual(Rr)?s=s.add(An):mt.done()});f.push(oe)}),pn.waitFor(f).next(()=>this.te(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,f=s.length+1,y=jo.prefixForPath(this.userId,s),x=IDBKeyRange.lowerBound(y);let j=new co(Yr);return Wc(e).jt({range:x},(oe,Ae,Ze)=>{const[mt,zt,wn]=oe,An=Na(zt);mt===this.userId&&s.isPrefixOf(An)?An.length===f&&(j=j.add(wn)):Ze.done()}).next(()=>this.te(e,j))}te(e,r){const s=[],f=[];return r.forEach(y=>{f.push(Rl(e).get(y).next(x=>{if(null===x)throw jn();br(x.userId===this.userId),s.push(yc(this.k,x))}))}),pn.waitFor(f).next(()=>s)}removeMutationBatch(e,r){return Mf(e.Wt,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.ee(r.batchId)}),pn.forEach(s,f=>this.referenceDelegate.markPotentiallyOrphaned(e,f))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return pn.resolve();const s=IDBKeyRange.lowerBound(jo.prefixForUser(this.userId)),f=[];return Wc(e).jt({range:s},(y,x,j)=>{if(y[0]===this.userId){const oe=Na(y[1]);f.push(oe)}else j.done()}).next(()=>{br(0===f.length)})})}containsKey(e,r){return Rf(e,this.userId,r)}ne(e){return Ou(e).get(this.userId).next(r=>r||new il(this.userId,-1,""))}}function Rf(i,e,r){const s=jo.prefixForPath(e,r.path),f=s[1],y=IDBKeyRange.lowerBound(s);let x=!1;return Wc(i).jt({range:y,Kt:!0},(j,oe,Ae)=>{const[Ze,mt,zt]=j;Ze===e&&mt===f&&(x=!0),Ae.done()}).next(()=>x)}function Rl(i){return ls(i,Ki.store)}function Wc(i){return ls(i,jo.store)}function Ou(i){return ls(i,il.store)}class Ba{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Ba(0)}static re(){return new Ba(-1)}}class Pf{constructor(e,r){this.referenceDelegate=e,this.k=r}allocateTargetId(e){return this.oe(e).next(r=>{const s=new Ba(r.highestTargetId);return r.highestTargetId=s.next(),this.ae(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(r=>ei.fromTimestamp(new dr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.oe(e).next(f=>(f.highestListenSequenceNumber=r,s&&(f.lastRemoteSnapshotVersion=s.toTimestamp()),r>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=r),this.ae(e,f)))}addTargetData(e,r){return this.ce(e,r).next(()=>this.oe(e).next(s=>(s.targetCount+=1,this.ue(r,s),this.ae(e,s))))}updateTargetData(e,r){return this.ce(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Fs(e).delete(r.targetId)).next(()=>this.oe(e)).next(s=>(br(s.targetCount>0),s.targetCount-=1,this.ae(e,s)))}removeTargets(e,r,s){let f=0;const y=[];return Fs(e).jt((x,j)=>{const oe=sl(j);oe.sequenceNumber<=r&&null===s.get(oe.targetId)&&(f++,y.push(this.removeTargetData(e,oe)))}).next(()=>pn.waitFor(y)).next(()=>f)}forEachTarget(e,r){return Fs(e).jt((s,f)=>{const y=sl(f);r(y)})}oe(e){return al(e).get(ss.key).next(r=>(br(null!==r),r))}ae(e,r){return al(e).put(ss.key,r)}ce(e,r){return Fs(e).put(Ch(this.k,r))}ue(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.oe(e).next(r=>r.targetCount)}getTargetData(e,r){const s=sa(r),f=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let y=null;return Fs(e).jt({range:f,index:Xo.queryTargetsIndexName},(x,j,oe)=>{const Ae=sl(j);rc(r,Ae.target)&&(y=Ae,oe.done())}).next(()=>y)}addMatchingKeys(e,r,s){const f=[],y=Pl(e);return r.forEach(x=>{const j=Yi(x.path);f.push(y.put(new Jo(s,j))),f.push(this.referenceDelegate.addReference(e,s,x))}),pn.waitFor(f)}removeMatchingKeys(e,r,s){const f=Pl(e);return pn.forEach(r,y=>{const x=Yi(y.path);return pn.waitFor([f.delete([s,x]),this.referenceDelegate.removeReference(e,s,y)])})}removeMatchingKeysForTargetId(e,r){const s=Pl(e),f=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(f)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),f=Pl(e);let y=D();return f.jt({range:s,Kt:!0},(x,j,oe)=>{const Ae=Na(x[1]),Ze=new ir(Ae);y=y.add(Ze)}).next(()=>y)}containsKey(e,r){const s=Yi(r.path),f=IDBKeyRange.bound([s],[ns(s)],!1,!0);let y=0;return Pl(e).jt({index:Jo.documentTargetsIndex,Kt:!0,range:f},([x,j],oe,Ae)=>{0!==x&&(y++,Ae.done())}).next(()=>y>0)}Et(e,r){return Fs(e).get(r).next(s=>s?sl(s):null)}}function Fs(i){return ls(i,Xo.store)}function al(i){return ls(i,ss.store)}function Pl(i){return ls(i,Jo.store)}function $a(i){return _c.apply(this,arguments)}function _c(){return _c=(0,a.Z)(function*(i){if(i.code!==$t.FAILED_PRECONDITION||i.message!==Sf)throw i;mn("LocalStore","Unexpectedly lost primary lease")}),_c.apply(this,arguments)}function Ol([i,e],[r,s]){const f=Yr(i,r);return 0===f?Yr(e,s):f}class bc{constructor(e){this.he=e,this.buffer=new co(Ol),this.le=0}fe(){return++this.le}de(e){const r=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Ol(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Of{constructor(e,r){this.garbageCollector=e,this.asyncQueue=r,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var r=this;const s=this.we?3e5:6e4;mn("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,a.Z)(function*(){r._e=null,r.we=!0;try{yield e.collectGarbage(r.garbageCollector)}catch(f){as(f)?mn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",f):yield $a(f)}yield r.me(e)}))}}class Nf{constructor(e,r){this.ge=e,this.params=r}calculateTargetCount(e,r){return this.ge.ye(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return pn.resolve(Ko.I);const s=new bc(r);return this.ge.forEachTarget(e,f=>s.de(f.sequenceNumber)).next(()=>this.ge.pe(e,f=>s.de(f))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.ge.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.ge.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(mn("LruGarbageCollector","Garbage collection skipped; disabled"),pn.resolve(Rd)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(mn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rd):this.Te(e,r))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,r){let s,f,y,x,j,oe,Ae;const Ze=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(mt=>(mt>this.params.maximumSequenceNumbersToCollect?(mn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${mt}`),f=this.params.maximumSequenceNumbersToCollect):f=mt,x=Date.now(),this.nthSequenceNumber(e,f))).next(mt=>(s=mt,j=Date.now(),this.removeTargets(e,s,r))).next(mt=>(y=mt,oe=Date.now(),this.removeOrphanedDocuments(e,s))).next(mt=>(Ae=Date.now(),xs()<=He.in.DEBUG&&mn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${x-Ze}ms\n\tDetermined least recently used ${f} in `+(j-x)+`ms\n\tRemoved ${y} targets in `+(oe-j)+`ms\n\tRemoved ${mt} documents in `+(Ae-oe)+`ms\nTotal Duration: ${Ae-Ze}ms`),pn.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:y,documentsRemoved:mt})))}}class Nu{constructor(e,r){this.db=e,this.garbageCollector=new Nf(this,r)}ye(e){const r=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(f=>s+f))}Ee(e){let r=0;return this.pe(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}pe(e,r){return this.Ie(e,(s,f)=>r(f))}addReference(e,r,s){return Fu(e,s)}removeReference(e,r,s){return Fu(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return Fu(e,r)}Ae(e,r){return function(s,f){let y=!1;return Ou(s).Qt(x=>Rf(s,x,f).next(j=>(j&&(y=!0),pn.resolve(!j)))).next(()=>y)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let y=0;return this.Ie(e,(x,j)=>{if(j<=r){const oe=this.Ae(e,x).next(Ae=>{if(!Ae)return y++,s.getEntry(e,x).next(()=>(s.removeEntry(x),Pl(e).delete([0,Yi(x.path)])))});f.push(oe)}}).next(()=>pn.waitFor(f)).next(()=>s.apply(e)).next(()=>y)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return Fu(e,r)}Ie(e,r){const s=Pl(e);let f,y=Ko.I;return s.jt({index:Jo.documentTargetsIndex},([x,j],{path:oe,sequenceNumber:Ae})=>{0===x?(y!==Ko.I&&r(new ir(Na(f)),y),y=Ae,f=oe):y=Ko.I}).next(()=>{y!==Ko.I&&r(new ir(Na(f)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fu(i,e){return Pl(i).put((s=i.currentSequenceNumber,new Jo(0,Yi(e.path),s)));var s}class Va{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={}}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[f,y]of s)if(this.equalsFn(f,e))return y}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),f=this.inner[s];if(void 0!==f){for(let y=0;y<f.length;y++)if(this.equalsFn(f[y][0],e))return void(f[y]=[e,r]);f.push([e,r])}else this.inner[s]=[[e,r]]}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let f=0;f<s.length;f++)if(this.equalsFn(s[f][0],e))return 1===s.length?delete this.inner[r]:s.splice(f,1),!0;return!1}forEach(e){T(this.inner,(r,s)=>{for(const[f,y]of s)e(f,y)})}isEmpty(){return I(this.inner)}}class Lu{constructor(){this.changes=new Va(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}getReadTime(e){const r=this.changes.get(e);return r?r.readTime:ei.min()}addEntry(e,r){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:r})}removeEntry(e,r=null){this.assertNotApplied(),this.changes.set(e,{document:mi.newInvalidDocument(e),readTime:r})}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?pn.resolve(s.document):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Nd{constructor(e,r){this.k=e,this.Jt=r}addEntry(e,r,s){return Ls(e).put(wc(r),s)}removeEntry(e,r){const s=Ls(e),f=wc(r);return s.delete(f)}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.Re(e,s)))}getEntry(e,r){return Ls(e).get(wc(r)).next(s=>this.Pe(r,s))}be(e,r){return Ls(e).get(wc(r)).next(s=>({document:this.Pe(r,s),size:Pd(s)}))}getEntries(e,r){let s=_s();return this.ve(e,r,(f,y)=>{const x=this.Pe(f,y);s=s.insert(f,x)}).next(()=>s)}Ve(e,r){let s=_s(),f=new lo(ir.comparator);return this.ve(e,r,(y,x)=>{const j=this.Pe(y,x);s=s.insert(y,j),f=f.insert(y,Pd(x))}).next(()=>({documents:s,Se:f}))}ve(e,r,s){if(r.isEmpty())return pn.resolve();const f=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),y=r.getIterator();let x=y.getNext();return Ls(e).jt({range:f},(j,oe,Ae)=>{const Ze=ir.fromSegments(j);for(;x&&ir.comparator(x,Ze)<0;)s(x,null),x=y.getNext();x&&x.isEqual(Ze)&&(s(x,oe),x=y.hasNext()?y.getNext():null),x?Ae.Lt(x.path.toArray()):Ae.done()}).next(()=>{for(;x;)s(x,null),x=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(e,r,s){let f=_s();const y=r.path.length+1,x={};if(s.isEqual(ei.min())){const j=r.path.toArray();x.range=IDBKeyRange.lowerBound(j)}else{const j=r.path.toArray(),oe=yo(s);x.range=IDBKeyRange.lowerBound([j,oe],!0),x.index=Zi.collectionReadTimeIndex}return Ls(e).jt(x,(j,oe,Ae)=>{if(j.length!==y)return;const Ze=gc(this.k,oe);r.path.isPrefixOf(Ze.key.path)?qs(r,Ze)&&(f=f.insert(Ze.key,Ze)):Ae.done()}).next(()=>f)}newChangeBuffer(e){return new Dh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Th(e).get(Zs.key).next(r=>(br(!!r),r))}Re(e,r){return Th(e).put(Zs.key,r)}Pe(e,r){if(r){const s=gc(this.k,r);if(!s.isNoDocument()||!s.version.isEqual(ei.min()))return s}return mi.newInvalidDocument(e)}}class Dh extends Lu{constructor(e,r){super(),this.De=e,this.trackRemovals=r,this.Ce=new Va(s=>s.toString(),(s,f)=>s.isEqual(f))}applyChanges(e){const r=[];let s=0,f=new co((y,x)=>Yr(y.canonicalString(),x.canonicalString()));return this.changes.forEach((y,x)=>{const j=this.Ce.get(y);if(x.document.isValidDocument()){const oe=Eh(this.De.k,x.document,this.getReadTime(y));f=f.add(y.path.popLast()),s+=Pd(oe)-j,r.push(this.De.addEntry(e,y,oe))}else if(s-=j,this.trackRemovals){const oe=Eh(this.De.k,mi.newNoDocument(y,ei.min()),this.getReadTime(y));r.push(this.De.addEntry(e,y,oe))}else r.push(this.De.removeEntry(e,y))}),f.forEach(y=>{r.push(this.De.Jt.addToCollectionParentIndex(e,y))}),r.push(this.De.updateMetadata(e,s)),pn.waitFor(r)}getFromCache(e,r){return this.De.be(e,r).next(s=>(this.Ce.set(r,s.size),s.document))}getAllFromCache(e,r){return this.De.Ve(e,r).next(({documents:s,Se:f})=>(f.forEach((y,x)=>{this.Ce.set(y,x)}),s))}}function Th(i){return ls(i,Zs.store)}function Ls(i){return ls(i,Zi.store)}function wc(i){return i.path.toArray()}class xh{constructor(e){this.k=e}Nt(e,r,s,f){br(s<f&&s>=0&&f<=11);const y=new fc("createOrUpgrade",r);var j;s<1&&f>=1&&(e.createObjectStore(Is.store),(j=e).createObjectStore(il.store,{keyPath:il.keyPath}),j.createObjectStore(Ki.store,{keyPath:Ki.keyPath,autoIncrement:!0}).createIndex(Ki.userMutationsIndex,Ki.userMutationsKeyPath,{unique:!0}),j.createObjectStore(jo.store),Bu(e),function(j){j.createObjectStore(Zi.store)}(e));let x=pn.resolve();return s<3&&f>=3&&(0!==s&&(function(j){j.deleteObjectStore(Jo.store),j.deleteObjectStore(Xo.store),j.deleteObjectStore(ss.store)}(e),Bu(e)),x=x.next(()=>function(j){const oe=j.store(ss.store),Ae=new ss(0,0,ei.min().toTimestamp(),0);return oe.put(ss.key,Ae)}(y))),s<4&&f>=4&&(0!==s&&(x=x.next(()=>function(j,oe){return oe.store(Ki.store).Bt().next(Ae=>{j.deleteObjectStore(Ki.store),j.createObjectStore(Ki.store,{keyPath:Ki.keyPath,autoIncrement:!0}).createIndex(Ki.userMutationsIndex,Ki.userMutationsKeyPath,{unique:!0});const Ze=oe.store(Ki.store),mt=Ae.map(zt=>Ze.put(zt));return pn.waitFor(mt)})}(e,y))),x=x.next(()=>{!function(j){j.createObjectStore(ua.store,{keyPath:ua.keyPath})}(e)})),s<5&&f>=5&&(x=x.next(()=>this.Ne(y))),s<6&&f>=6&&(x=x.next(()=>(function(j){j.createObjectStore(Zs.store)}(e),this.ke(y)))),s<7&&f>=7&&(x=x.next(()=>this.xe(y))),s<8&&f>=8&&(x=x.next(()=>this.$e(e,y))),s<9&&f>=9&&(x=x.next(()=>{(function(j){j.objectStoreNames.contains("remoteDocumentChanges")&&j.deleteObjectStore("remoteDocumentChanges")})(e),function(j){const oe=j.objectStore(Zi.store);oe.createIndex(Zi.readTimeIndex,Zi.readTimeIndexPath,{unique:!1}),oe.createIndex(Zi.collectionReadTimeIndex,Zi.collectionReadTimeIndexPath,{unique:!1})}(r)})),s<10&&f>=10&&(x=x.next(()=>this.Fe(y))),s<11&&f>=11&&(x=x.next(()=>{(function(j){j.createObjectStore(Fa.store,{keyPath:Fa.keyPath})})(e),function(j){j.createObjectStore(Sl.store,{keyPath:Sl.keyPath})}(e)})),x}ke(e){let r=0;return e.store(Zi.store).jt((s,f)=>{r+=Pd(f)}).next(()=>{const s=new Zs(r);return e.store(Zs.store).put(Zs.key,s)})}Ne(e){const r=e.store(il.store),s=e.store(Ki.store);return r.Bt().next(f=>pn.forEach(f,y=>{const x=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return s.Bt(Ki.userMutationsIndex,x).next(j=>pn.forEach(j,oe=>{br(oe.userId===y.userId);const Ae=yc(this.k,oe);return Mf(e,y.userId,Ae).next(()=>{})}))}))}xe(e){const r=e.store(Jo.store),s=e.store(Zi.store);return e.store(ss.store).get(ss.key).next(f=>{const y=[];return s.jt((x,j)=>{const oe=new q(x),Ae=[0,Yi(oe)];y.push(r.get(Ae).next(Ze=>Ze?pn.resolve():r.put(new Jo(0,Yi(oe),f.highestListenSequenceNumber))))}).next(()=>pn.waitFor(y))})}$e(e,r){e.createObjectStore(hc.store,{keyPath:hc.keyPath});const s=r.store(hc.store),f=new La,y=x=>{if(f.add(x)){const j=x.lastSegment(),oe=x.popLast();return s.put({collectionId:j,parent:Yi(oe)})}};return r.store(Zi.store).jt({Kt:!0},(x,j)=>{const oe=new q(x);return y(oe.popLast())}).next(()=>r.store(jo.store).jt({Kt:!0},([x,j,oe],Ae)=>{const Ze=Na(j);return y(Ze.popLast())}))}Fe(e){const r=e.store(Xo.store);return r.jt((s,f)=>{const y=sl(f),x=Ch(this.k,y);return r.put(x)})}}function Bu(i){i.createObjectStore(Jo.store,{keyPath:Jo.keyPath}).createIndex(Jo.documentTargetsIndex,Jo.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Xo.store,{keyPath:Xo.keyPath}).createIndex(Xo.queryTargetsIndexName,Xo.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(ss.store)}const $u="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Vu{constructor(e,r,s,f,y,x,j,oe,Ae,Ze){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.Oe=y,this.window=x,this.document=j,this.Me=Ae,this.Le=Ze,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=mt=>Promise.resolve(),!Vu.bt())throw new vn($t.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nu(this,f),this.Ge=r+"main",this.k=new $p(oe),this.ze=new Qs(this.Ge,11,new xh(this.k)),this.He=new Pf(this.referenceDelegate,this.k),this.Jt=new zc,this.Je=new Nd(this.k,this.Jt),this.Ye=new vc,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===Ze&&Vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vn($t.FAILED_PRECONDITION,$u);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Ko(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var r=this;return this.We=function(){var s=(0,a.Z)(function*(f){if(r.started)return e(f)});return function(f){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var r=(0,a.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,a.Z)(function*(){r.started&&(yield r.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ec(e).put(new ua(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(r=>this.isPrimary&&!r?this.an(e).next(()=>!1):!!r&&this.cn(e).next(()=>!0))).catch(e=>{if(as(e))return mn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return mn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return xo(e).get(Is.key).next(r=>pn.resolve(this.un(r)))}hn(e){return Ec(e).delete(this.clientId)}ln(){var e=this;return(0,a.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const f=ls(s,ua.store);return f.Bt().next(y=>{const x=e.dn(y,18e5),j=y.filter(oe=>-1===x.indexOf(oe));return pn.forEach(j,oe=>f.delete(oe.clientId)).next(()=>j)})}).catch(()=>[]);if(e.Xe)for(const s of r)e.Xe.removeItem(e.wn(s.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?pn.resolve(!0):xo(e).get(Is.key).next(r=>{if(null!==r&&this.fn(r.leaseTimestampMs,5e3)&&!this._n(r.ownerId)){if(this.un(r)&&this.networkEnabled)return!0;if(!this.un(r)){if(!r.allowTabSynchronization)throw new vn($t.FAILED_PRECONDITION,$u);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ec(e).Bt().next(s=>void 0===this.dn(s,5e3).find(f=>{if(this.clientId!==f.clientId){const x=!this.inForeground&&f.inForeground,j=this.networkEnabled===f.networkEnabled;if(!this.networkEnabled&&f.networkEnabled||x&&j)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&mn("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,a.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Is.store,ua.store],r=>{const s=new Hc(r,Ko.I);return e.an(s).next(()=>e.hn(s))}),e.ze.close(),e.pn()})()}dn(e,r){return e.filter(s=>this.fn(s.updateTimeMs,r)&&!this._n(s.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>Ec(e).Bt().next(r=>this.dn(r,18e5).map(s=>s.clientId)))}get started(){return this.Ue}getMutationQueue(e){return Od.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,r,s){let y;return mn("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===r?"readonly":"readwrite",Su,x=>(y=new Hc(x,this.Be?this.Be.next():Ko.I),"readwrite-primary"===r?this.rn(y).next(j=>!!j||this.on(y)).next(j=>{if(!j)throw Vi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new vn($t.FAILED_PRECONDITION,Sf);return s(y)}).next(j=>this.cn(y).next(()=>j)):this.En(y).next(()=>s(y)))).then(x=>(y.raiseOnCommittedEvent(),x))}En(e){return xo(e).get(Is.key).next(r=>{if(null!==r&&this.fn(r.leaseTimestampMs,5e3)&&!this._n(r.ownerId)&&!this.un(r)&&!(this.Le||this.allowTabSynchronization&&r.allowTabSynchronization))throw new vn($t.FAILED_PRECONDITION,$u)})}cn(e){const r=new Is(this.clientId,this.allowTabSynchronization,Date.now());return xo(e).put(Is.key,r)}static bt(){return Qs.bt()}an(e){const r=xo(e);return r.get(Is.key).next(s=>this.un(s)?(mn("IndexedDbPersistence","Releasing primary lease."),r.delete(Is.key)):pn.resolve())}fn(e,r){const s=Date.now();return!(e<s-r||e>s&&(Vi(`Detected an update time that is in the future: ${e} > ${s}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Te.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var r;try{const s=null!==(null===(r=this.Xe)||void 0===r?void 0:r.getItem(this.wn(e)));return mn("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Vi("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Vi("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xo(i){return ls(i,Is.store)}function Ec(i){return ls(i,ua.store)}function da(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class Fd{constructor(e,r){this.progress=e,this.In=r}}class Xs{constructor(e,r,s){this.Je=e,this.An=r,this.Jt=s}Rn(e,r){return this.An.getAllMutationBatchesAffectingDocumentKey(e,r).next(s=>this.Pn(e,r,s))}Pn(e,r,s){return this.Je.getEntry(e,r).next(f=>{for(const y of s)y.applyToLocalView(f);return f})}bn(e,r){e.forEach((s,f)=>{for(const y of r)y.applyToLocalView(f)})}vn(e,r){return this.Je.getEntries(e,r).next(s=>this.Vn(e,s).next(()=>s))}Vn(e,r){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>this.bn(r,s))}getDocumentsMatchingQuery(e,r,s){return ir.isDocumentKey((f=r).path)&&null===f.collectionGroup&&0===f.filters.length?this.Sn(e,r.path):Za(r)?this.Dn(e,r,s):this.Cn(e,r,s);var f}Sn(e,r){return this.Rn(e,new ir(r)).next(s=>{let f=Iu();return s.isFoundDocument()&&(f=f.insert(s.key,s)),f})}Dn(e,r,s){const f=r.collectionGroup;let y=Iu();return this.Jt.getCollectionParents(e,f).next(x=>pn.forEach(x,j=>{const oe=(Ae=r,Ze=j.child(f),new gs(Ze,null,Ae.explicitOrderBy.slice(),Ae.filters.slice(),Ae.limit,Ae.limitType,Ae.startAt,Ae.endAt));var Ae,Ze;return this.Cn(e,oe,s).next(Ae=>{Ae.forEach((Ze,mt)=>{y=y.insert(Ze,mt)})})}).next(()=>y))}Cn(e,r,s){let f,y;return this.Je.getDocumentsMatchingQuery(e,r,s).next(x=>(f=x,this.An.getAllMutationBatchesAffectingQuery(e,r))).next(x=>(y=x,this.Nn(e,y,f).next(j=>{f=j;for(const oe of y)for(const Ae of oe.mutations){const Ze=Ae.key;let mt=f.get(Ze);null==mt&&(mt=mi.newInvalidDocument(Ze),f=f.insert(Ze,mt)),$c(Ae,mt,oe.localWriteTime),mt.isFoundDocument()||(f=f.remove(Ze))}}))).next(()=>(f.forEach((x,j)=>{qs(r,j)||(f=f.remove(x))}),f))}Nn(e,r,s){let f=D();for(const x of r)for(const j of x.mutations)j instanceof Zo&&null===s.get(j.key)&&(f=f.add(j.key));let y=s;return this.Je.getEntries(e,f).next(x=>(x.forEach((j,oe)=>{oe.isFoundDocument()&&(y=y.insert(j,oe))}),y))}}class Ua{constructor(e,r,s,f){this.targetId=e,this.fromCache=r,this.kn=s,this.xn=f}static $n(e,r){let s=D(),f=D();for(const y of r.docChanges)switch(y.type){case 0:s=s.add(y.doc.key);break;case 1:f=f.add(y.doc.key)}return new Ua(e,r.fromCache,s,f)}}class Ld{Fn(e){this.On=e}getDocumentsMatchingQuery(e,r,s,f){return 0===(y=r).filters.length&&null===y.limit&&null==y.startAt&&null==y.endAt&&(0===y.explicitOrderBy.length||1===y.explicitOrderBy.length&&y.explicitOrderBy[0].field.isKeyField())||s.isEqual(ei.min())?this.Mn(e,r):this.On.vn(e,f).next(y=>{const x=this.Ln(r,y);return(Sa(r)||Ka(r))&&this.Bn(r.limitType,x,f,s)?this.Mn(e,r):(xs()<=He.in.DEBUG&&mn("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zi(r)),this.On.getDocumentsMatchingQuery(e,r,s).next(j=>(x.forEach(oe=>{j=j.insert(oe.key,oe)}),j)))});var y}Ln(e,r){let s=new co(ka(e));return r.forEach((f,y)=>{qs(e,y)&&(s=s.add(y))}),s}Bn(e,r,s,f){if(s.size!==r.size)return!0;const y="F"===e?r.last():r.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(f)>0)}Mn(e,r){return xs()<=He.in.DEBUG&&mn("QueryEngine","Using full collection scan to execute query:",zi(r)),this.On.getDocumentsMatchingQuery(e,r,ei.min())}}class Vp{constructor(e,r,s,f){this.persistence=e,this.Un=r,this.k=f,this.qn=new lo(Yr),this.Kn=new Va(y=>sa(y),rc),this.jn=ei.min(),this.An=e.getMutationQueue(s),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Xs(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.qn))}}function Gc(i,e,r,s){return new Vp(i,e,r,s)}function Ff(i,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,a.Z)(function*(i,e){const r=bn(i);let s=r.An,f=r.Wn;const y=yield r.persistence.runTransaction("Handle user change","readonly",x=>{let j;return r.An.getAllMutationBatches(x).next(oe=>(j=oe,s=r.persistence.getMutationQueue(e),f=new Xs(r.Qn,s,r.persistence.getIndexManager()),s.getAllMutationBatches(x))).next(oe=>{const Ae=[],Ze=[];let mt=D();for(const zt of j){Ae.push(zt.batchId);for(const wn of zt.mutations)mt=mt.add(wn.key)}for(const zt of oe){Ze.push(zt.batchId);for(const wn of zt.mutations)mt=mt.add(wn.key)}return f.vn(x,mt).next(zt=>({Gn:zt,removedBatchIds:Ae,addedBatchIds:Ze}))})});return r.An=s,r.Wn=f,r.Un.Fn(r.Wn),y}),Lf.apply(this,arguments)}function Up(i,e){const r=bn(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const f=e.batch.keys(),y=r.Qn.newChangeBuffer({trackRemovals:!0});return function(x,j,oe,Ae){const Ze=oe.batch,mt=Ze.keys();let zt=pn.resolve();return mt.forEach(wn=>{zt=zt.next(()=>Ae.getEntry(j,wn)).next(An=>{const Rr=oe.docVersions.get(wn);br(null!==Rr),An.version.compareTo(Rr)<0&&(Ze.applyToRemoteDocument(An,oe),An.isValidDocument()&&Ae.addEntry(An,oe.commitVersion))})}),zt.next(()=>x.An.removeMutationBatch(j,Ze))}(r,s,e,y).next(()=>y.apply(s)).next(()=>r.An.performConsistencyCheck(s)).next(()=>r.Wn.vn(s,f))})}function Sh(i){const e=bn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.He.getLastRemoteSnapshotVersion(r))}function Jg(i,e){const r=bn(i),s=e.snapshotVersion;let f=r.qn;return r.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const x=r.Qn.newChangeBuffer({trackRemovals:!0});f=r.qn;const j=[];e.targetChanges.forEach((Ae,Ze)=>{const mt=f.get(Ze);if(!mt)return;j.push(r.He.removeMatchingKeys(y,Ae.removedDocuments,Ze).next(()=>r.He.addMatchingKeys(y,Ae.addedDocuments,Ze)));const zt=Ae.resumeToken;if(zt.approximateByteSize()>0){const wn=mt.withResumeToken(zt,s).withSequenceNumber(y.currentSequenceNumber);f=f.insert(Ze,wn),An=mt,pi=Ae,br((Rr=wn).resumeToken.approximateByteSize()>0),(0===An.resumeToken.approximateByteSize()||Rr.snapshotVersion.toMicroseconds()-An.snapshotVersion.toMicroseconds()>=3e8||pi.addedDocuments.size+pi.modifiedDocuments.size+pi.removedDocuments.size>0)&&j.push(r.He.updateTargetData(y,wn))}var An,Rr,pi});let oe=_s();if(e.documentUpdates.forEach((Ae,Ze)=>{e.resolvedLimboDocuments.has(Ae)&&j.push(r.persistence.referenceDelegate.updateLimboDocument(y,Ae))}),j.push(ha(y,x,e.documentUpdates,s,void 0).next(Ae=>{oe=Ae})),!s.isEqual(ei.min())){const Ae=r.He.getLastRemoteSnapshotVersion(y).next(Ze=>r.He.setTargetsMetadata(y,y.currentSequenceNumber,s));j.push(Ae)}return pn.waitFor(j).next(()=>x.apply(y)).next(()=>r.Wn.Vn(y,oe)).next(()=>oe)}).then(y=>(r.qn=f,y))}function ha(i,e,r,s,f){let y=D();return r.forEach(x=>y=y.add(x)),e.getEntries(i,y).next(x=>{let j=_s();return r.forEach((oe,Ae)=>{const Ze=x.get(oe),mt=(null==f?void 0:f.get(oe))||s;Ae.isNoDocument()&&Ae.version.isEqual(ei.min())?(e.removeEntry(oe,mt),j=j.insert(oe,Ae)):!Ze.isValidDocument()||Ae.version.compareTo(Ze.version)>0||0===Ae.version.compareTo(Ze.version)&&Ze.hasPendingWrites?(e.addEntry(Ae,mt),j=j.insert(oe,Ae)):mn("LocalStore","Ignoring outdated watch update for ",oe,". Current version:",Ze.version," Watch version:",Ae.version)}),j})}function em(i,e){const r=bn(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.An.getNextMutationBatchAfterBatchId(s,e)))}function qc(i,e){const r=bn(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let f;return r.He.getTargetData(s,e).next(y=>y?(f=y,pn.resolve(f)):r.He.allocateTargetId(s).next(x=>(f=new kl(e,x,0,s.currentSequenceNumber),r.He.addTargetData(s,f).next(()=>f))))}).then(s=>{const f=r.qn.get(s.targetId);return(null===f||s.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(r.qn=r.qn.insert(s.targetId,s),r.Kn.set(e,s.targetId)),s})}function ll(i,e,r){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,a.Z)(function*(i,e,r){const s=bn(i),f=s.qn.get(e),y=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",y,x=>s.persistence.referenceDelegate.removeTarget(x,f)))}catch(x){if(!as(x))throw x;mn("LocalStore",`Failed to update sequence numbers for target ${e}: ${x}`)}s.qn=s.qn.remove(e),s.Kn.delete(f.target)}),Yc.apply(this,arguments)}function Nl(i,e,r){const s=bn(i);let f=ei.min(),y=D();return s.persistence.runTransaction("Execute query","readonly",x=>function(j,oe,Ae){const Ze=bn(j),mt=Ze.Kn.get(Ae);return void 0!==mt?pn.resolve(Ze.qn.get(mt)):Ze.He.getTargetData(oe,Ae)}(s,x,ys(e)).next(j=>{if(j)return f=j.lastLimboFreeSnapshotVersion,s.He.getMatchingKeysForTargetId(x,j.targetId).next(oe=>{y=oe})}).next(()=>s.Un.getDocumentsMatchingQuery(x,e,r?f:ei.min(),r?y:D())).next(j=>({documents:j,zn:y})))}function Bf(i,e){const r=bn(i),s=bn(r.He),f=r.qn.get(e);return f?Promise.resolve(f.target):r.persistence.runTransaction("Get target data","readonly",y=>s.Et(y,e).next(x=>x?x.target:null))}function $f(i){const e=bn(i);return e.persistence.runTransaction("Get new document changes","readonly",r=>function(s,f,y){const x=bn(s);let j=_s(),oe=yo(y);const Ae=Ls(f),Ze=IDBKeyRange.lowerBound(oe,!0);return Ae.jt({index:Zi.readTimeIndex,range:Ze},(mt,zt)=>{const wn=gc(x.k,zt);j=j.insert(wn.key,wn),oe=zt.readTime}).next(()=>({In:j,readTime:Mu(oe)}))}(e.Qn,r,e.jn)).then(({In:r,readTime:s})=>(e.jn=s,r))}function Vf(){return Vf=(0,a.Z)(function*(i){const e=bn(i);return e.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(s){const f=Ls(s);let y=ei.min();return f.jt({index:Zi.readTimeIndex,reverse:!0},(x,j,oe)=>{j.readTime&&(y=Mu(j.readTime)),oe.done()}).next(()=>y)}(r)).then(r=>{e.jn=r})}),Vf.apply(this,arguments)}function ni(){return ni=(0,a.Z)(function*(i,e,r,s){const f=bn(i);let y=D(),x=_s(),j=wd();for(const Ze of r){const mt=e.Hn(Ze.metadata.name);Ze.document&&(y=y.add(mt)),x=x.insert(mt,e.Jn(Ze)),j=j.insert(mt,e.Yn(Ze.metadata.readTime))}const oe=f.Qn.newChangeBuffer({trackRemovals:!0}),Ae=yield qc(f,(Ze=s,ys(Lo(q.fromString(`__bundle__/docs/${Ze}`)))));var Ze;return f.persistence.runTransaction("Apply bundle documents","readwrite",Ze=>ha(Ze,oe,x,ei.min(),j).next(mt=>(oe.apply(Ze),mt)).next(mt=>f.He.removeMatchingKeysForTargetId(Ze,Ae.targetId).next(()=>f.He.addMatchingKeys(Ze,y,Ae.targetId)).next(()=>f.Wn.Vn(Ze,mt)).next(()=>mt)))}),ni.apply(this,arguments)}function jp(i,e){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,a.Z)(function*(i,e,r=D()){const s=yield qc(i,ys(Ru(e.bundledQuery))),f=bn(i);return f.persistence.runTransaction("Save named query","readwrite",y=>{const x=mo(e.readTime);if(s.snapshotVersion.compareTo(x)>=0)return f.Ye.saveNamedQuery(y,e);const j=s.withResumeToken(kn.EMPTY_BYTE_STRING,x);return f.qn=f.qn.insert(j.targetId,j),f.He.updateTargetData(y,j).next(()=>f.He.removeMatchingKeysForTargetId(y,s.targetId)).next(()=>f.He.addMatchingKeys(y,r,s.targetId)).next(()=>f.Ye.saveNamedQuery(y,e))})}),Uu.apply(this,arguments)}class Hp{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,r){return pn.resolve(this.Xn.get(r))}saveBundleMetadata(e,r){var s;return this.Xn.set(r.id,{id:(s=r).id,version:s.version,createTime:mo(s.createTime)}),pn.resolve()}getNamedQuery(e,r){return pn.resolve(this.Zn.get(r))}saveNamedQuery(e,r){return this.Zn.set(r.name,{name:(s=r).name,query:Ru(s.bundledQuery),readTime:mo(s.readTime)}),pn.resolve();var s}}class Kc{constructor(){this.ts=new co(to.es),this.ns=new co(to.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,r){const s=new to(e,r);this.ts=this.ts.add(s),this.ns=this.ns.add(s)}rs(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.os(new to(e,r))}cs(e,r){e.forEach(s=>this.removeReference(s,r))}us(e){const r=new ir(new q([])),s=new to(r,e),f=new to(r,e+1),y=[];return this.ns.forEachInRange([s,f],x=>{this.os(x),y.push(x.key)}),y}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const r=new ir(new q([])),s=new to(r,e),f=new to(r,e+1);let y=D();return this.ns.forEachInRange([s,f],x=>{y=y.add(x.key)}),y}containsKey(e){const r=new to(e,0),s=this.ts.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class to{constructor(e,r){this.key=e,this.fs=r}static es(e,r){return ir.comparator(e.key,r.key)||Yr(e.fs,r.fs)}static ss(e,r){return Yr(e.fs,r.fs)||ir.comparator(e.key,r.key)}}class Ah{constructor(e,r){this.Jt=e,this.referenceDelegate=r,this.An=[],this.ds=1,this.ws=new co(to.es)}checkEmpty(e){return pn.resolve(0===this.An.length)}addMutationBatch(e,r,s,f){const y=this.ds;this.ds++;const x=new Al(y,r,s,f);this.An.push(x);for(const j of f)this.ws=this.ws.add(new to(j.key,y)),this.Jt.addToCollectionParentIndex(e,j.key.path.popLast());return pn.resolve(x)}lookupMutationBatch(e,r){return pn.resolve(this._s(r))}getNextMutationBatchAfterBatchId(e,r){const f=this.gs(r+1),y=f<0?0:f;return pn.resolve(this.An.length>y?this.An[y]:null)}getHighestUnacknowledgedBatchId(){return pn.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return pn.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new to(r,0),f=new to(r,Number.POSITIVE_INFINITY),y=[];return this.ws.forEachInRange([s,f],x=>{const j=this._s(x.fs);y.push(j)}),pn.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new co(Yr);return r.forEach(f=>{const y=new to(f,0),x=new to(f,Number.POSITIVE_INFINITY);this.ws.forEachInRange([y,x],j=>{s=s.add(j.fs)})}),pn.resolve(this.ys(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,f=s.length+1;let y=s;ir.isDocumentKey(y)||(y=y.child(""));const x=new to(new ir(y),0);let j=new co(Yr);return this.ws.forEachWhile(oe=>{const Ae=oe.key.path;return!!s.isPrefixOf(Ae)&&(Ae.length===f&&(j=j.add(oe.fs)),!0)},x),pn.resolve(this.ys(j))}ys(e){const r=[];return e.forEach(s=>{const f=this._s(s);null!==f&&r.push(f)}),r}removeMutationBatch(e,r){br(0===this.ps(r.batchId,"removed")),this.An.shift();let s=this.ws;return pn.forEach(r.mutations,f=>{const y=new to(f.key,r.batchId);return s=s.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(()=>{this.ws=s})}ee(e){}containsKey(e,r){const s=new to(r,0),f=this.ws.firstAfterOrEqual(s);return pn.resolve(r.isEqual(f&&f.key))}performConsistencyCheck(e){return pn.resolve()}ps(e,r){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const r=this.gs(e);return r<0||r>=this.An.length?null:this.An[r]}}class rm{constructor(e,r){this.Jt=e,this.Ts=r,this.docs=new lo(ir.comparator),this.size=0}addEntry(e,r,s){const f=r.key,y=this.docs.get(f),x=y?y.size:0,j=this.Ts(r);return this.docs=this.docs.insert(f,{document:r.clone(),size:j,readTime:s}),this.size+=j-x,this.Jt.addToCollectionParentIndex(e,f.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return pn.resolve(s?s.document.clone():mi.newInvalidDocument(r))}getEntries(e,r){let s=_s();return r.forEach(f=>{const y=this.docs.get(f);s=s.insert(f,y?y.document.clone():mi.newInvalidDocument(f))}),pn.resolve(s)}getDocumentsMatchingQuery(e,r,s){let f=_s();const y=new ir(r.path.child("")),x=this.docs.getIteratorFrom(y);for(;x.hasNext();){const{key:j,value:{document:oe,readTime:Ae}}=x.getNext();if(!r.path.isPrefixOf(j.path))break;Ae.compareTo(s)<=0||qs(r,oe)&&(f=f.insert(oe.key,oe.clone()))}return pn.resolve(f)}Es(e,r){return pn.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new kh(this)}getSize(e){return pn.resolve(this.size)}}class kh extends Lu{constructor(e){super(),this.De=e}applyChanges(e){const r=[];return this.changes.forEach((s,f)=>{f.document.isValidDocument()?r.push(this.De.addEntry(e,f.document,this.getReadTime(s))):this.De.removeEntry(s)}),pn.waitFor(r)}getFromCache(e,r){return this.De.getEntry(e,r)}getAllFromCache(e,r){return this.De.getEntries(e,r)}}class Fl{constructor(e){this.persistence=e,this.Is=new Va(r=>sa(r),rc),this.lastRemoteSnapshotVersion=ei.min(),this.highestTargetId=0,this.As=0,this.Rs=new Kc,this.targetCount=0,this.Ps=Ba.ie()}forEachTarget(e,r){return this.Is.forEach((s,f)=>r(f)),pn.resolve()}getLastRemoteSnapshotVersion(e){return pn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pn.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),pn.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.As&&(this.As=r),pn.resolve()}ce(e){this.Is.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Ps=new Ba(r),this.highestTargetId=r),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,r){return this.ce(r),this.targetCount+=1,pn.resolve()}updateTargetData(e,r){return this.ce(r),pn.resolve()}removeTargetData(e,r){return this.Is.delete(r.target),this.Rs.us(r.targetId),this.targetCount-=1,pn.resolve()}removeTargets(e,r,s){let f=0;const y=[];return this.Is.forEach((x,j)=>{j.sequenceNumber<=r&&null===s.get(j.targetId)&&(this.Is.delete(x),y.push(this.removeMatchingKeysForTargetId(e,j.targetId)),f++)}),pn.waitFor(y).next(()=>f)}getTargetCount(e){return pn.resolve(this.targetCount)}getTargetData(e,r){const s=this.Is.get(r)||null;return pn.resolve(s)}addMatchingKeys(e,r,s){return this.Rs.rs(r,s),pn.resolve()}removeMatchingKeys(e,r,s){this.Rs.cs(r,s);const f=this.persistence.referenceDelegate,y=[];return f&&r.forEach(x=>{y.push(f.markPotentiallyOrphaned(e,x))}),pn.waitFor(y)}removeMatchingKeysForTargetId(e,r){return this.Rs.us(r),pn.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Rs.ls(r);return pn.resolve(s)}containsKey(e,r){return pn.resolve(this.Rs.containsKey(r))}}class Mh{constructor(e,r){this.bs={},this.Be=new Ko(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new Fl(this),this.Jt=new Xg,this.Je=new rm(this.Jt,s=>this.referenceDelegate.vs(s)),this.k=new $p(r),this.Ye=new Hp(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let r=this.bs[e.toKey()];return r||(r=new Ah(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,r,s){mn("MemoryPersistence","Starting transaction:",e);const f=new zp(this.Be.next());return this.referenceDelegate.Vs(),s(f).next(y=>this.referenceDelegate.Ss(f).next(()=>y)).toPromise().then(y=>(f.raiseOnCommittedEvent(),y))}Ds(e,r){return pn.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,r)))}}class zp extends Af{constructor(e){super(),this.currentSequenceNumber=e}}class ju{constructor(e){this.persistence=e,this.Cs=new Kc,this.Ns=null}static ks(e){return new ju(e)}get xs(){if(this.Ns)return this.Ns;throw jn()}addReference(e,r,s){return this.Cs.addReference(s,r),this.xs.delete(s.toString()),pn.resolve()}removeReference(e,r,s){return this.Cs.removeReference(s,r),this.xs.add(s.toString()),pn.resolve()}markPotentiallyOrphaned(e,r){return this.xs.add(r.toString()),pn.resolve()}removeTarget(e,r){this.Cs.us(r.targetId).forEach(f=>this.xs.add(f.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(f=>{f.forEach(y=>this.xs.add(y.toString()))}).next(()=>s.removeTargetData(e,r))}Vs(){this.Ns=new Set}Ss(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pn.forEach(this.xs,s=>{const f=ir.fromPath(s);return this.$s(e,f).next(y=>{y||r.removeEntry(f)})}).next(()=>(this.Ns=null,r.apply(e)))}updateLimboDocument(e,r){return this.$s(e,r).next(s=>{s?this.xs.delete(r.toString()):this.xs.add(r.toString())})}vs(e){return 0}$s(e,r){return pn.or([()=>pn.resolve(this.Cs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ds(e,r)])}}function im(i,e){return`firestore_clients_${i}_${e}`}function Rh(i,e,r){let s=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Wp(i,e){return`firestore_targets_${i}_${e}`}class Cc{constructor(e,r,s,f){this.user=e,this.batchId=r,this.state=s,this.error=f}static Fs(e,r,s){const f=JSON.parse(s);let y,x="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return x&&f.error&&(x="string"==typeof f.error.message&&"string"==typeof f.error.code,x&&(y=new vn(f.error.code,f.error.message))),x?new Cc(e,r,f.state,y):(Vi("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ic{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Fs(e,r){const s=JSON.parse(r);let f,y="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return y&&s.error&&(y="string"==typeof s.error.message&&"string"==typeof s.error.code,y&&(f=new vn(s.error.code,s.error.message))),y?new Ic(e,s.state,f):(Vi("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zc{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Fs(e,r){const s=JSON.parse(r);let f="object"==typeof s&&s.activeTargetIds instanceof Array,y=v();for(let x=0;f&&x<s.activeTargetIds.length;++x)f=Ao(s.activeTargetIds[x]),y=y.add(s.activeTargetIds[x]);return f?new Zc(e,y):(Vi("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Bd{constructor(e,r){this.clientId=e,this.onlineState=r}static Fs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Bd(r.clientId,r.onlineState):(Vi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Hu{constructor(){this.activeTargetIds=v()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gp{constructor(e,r,s,f,y){this.window=e,this.Oe=r,this.persistenceKey=s,this.Bs=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new lo(Yr),this.started=!1,this.js=[];const x=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Qs=im(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new Hu),this.Gs=new RegExp(`^firestore_clients_${x}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${x}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${x}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(j){return`firestore_bundle_loaded_${j}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,a.Z)(function*(){const r=yield e.syncEngine.Tn();for(const f of r){if(f===e.Bs)continue;const y=e.getItem(im(e.persistenceKey,f));if(y){const x=Zc.Fs(f,y);x&&(e.Ks=e.Ks.insert(x.clientId,x))}}e.Xs();const s=e.storage.getItem(e.Js);if(s){const f=e.Zs(s);f&&e.ti(f)}for(const f of e.js)e.qs(f);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let r=!1;return this.Ks.forEach((s,f)=>{f.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,r,s){this.ni(e,r,s),this.si(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Wp(this.persistenceKey,e));if(s){const f=Ic.Fs(e,s);f&&(r=f.state)}}return this.ii.Ms(e),this.Xs(),r}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wp(this.persistenceKey,e))}updateQueryState(e,r,s){this.ri(e,r,s)}handleUserChange(e,r,s){r.forEach(f=>{this.si(f)}),this.currentUser=e,s.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return mn("SharedClientState","READ",e,r),r}setItem(e,r){mn("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){mn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(mn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Qs)return void Vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,a.Z)(function*(){if(r.started){if(null!==s.key)if(r.Gs.test(s.key)){if(null==s.newValue){const f=r.ci(s.key);return r.ui(f,null)}{const f=r.hi(s.key,s.newValue);if(f)return r.ui(f.clientId,f)}}else if(r.zs.test(s.key)){if(null!==s.newValue){const f=r.li(s.key,s.newValue);if(f)return r.fi(f)}}else if(r.Hs.test(s.key)){if(null!==s.newValue){const f=r.di(s.key,s.newValue);if(f)return r.wi(f)}}else if(s.key===r.Js){if(null!==s.newValue){const f=r.Zs(s.newValue);if(f)return r.ti(f)}}else if(s.key===r.Ws){const f=function(y){let x=Ko.I;if(null!=y)try{const j=JSON.parse(y);br("number"==typeof j),x=j}catch(j){Vi("SharedClientState","Failed to read sequence number from WebStorage",j)}return x}(s.newValue);f!==Ko.I&&r.sequenceNumberHandler(f)}else if(s.key===r.Ys)return r.syncEngine._i()}else r.js.push(s)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,r,s){const f=new Cc(this.currentUser,e,r,s),y=Rh(this.persistenceKey,this.currentUser,e);this.setItem(y,f.Os())}si(e){const r=Rh(this.persistenceKey,this.currentUser,e);this.removeItem(r)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,r,s){const f=Wp(this.persistenceKey,e),y=new Ic(e,r,s);this.setItem(f,y.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const r=this.Gs.exec(e);return r?r[1]:null}hi(e,r){const s=this.ci(e);return Zc.Fs(s,r)}li(e,r){const s=this.zs.exec(e),f=Number(s[1]);return Cc.Fs(new ki(void 0!==s[2]?s[2]:null),f,r)}di(e,r){const s=this.Hs.exec(e),f=Number(s[1]);return Ic.Fs(f,r)}Zs(e){return Bd.Fs(e)}fi(e){var r=this;return(0,a.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.mi(e.batchId,e.state,e.error);mn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,r){const s=r?this.Ks.insert(e,r):this.Ks.remove(e),f=this.ei(this.Ks),y=this.ei(s),x=[],j=[];return y.forEach(oe=>{f.has(oe)||x.push(oe)}),f.forEach(oe=>{y.has(oe)||j.push(oe)}),this.syncEngine.yi(x,j).then(()=>{this.Ks=s})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let r=v();return e.forEach((s,f)=>{r=r.unionWith(f.activeTargetIds)}),r}}class Uf{constructor(){this.pi=new Hu,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,r,s){this.Ti[e]=r}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new Hu,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class om{Ei(e){}shutdown(){}}class qp{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){mn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){mn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Yp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $d{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class Kp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,r,s,f,y){const x=this.Ui(e,r);mn("RestConnection","Sending: ",x,s);const j={};return this.qi(j,f,y),this.Ki(e,x,j,s).then(oe=>(mn("RestConnection","Received: ",oe),oe),oe=>{throw bo("RestConnection",`${e} failed with error: `,oe,"url: ",x,"request:",s),oe})}ji(e,r,s,f,y){return this.Bi(e,r,s,f,y)}qi(e,r,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+hr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((f,y)=>e[y]=f),s&&s.headers.forEach((f,y)=>e[y]=f)}Ui(e,r){return`${this.Mi}/v1/${r}:${Yp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,r,s,f){return new Promise((y,x)=>{const j=new Yl;j.listenOnce(Rc.COMPLETE,()=>{try{switch(j.getLastErrorCode()){case Ts.NO_ERROR:const Ae=j.getResponseJson();mn("Connection","XHR received:",JSON.stringify(Ae)),y(Ae);break;case Ts.TIMEOUT:mn("Connection",'RPC "'+e+'" timed out'),x(new vn($t.DEADLINE_EXCEEDED,"Request time out"));break;case Ts.HTTP_ERROR:const Ze=j.getStatus();if(mn("Connection",'RPC "'+e+'" failed with status:',Ze,"response text:",j.getResponseText()),Ze>0){const mt=j.getResponseJson().error;if(mt&&mt.status&&mt.message){const zt=function(wn){const An=wn.toLowerCase().replace(/_/g,"-");return Object.values($t).indexOf(An)>=0?An:$t.UNKNOWN}(mt.status);x(new vn(zt,mt.message))}else x(new vn($t.UNKNOWN,"Server responded with status "+j.getStatus()))}else x(new vn($t.UNAVAILABLE,"Connection failed."));break;default:jn()}}finally{mn("Connection",'RPC "'+e+'" completed.')}});const oe=JSON.stringify(f);j.send(r,"POST",oe,s,15)})}Qi(e,r,s){const f=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=Yo(),x=Wa(),j={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(j.xmlHttpFactory=new Ea({})),this.qi(j.initMessageHeaders,r,s),(0,Te.uI)()||(0,Te.b$)()||(0,Te.d)()||(0,Te.w1)()||(0,Te.Mn)()||(0,Te.ru)()||(j.httpHeadersOverwriteParam="$httpHeaders");const oe=f.join("");mn("Connection","Creating WebChannel: "+oe,j);const Ae=y.createWebChannel(oe,j);let Ze=!1,mt=!1;const zt=new $d({Vi:An=>{mt?mn("Connection","Not sending because WebChannel is closed:",An):(Ze||(mn("Connection","Opening WebChannel transport."),Ae.open(),Ze=!0),mn("Connection","WebChannel sending:",An),Ae.send(An))},Si:()=>Ae.close()}),wn=(An,Rr,pi)=>{An.listen(Rr,us=>{try{pi(us)}catch(ra){setTimeout(()=>{throw ra},0)}})};return wn(Ae,js.EventType.OPEN,()=>{mt||mn("Connection","WebChannel transport opened.")}),wn(Ae,js.EventType.CLOSE,()=>{mt||(mt=!0,mn("Connection","WebChannel transport closed"),zt.Fi())}),wn(Ae,js.EventType.ERROR,An=>{mt||(mt=!0,bo("Connection","WebChannel transport errored:",An),zt.Fi(new vn($t.UNAVAILABLE,"The operation could not be completed")))}),wn(Ae,js.EventType.MESSAGE,An=>{var Rr;if(!mt){const pi=An.data[0];br(!!pi);const us=pi,ra=us.error||(null===(Rr=us[0])||void 0===Rr?void 0:Rr.error);if(ra){mn("Connection","WebChannel received error:",ra);const vf=ra.status;let fu=function(by){const Hm=ao[by];if(void 0!==Hm)return Cu(Hm)}(vf),ma=ra.message;void 0===fu&&(fu=$t.INTERNAL,ma="Unknown error status: "+vf+" with message "+ra.message),mt=!0,zt.Fi(new vn(fu,ma)),Ae.close()}else mn("Connection","WebChannel received:",pi),zt.Oi(pi)}}),wn(x,yl.STAT_EVENT,An=>{An.stat===wa.PROXY?mn("Connection","Detected buffering proxy"):An.stat===wa.NOPROXY&&mn("Connection","Detected no buffering proxy")}),setTimeout(()=>{zt.$i()},0),zt}}function jf(){return"undefined"!=typeof window?window:null}function Ph(){return"undefined"!=typeof document?document:null}function Qc(i){return new Uc(i,!0)}class Vd{constructor(e,r,s=1e3,f=1.5,y=6e4){this.Oe=e,this.timerId=r,this.Wi=s,this.Gi=f,this.zi=y,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const r=Math.floor(this.Hi+this.tr()),s=Math.max(0,Date.now()-this.Yi),f=Math.max(0,r-s);f>0&&mn("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.Hi} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,f,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Hf{constructor(e,r,s,f,y,x,j,oe){this.Oe=e,this.nr=s,this.sr=f,this.ir=y,this.authCredentialsProvider=x,this.appCheckCredentialsProvider=j,this.listener=oe,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Vd(e,r)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,a.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,a.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,r){var s=this;return(0,a.Z)(function*(){s.yr(),s.pr(),s.ur.cancel(),s.rr++,4!==e?s.ur.reset():r&&r.code===$t.RESOURCE_EXHAUSTED?(Vi(r.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),s.ur.Xi()):r&&r.code===$t.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Tr(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ni(r)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),r=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,f])=>{this.rr===r&&this.Ir(s,f)},s=>{e(()=>{const f=new vn($t.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Ar(f)})})}Ir(e,r){const s=this.Er(this.rr);this.stream=this.Rr(e,r),this.stream.Di(()=>{s(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(f=>{s(()=>this.Ar(f))}),this.stream.onMessage(f=>{s(()=>this.onMessage(f))})}dr(){var e=this;this.state=5,this.ur.Zi((0,a.Z)(function*(){e.state=0,e.start()}))}Ar(e){return mn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return r=>{this.Oe.enqueueAndForget(()=>this.rr===e?r():(mn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Oh extends Hf{constructor(e,r,s,f,y,x){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,f,x),this.k=y}Rr(e,r){return this.ir.Qi("Listen",e,r)}onMessage(e){this.ur.reset();const r=function(i,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(oe=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===oe?1:"REMOVE"===oe?2:"CURRENT"===oe?3:"RESET"===oe?4:jn(),f=e.targetChange.targetIds||[],y=function(oe,Ae){return oe.C?(br(void 0===Ae||"string"==typeof Ae),kn.fromBase64String(Ae||"")):(br(void 0===Ae||Ae instanceof Uint8Array),kn.fromUint8Array(Ae||new Uint8Array))}(i,e.targetChange.resumeToken),x=e.targetChange.cause,j=x&&function(oe){const Ae=void 0===oe.code?$t.UNKNOWN:Cu(oe.code);return new vn(Ae,oe.message||"")}(x);r=new ln(s,f,y,j||null)}else if("documentChange"in e){const s=e.documentChange,f=Qo(i,s.document.name),y=mo(s.document.updateTime),x=new wo({mapValue:{fields:s.document.fields}}),j=mi.newFoundDocument(f,y,x);r=new Pe(s.targetIds||[],s.removedTargetIds||[],j.key,j)}else if("documentDelete"in e){const s=e.documentDelete,f=Qo(i,s.document),y=s.readTime?mo(s.readTime):ei.min(),x=mi.newNoDocument(f,y);r=new Pe([],s.removedTargetIds||[],x.key,x)}else if("documentRemove"in e){const s=e.documentRemove,f=Qo(i,s.document);r=new Pe([],s.removedTargetIds||[],f,null)}else{if(!("filter"in e))return jn();{const s=e.filter,y=new ac(s.count||0);r=new Rt(s.targetId,y)}}var oe;return r}(this.k,e),s=function(f){if(!("targetChange"in f))return ei.min();const y=f.targetChange;return y.targetIds&&y.targetIds.length?ei.min():y.readTime?mo(y.readTime):ei.min()}(e);return this.listener.Pr(r,s)}br(e){const r={};r.database=Ns(this.k),r.addTarget=function(f,y){let x;const j=y.target;return x=wl(j)?{documents:If(f,j)}:{query:rl(f,j)},x.targetId=y.targetId,y.resumeToken.approximateByteSize()>0?x.resumeToken=Tl(f,y.resumeToken):y.snapshotVersion.compareTo(ei.min())>0&&(x.readTime=Cs(f,y.snapshotVersion.toTimestamp())),x}(this.k,e);const s=function(i,e){const r=function(s,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return jn()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.gr(r)}vr(e){const r={};r.database=Ns(this.k),r.removeTarget=e,this.gr(r)}}class sm extends Hf{constructor(e,r,s,f,y,x){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,f,x),this.k=y,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,r){return this.ir.Qi("Write",e,r)}onMessage(e){if(br(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const r=function(i,e){return i&&i.length>0?(br(void 0!==e),i.map(r=>function(s,f){let y=mo(s.updateTime?s.updateTime:f);return y.isEqual(ei.min())&&(y=mo(f)),new Eu(y,s.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=mo(e.commitTime);return this.listener.Cr(s,r)}return br(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Ns(this.k),this.gr(e)}Dr(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Id(this.k,s))};this.gr(r)}}class ay extends class{}{constructor(e,r,s,f){super(),this.authCredentials=e,this.appCheckCredentials=r,this.ir=s,this.k=f,this.$r=!1}Fr(){if(this.$r)throw new vn($t.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,r,s){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,y])=>this.ir.Bi(e,r,s,f,y)).catch(f=>{throw"FirebaseError"===f.name?(f.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new vn($t.UNKNOWN,f.toString())})}ji(e,r,s){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,y])=>this.ir.ji(e,r,s,f,y)).catch(f=>{throw"FirebaseError"===f.name?(f.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new vn($t.UNKNOWN,f.toString())})}terminate(){this.$r=!0}}class ly{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Vi(r),this.Lr=!1):mn("OnlineStateTracker",r)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class cy{constructor(e,r,s,f,y){var x=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=y,this.Hr.Ei(j=>{s.enqueueAndForget((0,a.Z)(function*(){var oe;fa(x)&&(mn("RemoteStore","Restarting streams for network reachability change."),yield(oe=(0,a.Z)(function*(Ae){const Ze=bn(Ae);Ze.Gr.add(4),yield zu(Ze),Ze.Jr.set("Unknown"),Ze.Gr.delete(4),yield Nh(Ze)}),function(Ae){return oe.apply(this,arguments)})(x))}))}),this.Jr=new ly(s,f)}}function Nh(i){return zf.apply(this,arguments)}function zf(){return zf=(0,a.Z)(function*(i){if(fa(i))for(const e of i.zr)yield e(!0)}),zf.apply(this,arguments)}function zu(i){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,a.Z)(function*(i){for(const e of i.zr)yield e(!1)}),Zp.apply(this,arguments)}function Wf(i,e){const r=bn(i);r.Wr.has(e.targetId)||(r.Wr.set(e.targetId,e),Xc(r)?Gf(r):Gd(r).lr()&&cl(r,e))}function Ud(i,e){const r=bn(i),s=Gd(r);r.Wr.delete(e),s.lr()&&Fh(r,e),0===r.Wr.size&&(s.lr()?s._r():fa(r)&&r.Jr.set("Unknown"))}function cl(i,e){i.Yr.X(e.targetId),Gd(i).br(e)}function Fh(i,e){i.Yr.X(e),Gd(i).vr(e)}function Gf(i){i.Yr=new wr({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Wr.get(e)||null}),Gd(i).start(),i.Jr.Br()}function Xc(i){return fa(i)&&!Gd(i).hr()&&i.Wr.size>0}function fa(i){return 0===bn(i).Gr.size}function Lh(i){i.Yr=void 0}function qf(i){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,a.Z)(function*(i){i.Wr.forEach((e,r)=>{cl(i,e)})}),Wu.apply(this,arguments)}function Ll(i,e){return jd.apply(this,arguments)}function jd(){return jd=(0,a.Z)(function*(i,e){Lh(i),Xc(i)?(i.Jr.Kr(e),Gf(i)):i.Jr.set("Unknown")}),jd.apply(this,arguments)}function Qp(i,e,r){return Gu.apply(this,arguments)}function Gu(){return Gu=(0,a.Z)(function*(i,e,r){if(i.Jr.set("Online"),e instanceof ln&&2===e.state&&e.cause)try{yield(s=(0,a.Z)(function*(f,y){const x=y.cause;for(const j of y.targetIds)f.Wr.has(j)&&(yield f.remoteSyncer.rejectListen(j,x),f.Wr.delete(j),f.Yr.removeTarget(j))}),function(f,y){return s.apply(this,arguments)})(i,e)}catch(s){mn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Hd(i,s)}else if(e instanceof Pe?i.Yr.ot(e):e instanceof Rt?i.Yr.dt(e):i.Yr.ut(e),!r.isEqual(ei.min()))try{const s=yield Sh(i.localStore);r.compareTo(s)>=0&&(yield function(f,y){const x=f.Yr.gt(y);return x.targetChanges.forEach((j,oe)=>{if(j.resumeToken.approximateByteSize()>0){const Ae=f.Wr.get(oe);Ae&&f.Wr.set(oe,Ae.withResumeToken(j.resumeToken,y))}}),x.targetMismatches.forEach(j=>{const oe=f.Wr.get(j);if(!oe)return;f.Wr.set(j,oe.withResumeToken(kn.EMPTY_BYTE_STRING,oe.snapshotVersion)),Fh(f,j);const Ae=new kl(oe.target,j,1,oe.sequenceNumber);cl(f,Ae)}),f.remoteSyncer.applyRemoteEvent(x)}(i,r))}catch(s){mn("RemoteStore","Failed to raise snapshot:",s),yield Hd(i,s)}var s}),Gu.apply(this,arguments)}function Hd(i,e,r){return zd.apply(this,arguments)}function zd(){return zd=(0,a.Z)(function*(i,e,r){if(!as(e))throw e;i.Gr.add(1),yield zu(i),i.Jr.set("Offline"),r||(r=()=>Sh(i.localStore)),i.asyncQueue.enqueueRetryable((0,a.Z)(function*(){mn("RemoteStore","Retrying IndexedDB access"),yield r(),i.Gr.delete(1),yield Nh(i)}))}),zd.apply(this,arguments)}function Xp(i,e){return e().catch(r=>Hd(i,r,e))}function qu(i){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,a.Z)(function*(i){const e=bn(i),r=Bl(e);let s=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;Yu(e);)try{const f=yield em(e.localStore,s);if(null===f){0===e.Qr.length&&r._r();break}s=f.batchId,Yf(e,f)}catch(f){yield Hd(e,f)}eu(e)&&Ku(e)}),Jc.apply(this,arguments)}function Yu(i){return fa(i)&&i.Qr.length<10}function Yf(i,e){i.Qr.push(e);const r=Bl(i);r.lr()&&r.Sr&&r.Dr(e.mutations)}function eu(i){return fa(i)&&!Bl(i).hr()&&i.Qr.length>0}function Ku(i){Bl(i).start()}function Zu(i){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,a.Z)(function*(i){Bl(i).kr()}),Kf.apply(this,arguments)}function Jp(i){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,a.Z)(function*(i){const e=Bl(i);for(const r of i.Qr)e.Dr(r.mutations)}),Bh.apply(this,arguments)}function Zf(i,e,r){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,a.Z)(function*(i,e,r){const s=i.Qr.shift(),f=To.from(s,e,r);yield Xp(i,()=>i.remoteSyncer.applySuccessfulWrite(f)),yield qu(i)}),Wd.apply(this,arguments)}function eg(i,e){return Qu.apply(this,arguments)}function Qu(){return Qu=(0,a.Z)(function*(i,e){var r;e&&Bl(i).Sr&&(yield(r=(0,a.Z)(function*(s,f){if(lc(y=f.code)&&y!==$t.ABORTED){const x=s.Qr.shift();Bl(s).wr(),yield Xp(s,()=>s.remoteSyncer.rejectFailedWrite(x.batchId,f)),yield qu(s)}var y}),function(s,f){return r.apply(this,arguments)})(i,e)),eu(i)&&Ku(i)}),Qu.apply(this,arguments)}function $h(i,e){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,a.Z)(function*(i,e){const r=bn(i);e?(r.Gr.delete(2),yield Nh(r)):e||(r.Gr.add(2),yield zu(r),r.Jr.set("Unknown"))}),Vh.apply(this,arguments)}function Gd(i){return i.Xr||(i.Xr=function(e,r,s){const f=bn(e);return f.Fr(),new Oh(r,f.ir,f.authCredentials,f.appCheckCredentials,f.k,s)}(i.datastore,i.asyncQueue,{Di:qf.bind(null,i),Ni:Ll.bind(null,i),Pr:Qp.bind(null,i)}),i.zr.push(function(){var e=(0,a.Z)(function*(r){r?(i.Xr.wr(),Xc(i)?Gf(i):i.Jr.set("Unknown")):(yield i.Xr.stop(),Lh(i))});return function(r){return e.apply(this,arguments)}}())),i.Xr}function Bl(i){return i.Zr||(i.Zr=function(e,r,s){const f=bn(e);return f.Fr(),new sm(r,f.ir,f.authCredentials,f.appCheckCredentials,f.k,s)}(i.datastore,i.asyncQueue,{Di:Zu.bind(null,i),Ni:eg.bind(null,i),Nr:Jp.bind(null,i),Cr:Zf.bind(null,i)}),i.zr.push(function(){var e=(0,a.Z)(function*(r){r?(i.Zr.wr(),yield qu(i)):(yield i.Zr.stop(),i.Qr.length>0&&(mn("RemoteStore",`Stopping write stream with ${i.Qr.length} pending writes`),i.Qr=[]))});return function(r){return e.apply(this,arguments)}}())),i.Zr}class Uh{constructor(e,r,s,f,y){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=f,this.removalCallback=y,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(x=>{})}static createAndSchedule(e,r,s,f,y){const x=Date.now()+s,j=new Uh(e,r,x,f,y);return j.start(s),j}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vn($t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xu(i,e){if(Vi("AsyncQueue",`${e}: ${i}`),as(i))return new vn($t.UNAVAILABLE,`${e}: ${i}`);throw i}class tu{constructor(e){this.comparator=e?(r,s)=>e(r,s)||ir.comparator(r.key,s.key):(r,s)=>ir.comparator(r.key,s.key),this.keyedMap=Iu(),this.sortedSet=new lo(this.comparator)}static emptySet(e){return new tu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof tu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const f=r.getNext().key,y=s.getNext().key;if(!f.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new tu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class tg{constructor(){this.eo=new lo(ir.comparator)}track(e){const r=e.doc.key,s=this.eo.get(r);s?0!==e.type&&3===s.type?this.eo=this.eo.insert(r,e):3===e.type&&1!==s.type?this.eo=this.eo.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.eo=this.eo.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.eo=this.eo.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.eo=this.eo.remove(r):1===e.type&&2===s.type?this.eo=this.eo.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.eo=this.eo.insert(r,{type:2,doc:e.doc}):jn():this.eo=this.eo.insert(r,e)}no(){const e=[];return this.eo.inorderTraversal((r,s)=>{e.push(s)}),e}}class Ju{constructor(e,r,s,f,y,x,j,oe){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=f,this.mutatedKeys=y,this.fromCache=x,this.syncStateChanged=j,this.excludesMetadataChanges=oe}static fromInitialDocuments(e,r,s,f){const y=[];return r.forEach(x=>{y.push({type:0,doc:x})}),new Ju(e,r,tu.emptySet(r),y,s,f,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&os(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let f=0;f<r.length;f++)if(r[f].type!==s[f].type||!r[f].doc.isEqual(s[f].doc))return!1;return!0}}class Js{constructor(){this.so=void 0,this.listeners=[]}}class am{constructor(){this.queries=new Va(e=>_u(e),os),this.onlineState="Unknown",this.io=new Set}}function Qf(i,e){return ng.apply(this,arguments)}function ng(){return ng=(0,a.Z)(function*(i,e){const r=bn(i),s=e.query;let f=!1,y=r.queries.get(s);if(y||(f=!0,y=new Js),f)try{y.so=yield r.onListen(s)}catch(x){const j=Xu(x,`Initialization of query '${zi(e.query)}' failed`);return void e.onError(j)}r.queries.set(s,y),y.listeners.push(e),e.ro(r.onlineState),y.so&&e.oo(y.so)&&qd(r)}),ng.apply(this,arguments)}function rg(i,e){return jh.apply(this,arguments)}function jh(){return jh=(0,a.Z)(function*(i,e){const r=bn(i),s=e.query;let f=!1;const y=r.queries.get(s);if(y){const x=y.listeners.indexOf(e);x>=0&&(y.listeners.splice(x,1),f=0===y.listeners.length)}if(f)return r.queries.delete(s),r.onUnlisten(s)}),jh.apply(this,arguments)}function uy(i,e){const r=bn(i);let s=!1;for(const f of e){const x=r.queries.get(f.query);if(x){for(const j of x.listeners)j.oo(f)&&(s=!0);x.so=f}}s&&qd(r)}function lm(i,e,r){const s=bn(i),f=s.queries.get(e);if(f)for(const y of f.listeners)y.onError(r);s.queries.delete(e)}function qd(i){i.io.forEach(e=>{e.next()})}class Hh{constructor(e,r,s){this.query=e,this.ao=r,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=s||{}}oo(e){if(!this.options.includeMetadataChanges){const s=[];for(const f of e.docChanges)3!==f.type&&s.push(f);e=new Ju(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.co?this.ho(e)&&(this.ao.next(e),r=!0):this.lo(e,this.onlineState)&&(this.fo(e),r=!0),this.uo=e,r}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let r=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),r=!0),r}lo(e,r){return!e.fromCache||!(this.options.wo&&"Offline"!==r||e.docs.isEmpty()&&"Offline"!==r)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Ju.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class cm{constructor(e,r){this.payload=e,this.byteLength=r}_o(){return"metadata"in this.payload}}class ig{constructor(e){this.k=e}Hn(e){return Qo(this.k,e)}Jn(e){return e.metadata.exists?Du(this.k,e.document,!1):mi.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return mo(e)}}class um{constructor(e,r,s){this.mo=e,this.localStore=r,this.k=s,this.queries=[],this.documents=[],this.progress=Xf(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++r):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}po(e){const r=new Map,s=new ig(this.k);for(const f of e)if(f.metadata.queries){const y=s.Hn(f.metadata.name);for(const x of f.metadata.queries){const j=(r.get(x)||D()).add(y);r.set(x,j)}}return r}complete(){var e=this;return(0,a.Z)(function*(){const r=yield function(i,e,r,s){return ni.apply(this,arguments)}(e.localStore,new ig(e.k),e.documents,e.mo.id),s=e.po(e.documents);for(const f of e.queries)yield jp(e.localStore,f,s.get(f.name));return e.progress.taskState="Success",new Fd(Object.assign({},e.progress),r)})()}}function Xf(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class og{constructor(e){this.key=e}}class Jf{constructor(e){this.key=e}}class sg{constructor(e,r){this.query=e,this.To=r,this.Eo=null,this.current=!1,this.Io=D(),this.mutatedKeys=D(),this.Ao=ka(e),this.Ro=new tu(this.Ao)}get Po(){return this.To}bo(e,r){const s=r?r.vo:new tg,f=r?r.Ro:this.Ro;let y=r?r.mutatedKeys:this.mutatedKeys,x=f,j=!1;const oe=Sa(this.query)&&f.size===this.query.limit?f.last():null,Ae=Ka(this.query)&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal((Ze,mt)=>{const zt=f.get(Ze),wn=qs(this.query,mt)?mt:null,An=!!zt&&this.mutatedKeys.has(zt.key),Rr=!!wn&&(wn.hasLocalMutations||this.mutatedKeys.has(wn.key)&&wn.hasCommittedMutations);let pi=!1;zt&&wn?zt.data.isEqual(wn.data)?An!==Rr&&(s.track({type:3,doc:wn}),pi=!0):this.Vo(zt,wn)||(s.track({type:2,doc:wn}),pi=!0,(oe&&this.Ao(wn,oe)>0||Ae&&this.Ao(wn,Ae)<0)&&(j=!0)):!zt&&wn?(s.track({type:0,doc:wn}),pi=!0):zt&&!wn&&(s.track({type:1,doc:zt}),pi=!0,(oe||Ae)&&(j=!0)),pi&&(wn?(x=x.add(wn),y=Rr?y.add(Ze):y.delete(Ze)):(x=x.delete(Ze),y=y.delete(Ze)))}),Sa(this.query)||Ka(this.query))for(;x.size>this.query.limit;){const Ze=Sa(this.query)?x.last():x.first();x=x.delete(Ze.key),y=y.delete(Ze.key),s.track({type:1,doc:Ze})}return{Ro:x,vo:s,Bn:j,mutatedKeys:y}}Vo(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s){const f=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const y=e.vo.no();y.sort((Ae,Ze)=>function(mt,zt){const wn=An=>{switch(An){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jn()}};return wn(mt)-wn(zt)}(Ae.type,Ze.type)||this.Ao(Ae.doc,Ze.doc)),this.So(s);const x=r?this.Do():[],j=0===this.Io.size&&this.current?1:0,oe=j!==this.Eo;return this.Eo=j,0!==y.length||oe?{snapshot:new Ju(this.query,e.Ro,f,y,e.mutatedKeys,0===j,oe,!1),Co:x}:{Co:x}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new tg,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(r=>this.To=this.To.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.To=this.To.delete(r)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=D(),this.Ro.forEach(s=>{this.No(s.key)&&(this.Io=this.Io.add(s.key))});const r=[];return e.forEach(s=>{this.Io.has(s)||r.push(new Jf(s))}),this.Io.forEach(s=>{e.has(s)||r.push(new og(s))}),r}ko(e){this.To=e.zn,this.Io=D();const r=this.bo(e.documents);return this.applyChanges(r,!0)}xo(){return Ju.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class dm{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class ag{constructor(e){this.key=e,this.$o=!1}}class lg{constructor(e,r,s,f,y,x){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=f,this.currentUser=y,this.maxConcurrentLimboResolutions=x,this.Fo={},this.Oo=new Va(j=>_u(j),os),this.Mo=new Map,this.Lo=new Set,this.Bo=new lo(ir.comparator),this.Uo=new Map,this.qo=new Kc,this.Ko={},this.jo=new Map,this.Qo=Ba.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function hm(i,e){return ea.apply(this,arguments)}function ea(){return ea=(0,a.Z)(function*(i,e){const r=ef(i);let s,f;const y=r.Oo.get(e);if(y)s=y.targetId,r.sharedClientState.addLocalQueryTarget(s),f=y.view.xo();else{const x=yield qc(r.localStore,ys(e)),j=r.sharedClientState.addLocalQueryTarget(x.targetId);s=x.targetId,f=yield Dc(r,e,s,"current"===j),r.isPrimaryClient&&Wf(r.remoteStore,x)}return f}),ea.apply(this,arguments)}function Dc(i,e,r,s){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,a.Z)(function*(i,e,r,s){i.Go=(Ze,mt,zt)=>{return(wn=(0,a.Z)(function*(An,Rr,pi,us){let ra=Rr.view.bo(pi);ra.Bn&&(ra=yield Nl(An.localStore,Rr.query,!1).then(({documents:ma})=>Rr.view.bo(ma,ra)));const vf=us&&us.targetChanges.get(Rr.targetId),fu=Rr.view.applyChanges(ra,An.isPrimaryClient,vf);return ip(An,Rr.targetId,fu.Co),fu.snapshot}),function(An,Rr,pi,us){return wn.apply(this,arguments)})(i,Ze,mt,zt);var wn};const f=yield Nl(i.localStore,e,!0),y=new sg(e,f.zn),x=y.bo(f.documents),j=le.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==i.onlineState),oe=y.applyChanges(x,i.isPrimaryClient,j);ip(i,r,oe.Co);const Ae=new dm(e,r,y);return i.Oo.set(e,Ae),i.Mo.has(r)?i.Mo.get(r).push(e):i.Mo.set(r,[e]),oe.snapshot}),Yd.apply(this,arguments)}function cg(i,e){return ug.apply(this,arguments)}function ug(){return ug=(0,a.Z)(function*(i,e){const r=bn(i),s=r.Oo.get(e),f=r.Mo.get(s.targetId);if(f.length>1)return r.Mo.set(s.targetId,f.filter(y=>!os(y,e))),void r.Oo.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield ll(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),Ud(r.remoteStore,s.targetId),Tc(r,s.targetId)}).catch($a))):(Tc(r,s.targetId),yield ll(r.localStore,s.targetId,!0))}),ug.apply(this,arguments)}function zh(){return zh=(0,a.Z)(function*(i,e,r){const s=xc(i);try{const f=yield function(y,x){const j=bn(y),oe=dr.now(),Ae=x.reduce((mt,zt)=>mt.add(zt.key),D());let Ze;return j.persistence.runTransaction("Locally write mutations","readwrite",mt=>j.Wn.vn(mt,Ae).next(zt=>{Ze=zt;const wn=[];for(const An of x){const Rr=yd(An,Ze.get(An.key));null!=Rr&&wn.push(new Zo(An.key,Rr,bl(Rr.value.mapValue),Eo.exists(!0)))}return j.An.addMutationBatch(mt,oe,wn,x)})).then(mt=>(mt.applyToLocalDocumentSet(Ze),{batchId:mt.batchId,changes:Ze}))}(s.localStore,e);s.sharedClientState.addPendingMutation(f.batchId),function(y,x,j){let oe=y.Ko[y.currentUser.toKey()];oe||(oe=new lo(Yr)),oe=oe.insert(x,j),y.Ko[y.currentUser.toKey()]=oe}(s,f.batchId,r),yield ul(s,f.changes),yield qu(s.remoteStore)}catch(f){const y=Xu(f,"Failed to persist write");r.reject(y)}}),zh.apply(this,arguments)}function ep(i,e){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,a.Z)(function*(i,e){const r=bn(i);try{const s=yield Jg(r.localStore,e);e.targetChanges.forEach((f,y)=>{const x=r.Uo.get(y);x&&(br(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?x.$o=!0:f.modifiedDocuments.size>0?br(x.$o):f.removedDocuments.size>0&&(br(x.$o),x.$o=!1))}),yield ul(r,s,e)}catch(s){yield $a(s)}}),Wh.apply(this,arguments)}function Zd(i,e,r){const s=bn(i);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const f=[];s.Oo.forEach((y,x)=>{const j=x.view.ro(e);j.snapshot&&f.push(j.snapshot)}),function(y,x){const j=bn(y);j.onlineState=x;let oe=!1;j.queries.forEach((Ae,Ze)=>{for(const mt of Ze.listeners)mt.ro(x)&&(oe=!0)}),oe&&qd(j)}(s.eventManager,e),f.length&&s.Fo.Pr(f),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function dg(i,e,r){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,a.Z)(function*(i,e,r){const s=bn(i);s.sharedClientState.updateQueryState(e,"rejected",r);const f=s.Uo.get(e),y=f&&f.key;if(y){let x=new lo(ir.comparator);x=x.insert(y,mi.newNoDocument(y,ei.min()));const j=D().add(y),oe=new A(ei.min(),new Map,new co(Yr),x,j);yield ep(s,oe),s.Bo=s.Bo.remove(y),s.Uo.delete(e),Kh(s)}else yield ll(s.localStore,e,!1).then(()=>Tc(s,e,r)).catch($a)}),Gh.apply(this,arguments)}function qh(i,e){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,a.Z)(function*(i,e){const r=bn(i),s=e.batch.batchId;try{const f=yield Up(r.localStore,e);rp(r,s,null),np(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield ul(r,f)}catch(f){yield $a(f)}}),Qd.apply(this,arguments)}function fm(i,e,r){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,a.Z)(function*(i,e,r){const s=bn(i);try{const f=yield function(y,x){const j=bn(y);return j.persistence.runTransaction("Reject batch","readwrite-primary",oe=>{let Ae;return j.An.lookupMutationBatch(oe,x).next(Ze=>(br(null!==Ze),Ae=Ze.keys(),j.An.removeMutationBatch(oe,Ze))).next(()=>j.An.performConsistencyCheck(oe)).next(()=>j.Wn.vn(oe,Ae))})}(s.localStore,e);rp(s,e,r),np(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield ul(s,f)}catch(f){yield $a(f)}}),Xd.apply(this,arguments)}function Yh(){return Yh=(0,a.Z)(function*(i,e){const r=bn(i);fa(r.remoteStore)||mn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(y){const x=bn(y);return x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",j=>x.An.getHighestUnacknowledgedBatchId(j))}(r.localStore);if(-1===s)return void e.resolve();const f=r.jo.get(s)||[];f.push(e),r.jo.set(s,f)}catch(s){const f=Xu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(f)}}),Yh.apply(this,arguments)}function np(i,e){(i.jo.get(e)||[]).forEach(r=>{r.resolve()}),i.jo.delete(e)}function rp(i,e,r){const s=bn(i);let f=s.Ko[s.currentUser.toKey()];if(f){const y=f.get(e);y&&(r?y.reject(r):y.resolve(),f=f.remove(e)),s.Ko[s.currentUser.toKey()]=f}}function Tc(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Mo.get(e))i.Oo.delete(s),r&&i.Fo.zo(s,r);i.Mo.delete(e),i.isPrimaryClient&&i.qo.us(e).forEach(s=>{i.qo.containsKey(s)||pm(i,s)})}function pm(i,e){i.Lo.delete(e.path.canonicalString());const r=i.Bo.get(e);null!==r&&(Ud(i.remoteStore,r),i.Bo=i.Bo.remove(e),i.Uo.delete(r),Kh(i))}function ip(i,e,r){for(const s of r)s instanceof og?(i.qo.addReference(s.key,e),hg(i,s)):s instanceof Jf?(mn("SyncEngine","Document no longer in limbo: "+s.key),i.qo.removeReference(s.key,e),i.qo.containsKey(s.key)||pm(i,s.key)):jn()}function hg(i,e){const r=e.key,s=r.path.canonicalString();i.Bo.get(r)||i.Lo.has(s)||(mn("SyncEngine","New document in limbo: "+r),i.Lo.add(s),Kh(i))}function Kh(i){for(;i.Lo.size>0&&i.Bo.size<i.maxConcurrentLimboResolutions;){const e=i.Lo.values().next().value;i.Lo.delete(e);const r=new ir(q.fromString(e)),s=i.Qo.next();i.Uo.set(s,new ag(r)),i.Bo=i.Bo.insert(r,s),Wf(i.remoteStore,new kl(ys(Lo(r.path)),s,2,Ko.I))}}function ul(i,e,r){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,a.Z)(function*(i,e,r){const s=bn(i),f=[],y=[],x=[];var j;s.Oo.isEmpty()||(s.Oo.forEach((j,oe)=>{x.push(s.Go(oe,e,r).then(Ae=>{if(Ae){s.isPrimaryClient&&s.sharedClientState.updateQueryState(oe.targetId,Ae.fromCache?"not-current":"current"),f.push(Ae);const Ze=Ua.$n(oe.targetId,Ae);y.push(Ze)}}))}),yield Promise.all(x),s.Fo.Pr(f),yield(j=(0,a.Z)(function*(oe,Ae){const Ze=bn(oe);try{yield Ze.persistence.runTransaction("notifyLocalViewChanges","readwrite",mt=>pn.forEach(Ae,zt=>pn.forEach(zt.kn,wn=>Ze.persistence.referenceDelegate.addReference(mt,zt.targetId,wn)).next(()=>pn.forEach(zt.xn,wn=>Ze.persistence.referenceDelegate.removeReference(mt,zt.targetId,wn)))))}catch(mt){if(!as(mt))throw mt;mn("LocalStore","Failed to update sequence numbers: "+mt)}for(const mt of Ae){const zt=mt.targetId;if(!mt.fromCache){const wn=Ze.qn.get(zt),Rr=wn.withLastLimboFreeSnapshotVersion(wn.snapshotVersion);Ze.qn=Ze.qn.insert(zt,Rr)}}}),function(oe,Ae){return j.apply(this,arguments)})(s.localStore,y))}),Zh.apply(this,arguments)}function fg(i,e){return ja.apply(this,arguments)}function ja(){return ja=(0,a.Z)(function*(i,e){const r=bn(i);if(!r.currentUser.isEqual(e)){mn("SyncEngine","User change. New user:",e.toKey());const s=yield Ff(r.localStore,e);r.currentUser=e,(f=r).jo.forEach(x=>{x.forEach(j=>{j.reject(new vn($t.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.jo.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield ul(r,s.Gn)}var f}),ja.apply(this,arguments)}function Qh(i,e){const r=bn(i),s=r.Uo.get(e);if(s&&s.$o)return D().add(s.key);{let f=D();const y=r.Mo.get(e);if(!y)return f;for(const x of y){const j=r.Oo.get(x);f=f.unionWith(j.view.Po)}return f}}function gm(i,e){return op.apply(this,arguments)}function op(){return op=(0,a.Z)(function*(i,e){const r=bn(i),s=yield Nl(r.localStore,e.query,!0),f=e.view.ko(s);return r.isPrimaryClient&&ip(r,e.targetId,f.Co),f}),op.apply(this,arguments)}function dy(i){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,a.Z)(function*(i){const e=bn(i);return $f(e.localStore).then(r=>ul(e,r))}),Jd.apply(this,arguments)}function pg(i,e,r,s){return eh.apply(this,arguments)}function eh(){return eh=(0,a.Z)(function*(i,e,r,s){const f=bn(i),y=yield function(x,j){const oe=bn(x),Ae=bn(oe.An);return oe.persistence.runTransaction("Lookup mutation documents","readonly",Ze=>Ae.Zt(Ze,j).next(mt=>mt?oe.Wn.vn(Ze,mt):pn.resolve(null)))}(f.localStore,e);var j;null!==y?("pending"===r?yield qu(f.remoteStore):"acknowledged"===r||"rejected"===r?(rp(f,e,s||null),np(f,e),j=e,bn(bn(f.localStore).An).ee(j)):jn(),yield ul(f,y)):mn("SyncEngine","Cannot apply mutation batch with id: "+e)}),eh.apply(this,arguments)}function sp(){return sp=(0,a.Z)(function*(i,e){const r=bn(i);if(ef(r),xc(r),!0===e&&!0!==r.Wo){const s=r.sharedClientState.getAllActiveQueryTargets(),f=yield Xh(r,s.toArray());r.Wo=!0,yield $h(r.remoteStore,!0);for(const y of f)Wf(r.remoteStore,y)}else if(!1===e&&!1!==r.Wo){const s=[];let f=Promise.resolve();r.Mo.forEach((y,x)=>{r.sharedClientState.isLocalQueryTarget(x)?s.push(x):f=f.then(()=>(Tc(r,x),ll(r.localStore,x,!0))),Ud(r.remoteStore,x)}),yield f,yield Xh(r,s),function(y){const x=bn(y);x.Uo.forEach((j,oe)=>{Ud(x.remoteStore,oe)}),x.qo.hs(),x.Uo=new Map,x.Bo=new lo(ir.comparator)}(r),r.Wo=!1,yield $h(r.remoteStore,!1)}}),sp.apply(this,arguments)}function Xh(i,e,r){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,a.Z)(function*(i,e,r){const s=bn(i),f=[],y=[];for(const x of e){let j;const oe=s.Mo.get(x);if(oe&&0!==oe.length){j=yield qc(s.localStore,ys(oe[0]));for(const Ae of oe){const Ze=s.Oo.get(Ae),mt=yield gm(s,Ze);mt.snapshot&&y.push(mt.snapshot)}}else{const Ae=yield Bf(s.localStore,x);j=yield qc(s.localStore,Ae),yield Dc(s,ap(Ae),x,!1)}f.push(j)}return s.Fo.Pr(y),f}),Jh.apply(this,arguments)}function ap(i){return ic(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function gg(i){const e=bn(i);return bn(bn(e.localStore).persistence).Tn()}function mm(i,e,r,s){return nh.apply(this,arguments)}function nh(){return nh=(0,a.Z)(function*(i,e,r,s){const f=bn(i);if(f.Wo)mn("SyncEngine","Ignoring unexpected query state notification.");else if(f.Mo.has(e))switch(r){case"current":case"not-current":{const y=yield $f(f.localStore),x=A.createSynthesizedRemoteEventForCurrentChange(e,"current"===r);yield ul(f,y,x);break}case"rejected":yield ll(f.localStore,e,!0),Tc(f,e,s);break;default:jn()}}),nh.apply(this,arguments)}function mg(i,e,r){return lp.apply(this,arguments)}function lp(){return lp=(0,a.Z)(function*(i,e,r){const s=ef(i);if(s.Wo){for(const f of e){if(s.Mo.has(f)){mn("SyncEngine","Adding an already active target "+f);continue}const y=yield Bf(s.localStore,f),x=yield qc(s.localStore,y);yield Dc(s,ap(y),x.targetId,!1),Wf(s.remoteStore,x)}for(const f of r)s.Mo.has(f)&&(yield ll(s.localStore,f,!1).then(()=>{Ud(s.remoteStore,f),Tc(s,f)}).catch($a))}}),lp.apply(this,arguments)}function ef(i){const e=bn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ep.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dg.bind(null,e),e.Fo.Pr=uy.bind(null,e.eventManager),e.Fo.zo=lm.bind(null,e.eventManager),e}function xc(i){const e=bn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fm.bind(null,e),e}class vg{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,a.Z)(function*(){r.k=Qc(e.databaseInfo.databaseId),r.sharedClientState=r.Jo(e),r.persistence=r.Yo(e),yield r.persistence.start(),r.gcScheduler=r.Xo(e),r.localStore=r.Zo(e)})()}Xo(e){return null}Zo(e){return Gc(this.persistence,new Ld,e.initialUser,this.k)}Yo(e){return new Mh(ju.ks,this.k)}Jo(e){return new Uf}terminate(){var e=this;return(0,a.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _g extends vg{constructor(e,r,s){super(),this.ta=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,a.Z)(function*(){yield r().call(s,e),yield function(i){return Vf.apply(this,arguments)}(s.localStore),yield s.ta.initialize(s,e),yield xc(s.ta.syncEngine),yield qu(s.ta.remoteStore),yield s.persistence.sn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Zo(e){return Gc(this.persistence,new Ld,e.initialUser,this.k)}Xo(e){return new Of(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const r=da(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new Vu(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,jf(),Ph(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new Uf}}class ed extends _g{constructor(e,r){super(e,r,!1),this.ta=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,a.Z)(function*(){yield r().call(s,e);const f=s.ta.syncEngine;s.sharedClientState instanceof Gp&&(s.sharedClientState.syncEngine={mi:pg.bind(null,f),gi:mm.bind(null,f),yi:mg.bind(null,f),Tn:gg.bind(null,f),_i:dy.bind(null,f)},yield s.sharedClientState.start()),yield s.persistence.sn(function(){var y=(0,a.Z)(function*(x){yield function(i,e){return sp.apply(this,arguments)}(s.ta.syncEngine,x),s.gcScheduler&&(x&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):x||s.gcScheduler.stop())});return function(x){return y.apply(this,arguments)}}())})()}Jo(e){const r=jf();if(!Gp.bt(r))throw new vn($t.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=da(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Gp(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class cp{initialize(e,r){var s=this;return(0,a.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=f=>Zd(s.syncEngine,f,1),s.remoteStore.remoteSyncer.handleCredentialChange=fg.bind(null,s.syncEngine),yield $h(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new am}createDatastore(e){const r=Qc(e.databaseInfo.databaseId),s=new Kp(e.databaseInfo);return new ay(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return r=this.localStore,s=this.datastore,f=e.asyncQueue,y=j=>Zd(this.syncEngine,j,0),x=qp.bt()?new qp:new om,new cy(r,s,f,y,x);var r,s,f,y,x}createSyncEngine(e,r){return function(s,f,y,x,j,oe,Ae){const Ze=new lg(s,f,y,x,j,oe);return Ae&&(Ze.Wo=!0),Ze}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,a.Z)(function*(r){const s=bn(r);mn("RemoteStore","RemoteStore shutting down."),s.Gr.add(5),yield zu(s),s.Hr.shutdown(),s.Jr.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function bg(i,e=10240){let r=0;return{read:()=>(0,a.Z)(function*(){if(r<i.byteLength){const s={value:i.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,a.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class ym{constructor(e,r){this.sa=e,this.k=r,this.metadata=new ji,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(s=>{s&&s._o()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.sa.cancel()}getMetadata(){var e=this;return(0,a.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,a.Z)(function*(){return yield e.getMetadata(),e.ra()})()}ra(){var e=this;return(0,a.Z)(function*(){const r=yield e.oa();if(null===r)return null;const s=e.ia.decode(r),f=Number(s);isNaN(f)&&e.aa(`length string (${s}) is not valid number`);const y=yield e.ca(f);return new cm(JSON.parse(y),r.length+f)})()}ua(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oa(){var e=this;return(0,a.Z)(function*(){for(;e.ua()<0&&!(yield e.ha()););if(0===e.buffer.length)return null;const r=e.ua();r<0&&e.aa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}ca(e){var r=this;return(0,a.Z)(function*(){for(;r.buffer.length<e;)(yield r.ha())&&r.aa("Reached the end of bundle when more is expected.");const s=r.ia.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}ha(){var e=this;return(0,a.Z)(function*(){const r=yield e.sa.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class pa{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,a.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new vn($t.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(f=(0,a.Z)(function*(y,x){const j=bn(y),oe=Ns(j.k)+"/documents",Ae={documents:x.map(wn=>xl(j.k,wn))},Ze=yield j.ji("BatchGetDocuments",oe,Ae),mt=new Map;Ze.forEach(wn=>{const An=function(i,e){return"found"in e?function(r,s){br(!!s.found);const f=Qo(r,s.found.name),y=mo(s.found.updateTime),x=new wo({mapValue:{fields:s.found.fields}});return mi.newFoundDocument(f,y,x)}(i,e):"missing"in e?function(r,s){br(!!s.missing),br(!!s.readTime);const f=Qo(r,s.missing),y=mo(s.readTime);return mi.newNoDocument(f,y)}(i,e):jn()}(j.k,wn);mt.set(An.key.toString(),An)});const zt=[];return x.forEach(wn=>{const An=mt.get(wn.toString());br(!!An),zt.push(An)}),zt}),function(y,x){return f.apply(this,arguments)})(r.datastore,e);var f;return s.forEach(f=>r.recordVersion(f)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new la(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,a.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,f)=>{const y=ir.fromPath(f);e.mutations.push(new Dl(y,e.precondition(y)))}),yield(s=(0,a.Z)(function*(f,y){const x=bn(f),j=Ns(x.k)+"/documents",oe={writes:y.map(Ae=>Id(x.k,Ae))};yield x.Bi("Commit",j,oe)}),function(f,y){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw jn();r=ei.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new vn($t.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?Eo.updateTime(r):Eo.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(ei.min()))throw new vn($t.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Eo.updateTime(r)}return Eo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class up{constructor(e,r,s,f){this.asyncQueue=e,this.datastore=r,this.updateFunction=s,this.deferred=f,this.la=5,this.ur=new Vd(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var e=this;this.ur.Zi((0,a.Z)(function*(){const r=new pa(e.datastore),s=e.da(r);s&&s.then(f=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(f)}).catch(y=>{e.wa(y)}))}).catch(f=>{e.wa(f)})}))}da(e){try{const r=this.updateFunction(e);return!So(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||!lc(r)}return!1}}class wg{constructor(e,r,s,f){var y=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=f,this.user=ki.UNAUTHENTICATED,this.clientId=Ss.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var x=(0,a.Z)(function*(j){mn("FirestoreClient","Received user=",j.uid),yield y.authCredentialListener(j),y.user=j});return function(j){return x.apply(this,arguments)}}()),this.appCheckCredentials.start(s,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,a.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vn($t.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,a.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const f=Xu(s,"Failed to shutdown persistence");r.reject(f)}})),r.promise}}function dp(i,e){return nf.apply(this,arguments)}function nf(){return nf=(0,a.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),mn("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(function(){var f=(0,a.Z)(function*(y){s.isEqual(y)||(yield Ff(e.localStore,y),s=y)});return function(y){return f.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),nf.apply(this,arguments)}function hp(i,e){return fp.apply(this,arguments)}function fp(){return fp=(0,a.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield pp(i);mn("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(r,s),i.setCredentialChangeListener(f=>{return(y=(0,a.Z)(function*(x,j){const oe=bn(x);oe.asyncQueue.verifyOperationInProgress(),mn("RemoteStore","RemoteStore received new credentials");const Ae=fa(oe);oe.Gr.add(3),yield zu(oe),Ae&&oe.Jr.set("Unknown"),yield oe.remoteSyncer.handleCredentialChange(j),oe.Gr.delete(3),yield Nh(oe)}),function(x,j){return y.apply(this,arguments)})(e.remoteStore,f);var y}),i.onlineComponents=e}),fp.apply(this,arguments)}function pp(i){return gp.apply(this,arguments)}function gp(){return gp=(0,a.Z)(function*(i){return i.offlineComponents||(mn("FirestoreClient","Using default OfflineComponentProvider"),yield dp(i,new vg)),i.offlineComponents}),gp.apply(this,arguments)}function rf(i){return sf.apply(this,arguments)}function sf(){return sf=(0,a.Z)(function*(i){return i.onlineComponents||(mn("FirestoreClient","Using default OnlineComponentProvider"),yield hp(i,new cp)),i.onlineComponents}),sf.apply(this,arguments)}function vm(i){return pp(i).then(e=>e.persistence)}function af(i){return pp(i).then(e=>e.localStore)}function mp(i){return rf(i).then(e=>e.remoteStore)}function lf(i){return rf(i).then(e=>e.syncEngine)}function nu(i){return rh.apply(this,arguments)}function rh(){return rh=(0,a.Z)(function*(i){const e=yield rf(i),r=e.eventManager;return r.onListen=hm.bind(null,e.syncEngine),r.onUnlisten=cg.bind(null,e.syncEngine),r}),rh.apply(this,arguments)}function $l(i,e,r={}){const s=new ji;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function(f,y,x,j,oe){const Ae=new tf({next:mt=>{y.enqueueAndForget(()=>rg(f,Ze));const zt=mt.docs.has(x);!zt&&mt.fromCache?oe.reject(new vn($t.UNAVAILABLE,"Failed to get document because the client is offline.")):zt&&mt.fromCache&&j&&"server"===j.source?oe.reject(new vn($t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):oe.resolve(mt)},error:mt=>oe.reject(mt)}),Ze=new Hh(Lo(x.path),Ae,{includeMetadataChanges:!0,wo:!0});return Qf(f,Ze)}(yield nu(i),i.asyncQueue,e,r,s)})),s.promise}function ta(i,e,r={}){const s=new ji;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function(f,y,x,j,oe){const Ae=new tf({next:mt=>{y.enqueueAndForget(()=>rg(f,Ze)),mt.fromCache&&"server"===j.source?oe.reject(new vn($t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):oe.resolve(mt)},error:mt=>oe.reject(mt)}),Ze=new Hh(x,Ae,{includeMetadataChanges:!0,wo:!0});return Qf(f,Ze)}(yield nu(i),i.asyncQueue,e,r,s)})),s.promise}class bp{constructor(e,r,s,f,y,x,j,oe){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=f,this.ssl=y,this.forceLongPolling=x,this.autoDetectLongPolling=j,this.useFetchStreams=oe}}class iu{constructor(e,r){this.projectId=e,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}const Eg=new Map;function ou(i,e,r){if(!r)throw new vn($t.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ih(i,e,r,s){if(!0===e&&!0===s)throw new vn($t.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function oh(i){if(!ir.isDocumentKey(i))throw new vn($t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function td(i){if(ir.isDocumentKey(i))throw new vn($t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(r=i).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof i?"a function":jn()}function Pi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new vn($t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=nd(i);throw new vn($t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function wp(i,e){if(e<=0)throw new vn($t.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Ep{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new vn($t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vn($t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ih("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,r,s){this._authCredentials=r,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ep({}),this._settingsFrozen=!1,e instanceof iu?this._databaseId=e:(this._app=e,this._databaseId=function(f){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new vn($t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(f.options.projectId)}(e))}get app(){if(!this._app)throw new vn($t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vn($t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ep(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Ia;switch(r.type){case"gapi":const s=r.client;return br(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Kl(s,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new vn($t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Eg.get(e);r&&(mn("ComponentProvider","Removing Datastore"),Eg.delete(e),r.terminate())}(this),Promise.resolve()}}function Cg(i,e,r,s={}){var f;const y=(i=Pi(i,rd))._getSettings();if("firestore.googleapis.com"!==y.host&&y.host!==e&&bo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},y),{host:`${e}:${r}`,ssl:!1})),s.mockUserToken){let x,j;if("string"==typeof s.mockUserToken)x=s.mockUserToken,j=ki.MOCK_USER;else{x=(0,Te.Sg)(s.mockUserToken,null===(f=i._app)||void 0===f?void 0:f.options.projectId);const oe=s.mockUserToken.sub||s.mockUserToken.user_id;if(!oe)throw new vn($t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new ki(oe)}i._authCredentials=new ia(new ps(x,j))}}class uo{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uo(this.firestore,e,this._key)}}class Ro{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class na extends Ro{constructor(e,r,s){super(e,r,Lo(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uo(this.firestore,null,new ir(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function su(i,e,...r){if(i=(0,Te.m9)(i),ou("collection","path",e),i instanceof rd){const s=q.fromString(e,...r);return td(s),new na(i,null,s)}{if(!(i instanceof uo||i instanceof na))throw new vn($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(q.fromString(e,...r));return td(s),new na(i.firestore,null,s)}}function Ig(i,e){if(i=Pi(i,rd),ou("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new vn($t.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ro(i,null,(r=e,new gs(q.emptyPath(),r)));var r}function Dg(i,e,...r){if(i=(0,Te.m9)(i),1===arguments.length&&(e=Ss.A()),ou("doc","path",e),i instanceof rd){const s=q.fromString(e,...r);return oh(s),new uo(i,null,new ir(s))}{if(!(i instanceof uo||i instanceof na))throw new vn($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(q.fromString(e,...r));return oh(s),new uo(i.firestore,i instanceof na?i.converter:null,new ir(s))}}function id(i,e){return i=(0,Te.m9)(i),e=(0,Te.m9)(e),(i instanceof uo||i instanceof na)&&(e instanceof uo||e instanceof na)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function ga(i,e){return i=(0,Te.m9)(i),e=(0,Te.m9)(e),i instanceof Ro&&e instanceof Ro&&i.firestore===e.firestore&&os(i._query,e._query)&&i.converter===e.converter}class od{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Vd(this,"async_queue_retry"),this.Ra=()=>{const r=Ph();r&&mn("AsyncQueue","Visibility state changed to "+r.visibilityState),this.ur.er()};const e=Ph();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const r=Ph();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const r=new ji;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return(0,a.Z)(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(r){if(!as(r))throw r;mn("AsyncQueue","Operation failed with retryable error: "+r)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const r=this.ma.then(()=>(this.Ea=!0,e().catch(s=>{throw this.Ta=s,this.Ea=!1,Vi("INTERNAL UNHANDLED ERROR: ",function(y){let x=y.message||"";return y.stack&&(x=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),x}(s)),s}).then(s=>(this.Ea=!1,s))));return this.ma=r,r}enqueueAfterDelay(e,r,s){this.Pa(),this.Aa.indexOf(e)>-1&&(r=0);const f=Uh.createAndSchedule(this,e,r,s,y=>this.Va(y));return this.pa.push(f),f}Pa(){this.Ta&&jn()}verifyOperationInProgress(){}Sa(){var e=this;return(0,a.Z)(function*(){let r;do{r=e.ma,yield r}while(r!==e.ma)})()}Da(e){for(const r of this.pa)if(r.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.pa)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const r=this.pa.indexOf(e);this.pa.splice(r,1)}}function Ho(i){return function(e,r){if("object"!=typeof e||null===e)return!1;const s=e;for(const f of["next","error","complete"])if(f in s&&"function"==typeof s[f])return!0;return!1}(i)}class Sc{constructor(){this._progressObserver={},this._taskCompletionResolver=new ji,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const sh=-1;class Oi extends rd{constructor(e,r,s){super(e,r,s),this.type="firestore",this._queue=new od,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||au(this),this._firestoreClient.terminate()}}function sd(i=(0,C.getApp)()){return(0,C._getProvider)(i,"firestore").getImmediate()}function ho(i){return i._firestoreClient||au(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function au(i){var e;const r=i._freezeSettings(),s=(y=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new bp(i._databaseId,y,i._persistenceKey,(j=r).host,j.ssl,j.experimentalForceLongPolling,j.experimentalAutoDetectLongPolling,j.useFetchStreams));var y,j;i._firestoreClient=new wg(i._authCredentials,i._appCheckCredentials,i._queue,s)}function lu(i,e){df(i=Pi(i,Oi));const r=ho(i),s=i._freezeSettings(),f=new cp;return Ul(r,f,new _g(f,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Vl(i){df(i=Pi(i,Oi));const e=ho(i),r=i._freezeSettings(),s=new cp;return Ul(e,s,new ed(s,r.cacheSizeBytes))}function Ul(i,e,r){const s=new ji;return i.asyncQueue.enqueue((0,a.Z)(function*(){try{yield dp(i,r),yield hp(i,e),s.resolve()}catch(f){if(!("FirebaseError"===(y=f).name?y.code===$t.FAILED_PRECONDITION||y.code===$t.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&y instanceof DOMException)||22===y.code||20===y.code||11===y.code))throw f;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+f),s.reject(f)}var y})).then(()=>s.promise)}function cu(i){if(i._initialized&&!i._terminated)throw new vn($t.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ji;return i._queue.enqueueAndForgetEvenWhileRestricted((0,a.Z)(function*(){try{yield(r=(0,a.Z)(function*(s){if(!Qs.bt())return Promise.resolve();const f=s+"main";yield Qs.delete(f)}),function(s){return r.apply(this,arguments)})(da(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function ad(i){return function(e){const r=new ji;return e.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function(i,e){return Yh.apply(this,arguments)}(yield lf(e),r)})),r.promise}(ho(i=Pi(i,Oi)))}function jl(i){return function(i){return i.asyncQueue.enqueue((0,a.Z)(function*(){const e=yield vm(i),r=yield mp(i);return e.setNetworkEnabled(!0),function(s){const f=bn(s);return f.Gr.delete(0),Nh(f)}(r)}))}(ho(i=Pi(i,Oi)))}function Cp(i){return function(i){return i.asyncQueue.enqueue((0,a.Z)(function*(){const e=yield vm(i),r=yield mp(i);return e.setNetworkEnabled(!1),(s=(0,a.Z)(function*(f){const y=bn(f);y.Gr.add(0),yield zu(y),y.Jr.set("Offline")}),function(f){return s.apply(this,arguments)})(r);var s}))}(ho(i=Pi(i,Oi)))}function Ip(i,e){const r=ho(i=Pi(i,Oi)),s=new Sc;return function(i,e,r,s){const f=function(y,x){let j;return j="string"==typeof y?(new TextEncoder).encode(y):y,oe=function(oe,Ae){if(oe instanceof Uint8Array)return bg(oe,void 0);if(oe instanceof ArrayBuffer)return bg(new Uint8Array(oe),void 0);if(oe instanceof ReadableStream)return oe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(j),new ym(oe,x);var oe}(r,Qc(e));i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){!function(i,e,r){const s=bn(i);var f;(f=(0,a.Z)(function*(y,x,j){try{const oe=yield x.getMetadata();if(yield function(zt,wn){const An=bn(zt),Rr=mo(wn.createTime);return An.persistence.runTransaction("hasNewerBundle","readonly",pi=>An.Ye.getBundleMetadata(pi,wn.id)).then(pi=>!!pi&&pi.createTime.compareTo(Rr)>=0)}(y.localStore,oe))return yield x.close(),void j._completeWith((zt=oe,{taskState:"Success",documentsLoaded:zt.totalDocuments,bytesLoaded:zt.totalBytes,totalDocuments:zt.totalDocuments,totalBytes:zt.totalBytes}));j._updateProgress(Xf(oe));const Ae=new um(oe,y.localStore,x.k);let Ze=yield x.Ho();for(;Ze;){const zt=yield Ae.yo(Ze);zt&&j._updateProgress(zt),Ze=yield x.Ho()}const mt=yield Ae.complete();yield ul(y,mt.In,void 0),yield function(zt,wn){const An=bn(zt);return An.persistence.runTransaction("Save bundle","readwrite",Rr=>An.Ye.saveBundleMetadata(Rr,wn))}(y.localStore,oe),j._completeWith(mt.progress)}catch(oe){bo("SyncEngine",`Loading bundle failed with ${oe}`),j._failWith(oe)}var zt}),function(y,x,j){return f.apply(this,arguments)})(s,e,r).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield lf(i),f,s)}))}(r,i._databaseId,e,s),s}function Dp(i,e){return function(i,e){return i.asyncQueue.enqueue((0,a.Z)(function*(){return function(r,s){const f=bn(r);return f.persistence.runTransaction("Get named query","readonly",y=>f.Ye.getNamedQuery(y,s))}(yield af(i),e)}))}(ho(i=Pi(i,Oi)),e).then(r=>r?new Ro(i,null,r.query):null)}function df(i){if(i._initialized||i._terminated)throw new vn($t.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dl{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new vn($t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hl(kn.fromBase64String(e))}catch(r){throw new vn($t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Hl(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zl{constructor(e){this._methodName=e}}class hf{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new vn($t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new vn($t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yr(this._lat,e._lat)||Yr(this._long,e._long)}}const Sg=/^__.*__$/;class Ag{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Zo(e,this.data,this.fieldMask,r,this.fieldTransforms):new Pa(e,this.data,r,this.fieldTransforms)}}class ff{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Zo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function pf(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jn()}}class d{constructor(e,r,s,f,y,x){this.settings=e,this.databaseId=r,this.k=s,this.ignoreUndefinedProperties=f,void 0===y&&this.ka(),this.fieldTransforms=y||[],this.fieldMask=x||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new d(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),f=this.$a({path:s,Oa:!1});return f.Ma(e),f}La(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),f=this.$a({path:s,Oa:!1});return f.ka(),f}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return ch(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(pf(this.xa)&&Sg.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class c{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.k=s||Qc(e)}ja(e,r,s,f=!1){return new d({xa:e,methodName:r,Ka:s,path:Fe.emptyPath(),Oa:!1,qa:f},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function l(i){const e=i._freezeSettings(),r=Qc(i._databaseId);return new c(i._databaseId,!!e.ignoreUndefinedProperties,r)}function p(i,e,r,s,f,y={}){const x=i.ja(y.merge||y.mergeFields?2:0,e,r,f);Po("Data must be an object, but it was:",x,s);const j=Nr(s,x);let oe,Ae;if(y.merge)oe=new at(x.fieldMask),Ae=x.fieldTransforms;else if(y.mergeFields){const Ze=[];for(const mt of y.mergeFields){const zt=ah(e,mt,r);if(!x.contains(zt))throw new vn($t.INVALID_ARGUMENT,`Field '${zt}' is specified in your field mask but missing from your input data.`);kg(Ze,zt)||Ze.push(zt)}oe=new at(Ze),Ae=x.fieldTransforms.filter(mt=>oe.covers(mt.field))}else oe=null,Ae=x.fieldTransforms;return new Ag(new wo(j),oe,Ae)}class w extends zl{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof w}}function P(i,e,r){return new d({xa:3,Ka:e.settings.Ka,methodName:i._methodName,Oa:r},e.databaseId,e.k,e.ignoreUndefinedProperties)}class H extends zl{_toFieldTransform(e){return new Ys(e.path,new vs)}isEqual(e){return e instanceof H}}class be extends zl{constructor(e,r){super(e),this.Qa=r}_toFieldTransform(e){const r=P(this,e,!0),s=this.Qa.map(y=>Kn(y,r)),f=new Ma(s);return new Ys(e.path,f)}isEqual(e){return this===e}}class Ve extends zl{constructor(e,r){super(e),this.Qa=r}_toFieldTransform(e){const r=P(this,e,!0),s=this.Qa.map(y=>Kn(y,r)),f=new aa(s);return new Ys(e.path,f)}isEqual(e){return this===e}}class rt extends zl{constructor(e,r){super(e),this.Wa=r}_toFieldTransform(e){const r=new Ja(e.k,bu(e.k,this.Wa));return new Ys(e.path,r)}isEqual(e){return this===e}}function Ft(i,e,r,s){const f=i.ja(1,e,r);Po("Data must be an object, but it was:",f,s);const y=[],x=wo.empty();T(s,(oe,Ae)=>{const Ze=Ha(e,oe,r);Ae=(0,Te.m9)(Ae);const mt=f.La(Ze);if(Ae instanceof w)y.push(Ze);else{const zt=Kn(Ae,mt);null!=zt&&(y.push(Ze),x.set(Ze,zt))}});const j=new at(y);return new ff(x,j,f.fieldTransforms)}function Nt(i,e,r,s,f,y){const x=i.ja(1,e,r),j=[ah(e,s,r)],oe=[f];if(y.length%2!=0)throw new vn($t.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let zt=0;zt<y.length;zt+=2)j.push(ah(e,y[zt])),oe.push(y[zt+1]);const Ae=[],Ze=wo.empty();for(let zt=j.length-1;zt>=0;--zt)if(!kg(Ae,j[zt])){const wn=j[zt];let An=oe[zt];An=(0,Te.m9)(An);const Rr=x.La(wn);if(An instanceof w)Ae.push(wn);else{const pi=Kn(An,Rr);null!=pi&&(Ae.push(wn),Ze.set(wn,pi))}}const mt=new at(Ae);return new ff(Ze,mt,x.fieldTransforms)}function en(i,e,r,s=!1){return Kn(r,i.ja(s?4:3,e))}function Kn(i,e){if(qi(i=(0,Te.m9)(i)))return Po("Unsupported field value:",e,i),Nr(i,e);if(i instanceof zl)return function(r,s){if(!pf(s.xa))throw s.Ua(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Ua(`${r._methodName}() is not currently supported inside arrays`);const f=r._toFieldTransform(s);f&&s.fieldTransforms.push(f)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(r,s){const f=[];let y=0;for(const x of r){let j=Kn(x,s.Ba(y));null==j&&(j={nullValue:"NULL_VALUE"}),f.push(j),y++}return{arrayValue:{values:f}}}(i,e)}return function(r,s){if(null===(r=(0,Te.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return bu(s.k,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const f=dr.fromDate(r);return{timestampValue:Cs(s.k,f)}}if(r instanceof dr){const f=new dr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cs(s.k,f)}}if(r instanceof hf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hl)return{bytesValue:Tl(s.k,r._byteString)};if(r instanceof uo){const f=s.databaseId,y=r.firestore._databaseId;if(!y.isEqual(f))throw s.Ua(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:nl(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Ua(`Unsupported field value: ${nd(r)}`)}(i,e)}function Nr(i,e){const r={};return I(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):T(i,(s,f)=>{const y=Kn(f,e.Fa(s));null!=y&&(r[s]=y)}),{mapValue:{fields:r}}}function qi(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof dr||i instanceof hf||i instanceof Hl||i instanceof uo||i instanceof zl)}function Po(i,e,r){if(!qi(r)||"object"!=typeof(s=r)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=nd(r);throw e.Ua("an object"===s?i+" a custom object":i+" "+s)}var s}function ah(i,e,r){if((e=(0,Te.m9)(e))instanceof dl)return e._internalPath;if("string"==typeof e)return Ha(i,e);throw ch("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const lh=new RegExp("[~\\*/\\[\\]]");function Ha(i,e,r){if(e.search(lh)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new dl(...e.split("."))._internalPath}catch(s){throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function ch(i,e,r,s,f){const y=s&&!s.isEmpty(),x=void 0!==f;let j=`Function ${e}() called with invalid data`;r&&(j+=" (via `toFirestore()`)"),j+=". ";let oe="";return(y||x)&&(oe+=" (found",y&&(oe+=` in field ${s}`),x&&(oe+=` in document ${f}`),oe+=")"),new vn($t.INVALID_ARGUMENT,j+i+oe)}function kg(i,e){return i.some(r=>r.isEqual(e))}class gf{constructor(e,r,s,f,y){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=f,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new uo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Em(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(ld("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Em extends gf{data(){return super.data()}}function ld(i,e){return"string"==typeof e?Ha(i,e):e instanceof dl?e._internalPath:e._delegate._internalPath}class cd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uu extends gf{constructor(e,r,s,f,y,x){super(e,r,s,f,x),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(ld("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class mf extends uu{data(e={}){return super.data(e)}}class ud{constructor(e,r,s,f){this._firestore=e,this._userDataWriter=r,this._snapshot=f,this.metadata=new cd(f.hasPendingWrites,f.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new mf(this._firestore,this._userDataWriter,s.key,s,new cd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new vn($t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,f){if(s._snapshot.oldDocs.isEmpty()){let y=0;return s._snapshot.docChanges.map(x=>({type:"added",doc:new mf(s._firestore,s._userDataWriter,x.doc.key,x.doc,new cd(s._snapshot.mutatedKeys.has(x.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:y++}))}{let y=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(x=>f||3!==x.type).map(x=>{const j=new mf(s._firestore,s._userDataWriter,x.doc.key,x.doc,new cd(s._snapshot.mutatedKeys.has(x.doc.key),s._snapshot.fromCache),s.query.converter);let oe=-1,Ae=-1;return 0!==x.type&&(oe=y.indexOf(x.doc.key),y=y.delete(x.doc.key)),1!==x.type&&(y=y.add(x.doc),Ae=y.indexOf(x.doc.key)),{type:hy(x.type),doc:j,oldIndex:oe,newIndex:Ae}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function hy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jn()}}function fy(i,e){return i instanceof uu&&e instanceof uu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ud&&e instanceof ud&&i._firestore===e._firestore&&ga(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Cm(i){if(Ka(i)&&0===i.explicitOrderBy.length)throw new vn($t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uh{}function py(i,...e){for(const r of e)i=r._apply(i);return i}class Im extends uh{constructor(e,r,s){super(),this.Ga=e,this.za=r,this.Ha=s,this.type="where"}_apply(e){const r=l(e.firestore),s=function(f,y,x,j,oe,Ae,Ze){let mt;if(oe.isKeyField()){if("array-contains"===Ae||"array-contains-any"===Ae)throw new vn($t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Ae}' queries on FieldPath.documentId().`);if("in"===Ae||"not-in"===Ae){yy(Ze,Ae);const wn=[];for(const An of Ze)wn.push(Og(j,f,An));mt={arrayValue:{values:wn}}}else mt=Og(j,f,Ze)}else"in"!==Ae&&"not-in"!==Ae&&"array-contains-any"!==Ae||yy(Ze,Ae),mt=en(x,"where",Ze,"in"===Ae||"not-in"===Ae);const zt=Wi.create(oe,Ae,mt);return function(wn,An){if(An.V()){const pi=ms(wn);if(null!==pi&&!pi.isEqual(An.field))throw new vn($t.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${pi.toString()}' and '${An.field.toString()}'`);const us=$i(wn);null!==us&&xm(0,An.field,us)}const Rr=function(pi,us){for(const ra of pi.filters)if(us.indexOf(ra.op)>=0)return ra.op;return null}(wn,function(pi){switch(pi){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(An.op));if(null!==Rr)throw new vn($t.INVALID_ARGUMENT,Rr===An.op?`Invalid query. You cannot use more than one '${An.op.toString()}' filter.`:`Invalid query. You cannot use '${An.op.toString()}' filters with '${Rr.toString()}' filters.`)}(f,zt),zt}(e._query,0,r,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Ro(e.firestore,e.converter,function(f,y){const x=f.filters.concat([y]);return new gs(f.path,f.collectionGroup,f.explicitOrderBy.slice(),x,f.limit,f.limitType,f.startAt,f.endAt)}(e._query,s))}}function Dm(i,e,r){const s=e,f=ld("where",i);return new Im(f,s,r)}class Mg extends uh{constructor(e,r){super(),this.Ga=e,this.Ja=r,this.type="orderBy"}_apply(e){const r=function(s,f,y){if(null!==s.startAt)throw new vn($t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new vn($t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const x=new Cl(f,y);return function(j,oe){if(null===$i(j)){const Ae=ms(j);null!==Ae&&xm(0,Ae,oe.field)}}(s,x),x}(e._query,this.Ga,this.Ja);return new Ro(e.firestore,e.converter,function(s,f){const y=s.explicitOrderBy.concat([f]);return new gs(s.path,s.collectionGroup,y,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function pv(i,e="asc"){const r=e,s=ld("orderBy",i);return new Mg(s,r)}class Tp extends uh{constructor(e,r,s){super(),this.type=e,this.Ya=r,this.Xa=s}_apply(e){return new Ro(e.firestore,e.converter,Aa(e._query,this.Ya,this.Xa))}}function gy(i){return wp("limit",i),new Tp("limit",i,"F")}function gv(i){return wp("limitToLast",i),new Tp("limitToLast",i,"L")}class dh extends uh{constructor(e,r,s){super(),this.type=e,this.Za=r,this.tc=s}_apply(e){const r=Sp(e,this.type,this.Za,this.tc);return new Ro(e.firestore,e.converter,(f=r,new gs((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,f,s.endAt)));var s,f}}function Tm(...i){return new dh("startAt",i,!0)}function Rg(...i){return new dh("startAfter",i,!1)}class xp extends uh{constructor(e,r,s){super(),this.type=e,this.Za=r,this.tc=s}_apply(e){const r=Sp(e,this.type,this.Za,this.tc);return new Ro(e.firestore,e.converter,(f=r,new gs((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,f)));var s,f}}function my(...i){return new xp("endBefore",i,!0)}function Pg(...i){return new xp("endAt",i,!1)}function Sp(i,e,r,s){if(r[0]=(0,Te.m9)(r[0]),r[0]instanceof gf)return function(f,y,x,j,oe){if(!j)throw new vn($t.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${x}().`);const Ae=[];for(const Ze of Ms(f))if(Ze.field.isKeyField())Ae.push(Jl(y,j.key));else{const mt=j.data.field(Ze.field);if(so(mt))throw new vn($t.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ze.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===mt){const zt=Ze.field.canonicalString();throw new vn($t.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${zt}' (used as the orderBy) does not exist.`)}Ae.push(mt)}return new Da(Ae,oe)}(i._query,i.firestore._databaseId,e,r[0]._document,s);{const f=l(i.firestore);return function(y,x,j,oe,Ae,Ze){const mt=y.explicitOrderBy;if(Ae.length>mt.length)throw new vn($t.INVALID_ARGUMENT,`Too many arguments provided to ${oe}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const zt=[];for(let wn=0;wn<Ae.length;wn++){const An=Ae[wn];if(mt[wn].field.isKeyField()){if("string"!=typeof An)throw new vn($t.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${oe}(), but got a ${typeof An}`);if(!Za(y)&&-1!==An.indexOf("/"))throw new vn($t.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${oe}() must be a plain document ID, but '${An}' contains a slash.`);const Rr=y.path.child(q.fromString(An));if(!ir.isDocumentKey(Rr))throw new vn($t.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${oe}() must result in a valid document path, but '${Rr}' is not because it contains an odd number of segments.`);const pi=new ir(Rr);zt.push(Jl(x,pi))}else{const Rr=en(j,oe,An);zt.push(Rr)}}return new Da(zt,Ze)}(i._query,i.firestore._databaseId,f,e,r,s)}}function Og(i,e,r){if("string"==typeof(r=(0,Te.m9)(r))){if(""===r)throw new vn($t.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Za(e)&&-1!==r.indexOf("/"))throw new vn($t.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(q.fromString(r));if(!ir.isDocumentKey(s))throw new vn($t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Jl(i,new ir(s))}if(r instanceof uo)return Jl(i,r._key);throw new vn($t.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${nd(r)}.`)}function yy(i,e){if(!Array.isArray(i)||0===i.length)throw new vn($t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new vn($t.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function xm(i,e,r){if(!r.isEqual(e))throw new vn($t.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class Ap{convertValue(e,r="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw jn()}}convertObject(e,r){const s={};return T(e.fields,(f,y)=>{s[f]=this.convertValue(y,r)}),s}convertGeoPoint(e){return new hf(Ir(e.latitude),Ir(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Do(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Hi(e));default:return null}}convertTimestamp(e){const r=fr(e);return new dr(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=q.fromString(e);br(wh(s));const f=new iu(s.get(1),s.get(3)),y=new ir(s.popFirst(5));return f.isEqual(r)||Vi(`Document ${y} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),y}}function yf(i,e,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,s}class Sm extends Ap{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new uo(this.firestore,null,r)}}class Ng{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=l(e)}set(e,r,s){this._verifyNotCommitted();const f=Wl(e,this._firestore),y=yf(f.converter,r,s),x=p(this._dataReader,"WriteBatch.set",f._key,y,null!==f.converter,s);return this._mutations.push(x.toMutation(f._key,Eo.none())),this}update(e,r,s,...f){this._verifyNotCommitted();const y=Wl(e,this._firestore);let x;return x="string"==typeof(r=(0,Te.m9)(r))||r instanceof dl?Nt(this._dataReader,"WriteBatch.update",y._key,r,s,f):Ft(this._dataReader,"WriteBatch.update",y._key,r),this._mutations.push(x.toMutation(y._key,Eo.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Wl(e,this._firestore);return this._mutations=this._mutations.concat(new la(r._key,Eo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vn($t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wl(i,e){if((i=(0,Te.m9)(i)).firestore!==e)throw new vn($t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Am(i){i=Pi(i,uo);const e=Pi(i.firestore,Oi);return $l(ho(e),i._key).then(r=>kp(e,i,r))}class du extends Ap{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new uo(this.firestore,null,r)}}function Fg(i){i=Pi(i,uo);const e=Pi(i.firestore,Oi),r=ho(e),s=new du(e);return function(i,e){const r=new ji;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return(s=(0,a.Z)(function*(f,y,x){try{const j=yield function(oe,Ae){const Ze=bn(oe);return Ze.persistence.runTransaction("read document","readonly",mt=>Ze.Wn.Rn(mt,Ae))}(f,y);j.isFoundDocument()?x.resolve(j):j.isNoDocument()?x.resolve(null):x.reject(new vn($t.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(j){const oe=Xu(j,`Failed to get document '${y} from cache`);x.reject(oe)}}),function(f,y,x){return s.apply(this,arguments)})(yield af(i),e,r);var s})),r.promise}(r,i._key).then(f=>new uu(e,s,i._key,f,new cd(null!==f&&f.hasLocalMutations,!0),i.converter))}function km(i){i=Pi(i,uo);const e=Pi(i.firestore,Oi);return $l(ho(e),i._key,{source:"server"}).then(r=>kp(e,i,r))}function vy(i){i=Pi(i,Ro);const e=Pi(i.firestore,Oi),r=ho(e),s=new du(e);return Cm(i._query),ta(r,i._query).then(f=>new ud(e,s,i,f))}function Mm(i){i=Pi(i,Ro);const e=Pi(i.firestore,Oi),r=ho(e),s=new du(e);return function(i,e){const r=new ji;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return(s=(0,a.Z)(function*(f,y,x){try{const j=yield Nl(f,y,!0),oe=new sg(y,j.zn),Ae=oe.bo(j.documents),Ze=oe.applyChanges(Ae,!1);x.resolve(Ze.snapshot)}catch(j){const oe=Xu(j,`Failed to execute query '${y} against cache`);x.reject(oe)}}),function(f,y,x){return s.apply(this,arguments)})(yield af(i),e,r);var s})),r.promise}(r,i._query).then(f=>new ud(e,s,i,f))}function Rm(i){i=Pi(i,Ro);const e=Pi(i.firestore,Oi),r=ho(e),s=new du(e);return ta(r,i._query,{source:"server"}).then(f=>new ud(e,s,i,f))}function Lg(i,e,r){i=Pi(i,uo);const s=Pi(i.firestore,Oi),f=yf(i.converter,e,r);return hu(s,[p(l(s),"setDoc",i._key,f,null!==i.converter,r).toMutation(i._key,Eo.none())])}function Pm(i,e,r,...s){i=Pi(i,uo);const f=Pi(i.firestore,Oi),y=l(f);let x;return x="string"==typeof(e=(0,Te.m9)(e))||e instanceof dl?Nt(y,"updateDoc",i._key,e,r,s):Ft(y,"updateDoc",i._key,e),hu(f,[x.toMutation(i._key,Eo.exists(!0))])}function _y(i){return hu(Pi(i.firestore,Oi),[new la(i._key,Eo.none())])}function Om(i,e){const r=Pi(i.firestore,Oi),s=Dg(i),f=yf(i.converter,e);return hu(r,[p(l(i.firestore),"addDoc",s._key,f,null!==i.converter,{}).toMutation(s._key,Eo.exists(!1))]).then(()=>s)}function Nm(i,...e){var r,s,f;i=(0,Te.m9)(i);let y={includeMetadataChanges:!1},x=0;"object"!=typeof e[x]||Ho(e[x])||(y=e[x],x++);const j={includeMetadataChanges:y.includeMetadataChanges};if(Ho(e[x])){const mt=e[x];e[x]=null===(r=mt.next)||void 0===r?void 0:r.bind(mt),e[x+1]=null===(s=mt.error)||void 0===s?void 0:s.bind(mt),e[x+2]=null===(f=mt.complete)||void 0===f?void 0:f.bind(mt)}let oe,Ae,Ze;if(i instanceof uo)Ae=Pi(i.firestore,Oi),Ze=Lo(i._key.path),oe={next:mt=>{e[x]&&e[x](kp(Ae,i,mt))},error:e[x+1],complete:e[x+2]};else{const mt=Pi(i,Ro);Ae=Pi(mt.firestore,Oi),Ze=mt._query;const zt=new du(Ae);oe={next:wn=>{e[x]&&e[x](new ud(Ae,zt,mt,wn))},error:e[x+1],complete:e[x+2]},Cm(i._query)}return function(mt,zt,wn,An){const Rr=new tf(An),pi=new Hh(zt,Rr,wn);return mt.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return Qf(yield nu(mt),pi)})),()=>{Rr.na(),mt.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return rg(yield nu(mt),pi)}))}}(ho(Ae),Ze,j,oe)}function Bg(i,e){return function(i,e){const r=new tf(e);return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return s=yield nu(i),f=r,bn(s).io.add(f),void f.next();var s,f})),()=>{r.na(),i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return s=yield nu(i),f=r,void bn(s).io.delete(f);var s,f}))}}(ho(i=Pi(i,Oi)),Ho(e)?e:{next:e})}function hu(i,e){return function(r,s){const f=new ji;return r.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function(i,e,r){return zh.apply(this,arguments)}(yield lf(r),s,f)})),f.promise}(ho(i),e)}function kp(i,e,r){const s=r.docs.get(e._key),f=new du(i);return new uu(i,f,e._key,s,new cd(r.hasPendingWrites,r.fromCache),e.converter)}class Fm extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=l(e)}get(e){const r=Wl(e,this._firestore),s=new Sm(this._firestore);return this._transaction.lookup([r._key]).then(f=>{if(!f||1!==f.length)return jn();const y=f[0];if(y.isFoundDocument())return new gf(this._firestore,s,y.key,y,r.converter);if(y.isNoDocument())return new gf(this._firestore,s,r._key,null,r.converter);throw jn()})}set(e,r,s){const f=Wl(e,this._firestore),y=yf(f.converter,r,s),x=p(this._dataReader,"Transaction.set",f._key,y,null!==f.converter,s);return this._transaction.set(f._key,x),this}update(e,r,s,...f){const y=Wl(e,this._firestore);let x;return x="string"==typeof(r=(0,Te.m9)(r))||r instanceof dl?Nt(this._dataReader,"Transaction.update",y._key,r,s,f):Ft(this._dataReader,"Transaction.update",y._key,r),this._transaction.update(y._key,x),this}delete(e){const r=Wl(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Wl(e,this._firestore),s=new du(this._firestore);return super.get(e).then(f=>new uu(this._firestore,s,r._key,f._document,new cd(!1,!1),r.converter))}}function Lm(i,e){return function(i,e){const r=new ji;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){const s=yield(f=i,rf(f).then(y=>y.datastore));var f;new up(i.asyncQueue,s,e,r).run()})),r.promise}(ho(i=Pi(i,Oi)),r=>e(new Fm(i,r)))}function Bm(){return new w("deleteField")}function $m(){return new H("serverTimestamp")}function Vm(...i){return new be("arrayUnion",i)}function Um(...i){return new Ve("arrayRemove",i)}function jm(i){return new rt("increment",i)}!function(i,e=!0){hr=C.SDK_VERSION,(0,C._registerComponent)(new X.wA("firestore",(r,{options:s})=>{const f=r.getProvider("app").getImmediate(),y=new Oi(f,new qa(r.getProvider("auth-internal")),new Ii(r.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),y._setSettings(s),y},"PUBLIC")),(0,C.registerVersion)(Ca,"3.4.1",i),(0,C.registerVersion)(Ca,"3.4.1","esm2017")}()},4213:(rn,ht,F)=>{"use strict";F.d(ht,{BH:()=>re,LL:()=>nt,ZR:()=>ut,gQ:()=>Dr,zI:()=>it,hu:()=>C,g5:()=>X,US:()=>he,tV:()=>pe,h$:()=>fe,$s:()=>Pr,r3:()=>_n,Sg:()=>Ce,ne:()=>cr,p$:()=>ee,vZ:()=>ar,ZB:()=>de,gK:()=>Rn,pd:()=>Jn,m9:()=>ti,z$:()=>We,GJ:()=>Pt,jU:()=>Be,ru:()=>Ne,d:()=>Ie,xb:()=>on,w1:()=>st,hl:()=>jt,uI:()=>ye,UG:()=>Ee,Yr:()=>Bt,b$:()=>_e,G6:()=>Je,Mn:()=>lt,w9:()=>Ln,cI:()=>Dt,UI:()=>Sr,xO:()=>Nn,zd:()=>lr,DV:()=>Ot,ug:()=>Hn,dS:()=>Mt,Pz:()=>pt,eu:()=>qe});const C=function(Ke,Qe){if(!Ke)throw X(Qe)},X=function(Ke){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ke)},He=function(Ke){const Qe=[];let je=0;for(let St=0;St<Ke.length;St++){let ft=Ke.charCodeAt(St);ft<128?Qe[je++]=ft:ft<2048?(Qe[je++]=ft>>6|192,Qe[je++]=63&ft|128):55296==(64512&ft)&&St+1<Ke.length&&56320==(64512&Ke.charCodeAt(St+1))?(ft=65536+((1023&ft)<<10)+(1023&Ke.charCodeAt(++St)),Qe[je++]=ft>>18|240,Qe[je++]=ft>>12&63|128,Qe[je++]=ft>>6&63|128,Qe[je++]=63&ft|128):(Qe[je++]=ft>>12|224,Qe[je++]=ft>>6&63|128,Qe[je++]=63&ft|128)}return Qe},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ke,Qe){if(!Array.isArray(Ke))throw Error("encodeByteArray takes an array as a parameter");this.init_();const je=Qe?this.byteToCharMapWebSafe_:this.byteToCharMap_,St=[];for(let ft=0;ft<Ke.length;ft+=3){const Jt=Ke[ft],Xt=ft+1<Ke.length,er=Xt?Ke[ft+1]:0,Cr=ft+2<Ke.length,mr=Cr?Ke[ft+2]:0;let $e=(15&er)<<2|mr>>6,Xe=63&mr;Cr||(Xe=64,Xt||($e=64)),St.push(je[Jt>>2],je[(3&Jt)<<4|er>>4],je[$e],je[Xe])}return St.join("")},encodeString(Ke,Qe){return this.HAS_NATIVE_SUPPORT&&!Qe?btoa(Ke):this.encodeByteArray(He(Ke),Qe)},decodeString(Ke,Qe){return this.HAS_NATIVE_SUPPORT&&!Qe?atob(Ke):function(Ke){const Qe=[];let je=0,St=0;for(;je<Ke.length;){const ft=Ke[je++];if(ft<128)Qe[St++]=String.fromCharCode(ft);else if(ft>191&&ft<224){const Jt=Ke[je++];Qe[St++]=String.fromCharCode((31&ft)<<6|63&Jt)}else if(ft>239&&ft<365){const Cr=((7&ft)<<18|(63&Ke[je++])<<12|(63&Ke[je++])<<6|63&Ke[je++])-65536;Qe[St++]=String.fromCharCode(55296+(Cr>>10)),Qe[St++]=String.fromCharCode(56320+(1023&Cr))}else{const Jt=Ke[je++],Xt=Ke[je++];Qe[St++]=String.fromCharCode((15&ft)<<12|(63&Jt)<<6|63&Xt)}}return Qe.join("")}(this.decodeStringToByteArray(Ke,Qe))},decodeStringToByteArray(Ke,Qe){this.init_();const je=Qe?this.charToByteMapWebSafe_:this.charToByteMap_,St=[];for(let ft=0;ft<Ke.length;){const Jt=je[Ke.charAt(ft++)],er=ft<Ke.length?je[Ke.charAt(ft)]:0;++ft;const mr=ft<Ke.length?je[Ke.charAt(ft)]:64;++ft;const Ge=ft<Ke.length?je[Ke.charAt(ft)]:64;if(++ft,null==Jt||null==er||null==mr||null==Ge)throw Error();St.push(Jt<<2|er>>4),64!==mr&&(St.push(er<<4&240|mr>>2),64!==Ge&&St.push(mr<<6&192|Ge))}return St},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ke=0;Ke<this.ENCODED_VALS.length;Ke++)this.byteToCharMap_[Ke]=this.ENCODED_VALS.charAt(Ke),this.charToByteMap_[this.byteToCharMap_[Ke]]=Ke,this.byteToCharMapWebSafe_[Ke]=this.ENCODED_VALS_WEBSAFE.charAt(Ke),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ke]]=Ke,Ke>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ke)]=Ke,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ke)]=Ke)}}},fe=function(Ke){const Qe=He(Ke);return he.encodeByteArray(Qe,!0)},Q=function(Ke){return fe(Ke).replace(/\./g,"")},pe=function(Ke){try{return he.decodeString(Ke,!0)}catch(Qe){console.error("base64Decode failed: ",Qe)}return null};function ee(Ke){return de(void 0,Ke)}function de(Ke,Qe){if(!(Qe instanceof Object))return Qe;switch(Qe.constructor){case Date:return new Date(Qe.getTime());case Object:void 0===Ke&&(Ke={});break;case Array:Ke=[];break;default:return Qe}for(const je in Qe)!Qe.hasOwnProperty(je)||!we(je)||(Ke[je]=de(Ke[je],Qe[je]));return Ke}function we(Ke){return"__proto__"!==Ke}class re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Qe,je)=>{this.resolve=Qe,this.reject=je})}wrapCallback(Qe){return(je,St)=>{je?this.reject(je):this.resolve(St),"function"==typeof Qe&&(this.promise.catch(()=>{}),1===Qe.length?Qe(je):Qe(je,St))}}}function Ce(Ke,Qe){if(Ke.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const St=Qe||"demo-project",ft=Ke.iat||0,Jt=Ke.sub||Ke.user_id;if(!Jt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xt=Object.assign({iss:`https://securetoken.google.com/${St}`,aud:St,iat:ft,exp:ft+3600,auth_time:ft,sub:Jt,user_id:Jt,firebase:{sign_in_provider:"custom",identities:{}}},Ke);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(Xt)),""].join(".")}function We(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function Ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ke){return!1}}function Be(){return"object"==typeof self&&self.self===self}function Ne(){const Ke="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ke&&void 0!==Ke.id}function _e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ie(){return We().indexOf("Electron/")>=0}function st(){const Ke=We();return Ke.indexOf("MSIE ")>=0||Ke.indexOf("Trident/")>=0}function lt(){return We().indexOf("MSAppHost/")>=0}function Bt(){return!1}function Je(){return!Ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jt(){return"object"==typeof indexedDB}function qe(){return new Promise((Ke,Qe)=>{try{let je=!0;const St="validate-browser-context-for-indexeddb-analytics-module",ft=self.indexedDB.open(St);ft.onsuccess=()=>{ft.result.close(),je||self.indexedDB.deleteDatabase(St),Ke(!0)},ft.onupgradeneeded=()=>{je=!1},ft.onerror=()=>{var Jt;Qe((null===(Jt=ft.error)||void 0===Jt?void 0:Jt.message)||"")}}catch(je){Qe(je)}})}function it(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ut extends Error{constructor(Qe,je,St){super(je),this.code=Qe,this.customData=St,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}}class nt{constructor(Qe,je,St){this.service=Qe,this.serviceName=je,this.errors=St}create(Qe,...je){const St=je[0]||{},ft=`${this.service}/${Qe}`,Jt=this.errors[Qe],Xt=Jt?function(Ke,Qe){return Ke.replace(tn,(je,St)=>{const ft=Qe[St];return null!=ft?String(ft):`<${St}?>`})}(Jt,St):"Error";return new ut(ft,`${this.serviceName}: ${Xt} (${ft}).`,St)}}const tn=/\{\$([^}]+)}/g;function Dt(Ke){return JSON.parse(Ke)}function pt(Ke){return JSON.stringify(Ke)}const _t=function(Ke){let Qe={},je={},St={},ft="";try{const Jt=Ke.split(".");Qe=Dt(pe(Jt[0])||""),je=Dt(pe(Jt[1])||""),ft=Jt[2],St=je.d||{},delete je.d}catch(Jt){}return{header:Qe,claims:je,data:St,signature:ft}},Ln=function(Ke){const je=_t(Ke).claims;return!!je&&"object"==typeof je&&je.hasOwnProperty("iat")},Pt=function(Ke){const Qe=_t(Ke).claims;return"object"==typeof Qe&&!0===Qe.admin};function _n(Ke,Qe){return Object.prototype.hasOwnProperty.call(Ke,Qe)}function Ot(Ke,Qe){if(Object.prototype.hasOwnProperty.call(Ke,Qe))return Ke[Qe]}function on(Ke){for(const Qe in Ke)if(Object.prototype.hasOwnProperty.call(Ke,Qe))return!1;return!0}function Sr(Ke,Qe,je){const St={};for(const ft in Ke)Object.prototype.hasOwnProperty.call(Ke,ft)&&(St[ft]=Qe.call(je,Ke[ft],ft,Ke));return St}function ar(Ke,Qe){if(Ke===Qe)return!0;const je=Object.keys(Ke),St=Object.keys(Qe);for(const ft of je){if(!St.includes(ft))return!1;const Jt=Ke[ft],Xt=Qe[ft];if(Dn(Jt)&&Dn(Xt)){if(!ar(Jt,Xt))return!1}else if(Jt!==Xt)return!1}for(const ft of St)if(!je.includes(ft))return!1;return!0}function Dn(Ke){return null!==Ke&&"object"==typeof Ke}function Nn(Ke){const Qe=[];for(const[je,St]of Object.entries(Ke))Array.isArray(St)?St.forEach(ft=>{Qe.push(encodeURIComponent(je)+"="+encodeURIComponent(ft))}):Qe.push(encodeURIComponent(je)+"="+encodeURIComponent(St));return Qe.length?"&"+Qe.join("&"):""}function lr(Ke){const Qe={};return Ke.replace(/^\?/,"").split("&").forEach(St=>{if(St){const[ft,Jt]=St.split("=");Qe[decodeURIComponent(ft)]=decodeURIComponent(Jt)}}),Qe}function Jn(Ke){const Qe=Ke.indexOf("?");if(!Qe)return"";const je=Ke.indexOf("#",Qe);return Ke.substring(Qe,je>0?je:void 0)}class Dr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Qe=1;Qe<this.blockSize;++Qe)this.pad_[Qe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Qe,je){je||(je=0);const St=this.W_;if("string"==typeof Qe)for(let Ge=0;Ge<16;Ge++)St[Ge]=Qe.charCodeAt(je)<<24|Qe.charCodeAt(je+1)<<16|Qe.charCodeAt(je+2)<<8|Qe.charCodeAt(je+3),je+=4;else for(let Ge=0;Ge<16;Ge++)St[Ge]=Qe[je]<<24|Qe[je+1]<<16|Qe[je+2]<<8|Qe[je+3],je+=4;for(let Ge=16;Ge<80;Ge++){const $e=St[Ge-3]^St[Ge-8]^St[Ge-14]^St[Ge-16];St[Ge]=4294967295&($e<<1|$e>>>31)}let mr,xr,ft=this.chain_[0],Jt=this.chain_[1],Xt=this.chain_[2],er=this.chain_[3],Cr=this.chain_[4];for(let Ge=0;Ge<80;Ge++){Ge<40?Ge<20?(mr=er^Jt&(Xt^er),xr=1518500249):(mr=Jt^Xt^er,xr=1859775393):Ge<60?(mr=Jt&Xt|er&(Jt|Xt),xr=2400959708):(mr=Jt^Xt^er,xr=3395469782);const $e=(ft<<5|ft>>>27)+mr+Cr+xr+St[Ge]&4294967295;Cr=er,er=Xt,Xt=4294967295&(Jt<<30|Jt>>>2),Jt=ft,ft=$e}this.chain_[0]=this.chain_[0]+ft&4294967295,this.chain_[1]=this.chain_[1]+Jt&4294967295,this.chain_[2]=this.chain_[2]+Xt&4294967295,this.chain_[3]=this.chain_[3]+er&4294967295,this.chain_[4]=this.chain_[4]+Cr&4294967295}update(Qe,je){if(null==Qe)return;void 0===je&&(je=Qe.length);const St=je-this.blockSize;let ft=0;const Jt=this.buf_;let Xt=this.inbuf_;for(;ft<je;){if(0===Xt)for(;ft<=St;)this.compress_(Qe,ft),ft+=this.blockSize;if("string"==typeof Qe){for(;ft<je;)if(Jt[Xt]=Qe.charCodeAt(ft),++Xt,++ft,Xt===this.blockSize){this.compress_(Jt),Xt=0;break}}else for(;ft<je;)if(Jt[Xt]=Qe[ft],++Xt,++ft,Xt===this.blockSize){this.compress_(Jt),Xt=0;break}}this.inbuf_=Xt,this.total_+=je}digest(){const Qe=[];let je=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ft=this.blockSize-1;ft>=56;ft--)this.buf_[ft]=255&je,je/=256;this.compress_(this.buf_);let St=0;for(let ft=0;ft<5;ft++)for(let Jt=24;Jt>=0;Jt-=8)Qe[St]=this.chain_[ft]>>Jt&255,++St;return Qe}}function cr(Ke,Qe){const je=new pr(Ke,Qe);return je.subscribe.bind(je)}class pr{constructor(Qe,je){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=je,this.task.then(()=>{Qe(this)}).catch(St=>{this.error(St)})}next(Qe){this.forEachObserver(je=>{je.next(Qe)})}error(Qe){this.forEachObserver(je=>{je.error(Qe)}),this.close(Qe)}complete(){this.forEachObserver(Qe=>{Qe.complete()}),this.close()}subscribe(Qe,je,St){let ft;if(void 0===Qe&&void 0===je&&void 0===St)throw new Error("Missing Observer.");ft=function(Ke,Qe){if("object"!=typeof Ke||null===Ke)return!1;for(const je of["next","error","complete"])if(je in Ke&&"function"==typeof Ke[je])return!0;return!1}(Qe)?Qe:{next:Qe,error:je,complete:St},void 0===ft.next&&(ft.next=qn),void 0===ft.error&&(ft.error=qn),void 0===ft.complete&&(ft.complete=qn);const Jt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ft.error(this.finalError):ft.complete()}catch(Xt){}}),this.observers.push(ft),Jt}unsubscribeOne(Qe){void 0===this.observers||void 0===this.observers[Qe]||(delete this.observers[Qe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Qe){if(!this.finalized)for(let je=0;je<this.observers.length;je++)this.sendOne(je,Qe)}sendOne(Qe,je){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Qe])try{je(this.observers[Qe])}catch(St){"undefined"!=typeof console&&console.error&&console.error(St)}})}close(Qe){this.finalized||(this.finalized=!0,void 0!==Qe&&(this.finalError=Qe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qn(){}function Rn(Ke,Qe){return`${Ke} failed: ${Qe} argument `}const Mt=function(Ke){const Qe=[];let je=0;for(let St=0;St<Ke.length;St++){let ft=Ke.charCodeAt(St);if(ft>=55296&&ft<=56319){const Jt=ft-55296;St++,C(St<Ke.length,"Surrogate pair missing trail surrogate."),ft=65536+(Jt<<10)+(Ke.charCodeAt(St)-56320)}ft<128?Qe[je++]=ft:ft<2048?(Qe[je++]=ft>>6|192,Qe[je++]=63&ft|128):ft<65536?(Qe[je++]=ft>>12|224,Qe[je++]=ft>>6&63|128,Qe[je++]=63&ft|128):(Qe[je++]=ft>>18|240,Qe[je++]=ft>>12&63|128,Qe[je++]=ft>>6&63|128,Qe[je++]=63&ft|128)}return Qe},Hn=function(Ke){let Qe=0;for(let je=0;je<Ke.length;je++){const St=Ke.charCodeAt(je);St<128?Qe++:St<2048?Qe+=2:St>=55296&&St<=56319?(Qe+=4,je++):Qe+=3}return Qe};function Pr(Ke,Qe=1e3,je=2){const St=Qe*Math.pow(je,Ke),ft=Math.round(.5*St*(Math.random()-.5)*2);return Math.min(144e5,St+ft)}function ti(Ke){return Ke&&Ke._delegate?Ke._delegate:Ke}},4662:(rn,ht,F)=>{"use strict";F.d(ht,{Br:()=>Tt,dr:()=>yn,BJ:()=>Er,Sm:()=>Qe,PM:()=>je,W2:()=>xr,Gu:()=>Wn,gu:()=>On,Ie:()=>Or,Q$:()=>xe,q_:()=>J,yh:()=>G,z0:()=>De,fG:()=>Ye,zc:()=>wt,jP:()=>nr,jI:()=>qt,wd:()=>Qn,sr:()=>Ni,Pc:()=>Go,r4:()=>ur,t4:()=>gt,YI:()=>Si});var a=F(9619),X=(F(9010),F(4762)),He=F(5548),Te=F(5894),he=F(6783),fe=F(8053);function pe(b,K,_,z){return(0,he.m)(_)&&(z=_,_=void 0),z?pe(b,K,_).pipe((0,fe.U)(ne=>(0,Te.k)(ne)?z(...ne):z(ne))):new He.y(ne=>{ee(b,K,function(xn){ne.next(arguments.length>1?Array.prototype.slice.call(arguments):xn)},ne,_)})}function ee(b,K,_,z,ne){let It;if(function(b){return b&&"function"==typeof b.addEventListener&&"function"==typeof b.removeEventListener}(b)){const xn=b;b.addEventListener(K,_,ne),It=()=>xn.removeEventListener(K,_,ne)}else if(function(b){return b&&"function"==typeof b.on&&"function"==typeof b.off}(b)){const xn=b;b.on(K,_),It=()=>xn.off(K,_)}else if(function(b){return b&&"function"==typeof b.addListener&&"function"==typeof b.removeListener}(b)){const xn=b;b.addListener(K,_),It=()=>xn.removeListener(K,_)}else{if(!b||!b.length)throw new TypeError("Invalid event target");for(let xn=0,Pn=b.length;xn<Pn;xn++)ee(b[xn],K,_,z,ne)}z.add(It)}var Ce=F(3405),We=F(4099),ye=F(4620),_e=(F(321),F(5129),F(8751),F(6897)),Ie=F(7360),st=F(224),Bt=(F(2302),F(5319)),jt=(F(5048),F(7629));F(2429);var Ht=F(8735),tn=F(9204),Dt=F(5389),pt=F(6019);const Et=_e.i,Pt=["*"],Dn=b=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(b):"function"==typeof requestAnimationFrame?requestAnimationFrame(b):setTimeout(b),Rn=(b,K)=>{const _=b.prototype;K.forEach(z=>{Object.defineProperty(_,z,{get(){return this.el[z]},set(ne){this.z.runOutsideAngular(()=>this.el[z]=ne)}})})},Yt=(b,K)=>{const _=b.prototype;K.forEach(z=>{_[z]=function(){const ne=arguments;return this.z.runOutsideAngular(()=>this.el[z].apply(this.el,ne))}})},hn=(b,K,_)=>{_.forEach(z=>b[z]=pe(K,z))};function Mt(b){return function(_){const{defineCustomElementFn:z,inputs:ne,methods:It}=b;return void 0!==z&&z(),ne&&Rn(_,ne),It&&Yt(_,It),_}}let yn=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-app"]],ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0})],b),b})(),Er=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-avatar"]],ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0})],b),b})(),Qe=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["collapse"]})],b),b})(),je=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],b),b})(),xr=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement,hn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],b),b})(),Wn=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],b),b})(),On=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],b),b})(),Or=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["button","color","counter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],b),b})(),xe=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],b),b})(),J=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],b),b})(),G=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["color","lines","mode"]})],b),b})(),De=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement,hn(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],b),b})(),Ye=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],b),b})(),wt=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],b),b})(),qt=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement,hn(this,this.el,["ionSplitPaneVisible"])}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["contentId","disabled","when"]})],b),b})(),Qn=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["color","size"]})],b),b})(),Ni=(()=>{let b=class{constructor(_,z,ne){this.z=ne,_.detach(),this.el=z.nativeElement}};return b.\u0275fac=function(_){return new(_||b)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Pt,decls:1,vars:0,template:function(_,z){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,X.gn)([Mt({defineCustomElementFn:void 0,inputs:["color","mode"]})],b),b})();class Ui{constructor(K={}){this.data=K}get(K){return this.data[K]}}let wi=(()=>{class b{constructor(_,z){this.zone=_,this.appRef=z}create(_,z,ne){return new Li(_,z,ne,this.appRef,this.zone)}}return b.\u0275fac=function(_){return new(_||b)(a.LFG(a.R0b),a.LFG(a.z2F))},b.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac}),b})();class Li{constructor(K,_,z,ne,It){this.resolver=K,this.injector=_,this.location=z,this.appRef=ne,this.zone=It,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(K,_,z,ne){return this.zone.run(()=>new Promise(It=>{It(Di(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,K,_,z,ne))}))}removeViewFromDom(K,_){return this.zone.run(()=>new Promise(z=>{const ne=this.elRefMap.get(_);if(ne){ne.destroy(),this.elRefMap.delete(_);const It=this.elEventsMap.get(_);It&&(It(),this.elEventsMap.delete(_))}z()}))}}const Di=(b,K,_,z,ne,It,xn,Pn,Zr,ci,yi)=>{const Mi=K.resolveComponentFactory(Zr),_o=a.zs3.create({providers:Ti(ci),parent:_}),Xi=z?z.createComponent(Mi,z.length,_o):Mi.create(_o),ds=Xi.instance,No=Xi.location.nativeElement;if(ci&&Object.assign(ds,ci),yi)for(const ro of yi)No.classList.add(ro);const Fo=no(b,ds,No);return Pn.appendChild(No),z||ne.attachView(Xi.hostView),Xi.changeDetectorRef.reattach(),It.set(No,Xi),xn.set(No,Fo),No},$o=[st.L,st.a,st.b,st.c,st.d],no=(b,K,_)=>b.run(()=>{const z=$o.filter(ne=>"function"==typeof K[ne]).map(ne=>{const It=xn=>K[ne](xn.detail);return _.addEventListener(ne,It),()=>_.removeEventListener(ne,It)});return()=>z.forEach(ne=>ne())}),Qi=new a.OlP("NavParamsToken"),Ti=b=>[{provide:Qi,useValue:b},{provide:Ui,useFactory:$r,deps:[Qi]}],$r=b=>new Ui(b),W=(b,K)=>((b=b.filter(_=>_.stackId!==K.stackId)).push(K),b),tt=(b,K)=>{const _=b.createUrlTree(["."],{relativeTo:K});return b.serializeUrl(_)},Vt=(b,K)=>{if(!b)return;const _=Wt(K);for(let z=0;z<_.length;z++){if(z>=b.length)return _[z];if(_[z]!==b[z])return}},Wt=b=>b.split("/").map(K=>K.trim()).filter(K=>""!==K),sn=b=>{b&&(b.ref.destroy(),b.unlistenEvents())};class $n{constructor(K,_,z,ne,It,xn){this.containerEl=_,this.router=z,this.navCtrl=ne,this.zone=It,this.location=xn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==K?Wt(K):void 0}createView(K,_){var z;const ne=tt(this.router,_),It=null===(z=null==K?void 0:K.location)||void 0===z?void 0:z.nativeElement,xn=no(this.zone,K.instance,It);return{id:this.nextId++,stackId:Vt(this.tabsPrefix,ne),unlistenEvents:xn,element:It,ref:K,url:ne}}getExistingView(K){const _=tt(this.router,K),z=this.views.find(ne=>ne.url===_);return z&&z.ref.changeDetectorRef.reattach(),z}setActive(K){var _,z;const ne=this.navCtrl.consumeTransition();let{direction:It,animation:xn,animationBuilder:Pn}=ne;const Zr=this.activeView,ci=((b,K)=>!K||b.stackId!==K.stackId)(K,Zr);ci&&(It="back",xn=void 0);const yi=this.views.slice();let Mi;const _o=this.router;_o.getCurrentNavigation?Mi=_o.getCurrentNavigation():(null===(_=_o.navigations)||void 0===_?void 0:_.value)&&(Mi=_o.navigations.value),(null===(z=null==Mi?void 0:Mi.extras)||void 0===z?void 0:z.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const Xi=this.views.includes(K),ds=this.insertView(K,It);Xi||K.ref.changeDetectorRef.detectChanges();const No=K.animationBuilder;return void 0===Pn&&"back"===It&&!ci&&void 0!==No&&(Pn=No),Zr&&(Zr.animationBuilder=Pn),this.zone.runOutsideAngular(()=>this.wait(()=>(Zr&&Zr.ref.changeDetectorRef.detach(),K.ref.changeDetectorRef.reattach(),this.transition(K,Zr,xn,this.canGoBack(1),!1,Pn).then(()=>rr(K,ds,yi,this.location)).then(()=>({enteringView:K,direction:It,animation:xn,tabSwitch:ci})))))}canGoBack(K,_=this.getActiveStackId()){return this.getStack(_).length>K}pop(K,_=this.getActiveStackId()){return this.zone.run(()=>{var z,ne;const It=this.getStack(_);if(It.length<=K)return Promise.resolve(!1);const xn=It[It.length-K-1];let Pn=xn.url;const Zr=xn.savedData;if(Zr){const yi=Zr.get("primary");(null===(ne=null===(z=null==yi?void 0:yi.route)||void 0===z?void 0:z._routerState)||void 0===ne?void 0:ne.snapshot.url)&&(Pn=yi.route._routerState.snapshot.url)}const{animationBuilder:ci}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Pn,Object.assign(Object.assign({},xn.savedExtras),{animation:ci})).then(()=>!0)})}startBackTransition(){const K=this.activeView;if(K){const _=this.getStack(K.stackId),z=_[_.length-2],ne=z.animationBuilder;return this.wait(()=>this.transition(z,K,"back",this.canGoBack(2),!0,ne))}return Promise.resolve()}endBackTransition(K){K?(this.skipTransition=!0,this.pop(1)):this.activeView&&Yn(this.activeView,this.views,this.views,this.location)}getLastUrl(K){const _=this.getStack(K);return _.length>0?_[_.length-1]:void 0}getRootUrl(K){const _=this.getStack(K);return _.length>0?_[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(sn),this.activeView=void 0,this.views=[]}getStack(K){return this.views.filter(_=>_.stackId===K)}insertView(K,_){return this.activeView=K,this.views=((b,K,_)=>"root"===_?W(b,K):"forward"===_?((b,K)=>(b.indexOf(K)>=0?b=b.filter(z=>z.stackId!==K.stackId||z.id<=K.id):b.push(K),b))(b,K):((b,K)=>b.indexOf(K)>=0?b.filter(z=>z.stackId!==K.stackId||z.id<=K.id):W(b,K))(b,K))(this.views,K,_),this.views.slice()}transition(K,_,z,ne,It,xn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(_===K)return Promise.resolve(!1);const Pn=K?K.element:void 0,Zr=_?_.element:void 0,ci=this.containerEl;return Pn&&Pn!==Zr&&(Pn.classList.add("ion-page"),Pn.classList.add("ion-page-invisible"),Pn.parentElement!==ci&&ci.appendChild(Pn),ci.commit)?ci.commit(Pn,Zr,{deepWait:!0,duration:void 0===z?0:void 0,direction:z,showGoBack:ne,progressAnimation:It,animationBuilder:xn}):Promise.resolve(!1)}wait(K){return(0,X.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const _=this.runningTask=K();return _.finally(()=>this.runningTask=void 0),_})}}const rr=(b,K,_,z)=>"function"==typeof requestAnimationFrame?new Promise(ne=>{requestAnimationFrame(()=>{Yn(b,K,_,z),ne()})}):Promise.resolve(),Yn=(b,K,_,z)=>{_.filter(ne=>!K.includes(ne)).forEach(sn),K.forEach(ne=>{const xn=z.path().split("?")[0].split("#")[0];if(ne!==b&&ne.url!==xn){const Pn=ne.element;Pn.setAttribute("aria-hidden","true"),Pn.classList.add("ion-page-hidden"),ne.ref.changeDetectorRef.detach()}})};let Re=(()=>{class b{get(_,z){const ne=Oe();return ne?ne.get(_,z):null}getBoolean(_,z){const ne=Oe();return!!ne&&ne.getBoolean(_,z)}getNumber(_,z){const ne=Oe();return ne?ne.getNumber(_,z):0}}return b.\u0275fac=function(_){return new(_||b)},b.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const Se=new a.OlP("USERCONFIG"),Oe=()=>{if("undefined"!=typeof window){const b=window.Ionic;if(null==b?void 0:b.config)return b.config}return null};let gt=(()=>{class b{constructor(_,z){this.doc=_,this.backButton=new Ce.xQ,this.keyboardDidShow=new Ce.xQ,this.keyboardDidHide=new Ce.xQ,this.pause=new Ce.xQ,this.resume=new Ce.xQ,this.resize=new Ce.xQ,z.run(()=>{var ne;let It;this.win=_.defaultView,this.backButton.subscribeWithPriority=function(xn,Pn){return this.subscribe(Zr=>Zr.register(xn,ci=>z.run(()=>Pn(ci))))},Ut(this.pause,_,"pause"),Ut(this.resume,_,"resume"),Ut(this.backButton,_,"ionBackButton"),Ut(this.resize,this.win,"resize"),Ut(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ut(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(xn=>{It=xn}),(null===(ne=this.win)||void 0===ne?void 0:ne.cordova)?_.addEventListener("deviceready",()=>{It("cordova")},{once:!0}):It("dom")})}is(_){return(0,_e.a)(this.win,_)}platforms(){return(0,_e.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(_){return kt(this.win.location.href,_)}isLandscape(){return!this.isPortrait()}isPortrait(){var _,z;return null===(z=(_=this.win).matchMedia)||void 0===z?void 0:z.call(_,"(orientation: portrait)").matches}testUserAgent(_){const z=this.win.navigator;return!!((null==z?void 0:z.userAgent)&&z.userAgent.indexOf(_)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return b.\u0275fac=function(_){return new(_||b)(a.LFG(pt.K0),a.LFG(a.R0b))},b.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const kt=(b,K)=>{K=K.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const z=new RegExp("[\\?&]"+K+"=([^&#]*)").exec(b);return z?decodeURIComponent(z[1].replace(/\+/g," ")):null},Ut=(b,K,_)=>{K&&K.addEventListener(_,z=>{b.next(null!=z?z.detail:void 0)})};let an=(()=>{class b{constructor(_,z,ne,It){this.location=z,this.serializer=ne,this.router=It,this.direction=sr,this.animated=_r,this.guessDirection="forward",this.lastNavId=-1,It&&It.events.subscribe(xn=>{if(xn instanceof ye.OD){const Pn=xn.restoredState?xn.restoredState.navigationId:xn.id;this.guessDirection=Pn<this.lastNavId?"back":"forward",this.guessAnimation=xn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?xn.id:Pn}}),_.backButton.subscribeWithPriority(0,xn=>{this.pop(),xn()})}navigateForward(_,z={}){return this.setDirection("forward",z.animated,z.animationDirection,z.animation),this.navigate(_,z)}navigateBack(_,z={}){return this.setDirection("back",z.animated,z.animationDirection,z.animation),this.navigate(_,z)}navigateRoot(_,z={}){return this.setDirection("root",z.animated,z.animationDirection,z.animation),this.navigate(_,z)}back(_={animated:!0,animationDirection:"back"}){return this.setDirection("back",_.animated,_.animationDirection,_.animation),this.location.back()}pop(){return(0,X.mG)(this,void 0,void 0,function*(){let _=this.topOutlet;for(;_&&!(yield _.pop());)_=_.parentOutlet})}setDirection(_,z,ne,It){this.direction=_,this.animated=Vn(_,z,ne),this.animationBuilder=It}setTopOutlet(_){this.topOutlet=_}consumeTransition(){let z,_="root";const ne=this.animationBuilder;return"auto"===this.direction?(_=this.guessDirection,z=this.guessAnimation):(z=this.animated,_=this.direction),this.direction=sr,this.animated=_r,this.animationBuilder=void 0,{direction:_,animation:z,animationBuilder:ne}}navigate(_,z){if(Array.isArray(_))return this.router.navigate(_,z);{const ne=this.serializer.parse(_.toString());return void 0!==z.queryParams&&(ne.queryParams=Object.assign({},z.queryParams)),void 0!==z.fragment&&(ne.fragment=z.fragment),this.router.navigateByUrl(ne,z)}}}return b.\u0275fac=function(_){return new(_||b)(a.LFG(gt),a.LFG(pt.Ye),a.LFG(ye.Hx),a.LFG(ye.F0,8))},b.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const Vn=(b,K,_)=>{if(!1!==K){if(void 0!==_)return _;if("forward"===b||"back"===b)return b;if("root"===b&&!0===K)return"forward"}},sr="auto",_r=void 0;let nr=(()=>{class b{constructor(_,z,ne,It,xn,Pn,Zr,ci,yi,Mi,_o,Xi,ds){this.parentContexts=_,this.location=z,this.resolver=ne,this.config=Pn,this.navCtrl=Zr,this.parentOutlet=ds,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new We.X(null),this.stackEvents=new a.vpe,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.nativeEl=yi.nativeElement,this.name=It||ye.eC,this.tabsPrefix="true"===xn?tt(Mi,Xi):void 0,this.stackCtrl=new $n(this.tabsPrefix,this.nativeEl,Mi,Zr,_o,ci),_.onChildOutletCreated(this.name,this)}set animation(_){this.nativeEl.animation=_}set animated(_){this.nativeEl.animated=_}set swipeGesture(_){this._swipeGesture=_,this.nativeEl.swipeHandler=_?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:z=>this.stackCtrl.endBackTransition(z)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const _=this.getContext();(null==_?void 0:_.route)&&this.activateWith(_.route,_.resolver||null)}new Promise(_=>(0,Ie.c)(this.nativeEl,_)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(_,z){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const z=this.getContext();this.activatedView.savedData=new Map(z.children.contexts);const ne=this.activatedView.savedData.get("primary");if(ne&&z.route&&(ne.route=Object.assign({},z.route)),this.activatedView.savedExtras={},z.route){const It=z.route.snapshot;this.activatedView.savedExtras.queryParams=It.queryParams,this.activatedView.savedExtras.fragment=It.fragment}}const _=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,z){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;let ne,It=this.stackCtrl.getExistingView(_);if(It){ne=this.activated=It.ref;const xn=It.savedData;xn&&(this.getContext().children.contexts=xn),this.updateActivatedRouteProxy(ne.instance,_)}else{const Zr=(z=z||this.resolver).resolveComponentFactory(_._futureSnapshot.routeConfig.component),ci=this.parentContexts.getOrCreateContext(this.name).children,yi=new We.X(null),Mi=this.createActivatedRouteProxy(yi,_),_o=new Mr(Mi,ci,this.location.injector);ne=this.activated=this.location.createComponent(Zr,this.location.length,_o),yi.next(ne.instance),It=this.stackCtrl.createView(this.activated,_),this.proxyMap.set(ne.instance,Mi),this.currentActivatedRoute$.next({component:ne.instance,activatedRoute:_})}this.activatedView=It,this.stackCtrl.setActive(It).then(xn=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(ne.instance),this.stackEvents.emit(xn)})}canGoBack(_=1,z){return this.stackCtrl.canGoBack(_,z)}pop(_=1,z){return this.stackCtrl.pop(_,z)}getLastUrl(_){const z=this.stackCtrl.getLastUrl(_);return z?z.url:void 0}getLastRouteView(_){return this.stackCtrl.getLastUrl(_)}getRootView(_){return this.stackCtrl.getRootUrl(_)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(_,z){const ne=new ye.gz;return ne._futureSnapshot=z._futureSnapshot,ne._routerState=z._routerState,ne.snapshot=z.snapshot,ne.outlet=z.outlet,ne.component=z.component,ne._paramMap=this.proxyObservable(_,"paramMap"),ne._queryParamMap=this.proxyObservable(_,"queryParamMap"),ne.url=this.proxyObservable(_,"url"),ne.params=this.proxyObservable(_,"params"),ne.queryParams=this.proxyObservable(_,"queryParams"),ne.fragment=this.proxyObservable(_,"fragment"),ne.data=this.proxyObservable(_,"data"),ne}proxyObservable(_,z){return _.pipe((0,Ht.h)(ne=>!!ne),(0,tn.w)(ne=>this.currentActivatedRoute$.pipe((0,Ht.h)(It=>null!==It&&It.component===ne),(0,tn.w)(It=>It&&It.activatedRoute[z]),(0,Dt.x)())))}updateActivatedRouteProxy(_,z){const ne=this.proxyMap.get(_);if(!ne)throw new Error("Could not find activated route proxy for view");ne._futureSnapshot=z._futureSnapshot,ne._routerState=z._routerState,ne.snapshot=z.snapshot,ne.outlet=z.outlet,ne.component=z.component,this.currentActivatedRoute$.next({component:_,activatedRoute:z})}}return b.\u0275fac=function(_){return new(_||b)(a.Y36(ye.y6),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.$8M("tabs"),a.Y36(Re),a.Y36(an),a.Y36(pt.Ye),a.Y36(a.SBq),a.Y36(ye.F0),a.Y36(a.R0b),a.Y36(ye.gz),a.Y36(b,12))},b.\u0275dir=a.lG2({type:b,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),b})();class Mr{constructor(K,_,z){this.route=K,this.childContexts=_,this.parent=z}get(K,_){return K===ye.gz?this.route:K===ye.y6?this.childContexts:this.parent.get(K,_)}}let Si=(()=>{class b{constructor(_,z,ne,It,xn){this.locationStrategy=_,this.navCtrl=z,this.elementRef=ne,this.router=It,this.routerLink=xn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateTargetUrlAndHref(){if(this.routerLink){const _=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=_}}onClick(_){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),_.preventDefault()}}return b.\u0275fac=function(_){return new(_||b)(a.Y36(pt.S$),a.Y36(an),a.Y36(a.SBq),a.Y36(ye.F0),a.Y36(ye.rH,8))},b.\u0275dir=a.lG2({type:b,selectors:[["","routerLink",""]],hostBindings:function(_,z){1&_&&a.NdJ("click",function(It){return z.onClick(It)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[a.TTD]}),b})();class R{constructor(K){this.ctrl=K}create(K){return this.ctrl.create(K||{})}dismiss(K,_,z){return this.ctrl.dismiss(K,_,z)}getTop(){return this.ctrl.getTop()}}let Tt=(()=>{class b extends R{constructor(){super(Bt.a)}}return b.\u0275fac=function(_){return new(_||b)},b.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),Ar=(()=>{class b extends R{constructor(_,z,ne){super(Bt.m),this.angularDelegate=_,this.resolver=z,this.injector=ne}create(_){return super.create(Object.assign(Object.assign({},_),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return b.\u0275fac=function(_){return new(_||b)(a.LFG(wi),a.LFG(a._Vd),a.LFG(a.zs3))},b.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac}),b})(),Ai=(()=>{class b extends R{constructor(_,z,ne){super(Bt.c),this.angularDelegate=_,this.resolver=z,this.injector=ne}create(_){return super.create(Object.assign(Object.assign({},_),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return b.\u0275fac=function(_){return new(_||b)(a.LFG(wi),a.LFG(a._Vd),a.LFG(a.zs3))},b.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac}),b})();class ur{shouldDetach(K){return!1}shouldAttach(K){return!1}store(K,_){}retrieve(K){return null}shouldReuseRoute(K,_){if(K.routeConfig!==_.routeConfig)return!1;const z=K.params,ne=_.params,It=Object.keys(z),xn=Object.keys(ne);if(It.length!==xn.length)return!1;for(const Pn of It)if(ne[Pn]!==z[Pn])return!1;return!0}}const Bs=(b,K,_)=>()=>{if(K.defaultView&&"undefined"!=typeof window){(b=>{const K=window,_=K.Ionic;_&&_.config&&"Object"!==_.config.constructor.name||(K.Ionic=K.Ionic||{},K.Ionic.config=Object.assign(Object.assign({},K.Ionic.config),b))})(Object.assign(Object.assign({},b),{_zoneGate:It=>_.run(It)}));const ne="__zone_symbol__addEventListener"in K.body?"__zone_symbol__addEventListener":"addEventListener";return function(){var b=[];if("undefined"!=typeof window){var K=window;(!K.customElements||K.Element&&(!K.Element.prototype.closest||!K.Element.prototype.matches||!K.Element.prototype.remove||!K.Element.prototype.getRootNode))&&b.push(F.e(6748).then(F.t.bind(F,1394,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||K.NodeList&&!K.NodeList.prototype.forEach||!K.fetch||!function(){try{var z=new URL("b","http://a");return z.pathname="c%20d","http://a/c%20d"===z.href&&z.searchParams}catch(ne){return!1}}()||"undefined"==typeof WeakMap)&&b.push(F.e(2214).then(F.t.bind(F,9631,23)))}return Promise.all(b)}().then(()=>((b,K)=>"undefined"==typeof window?Promise.resolve():(0,jt.p)().then(()=>(Et(),(0,jt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]]]'),K))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Dn,jmp:It=>_.runOutsideAngular(It),ael(It,xn,Pn,Zr){It[ne](xn,Pn,Zr)},rel(It,xn,Pn,Zr){It.removeEventListener(xn,Pn,Zr)}}))}};let Go=(()=>{class b{static forRoot(_){return{ngModule:b,providers:[{provide:Se,useValue:_},{provide:a.ip1,useFactory:Bs,multi:!0,deps:[Se,pt.K0,a.R0b]}]}}}return b.\u0275fac=function(_){return new(_||b)},b.\u0275mod=a.oAB({type:b}),b.\u0275inj=a.cJS({providers:[wi,Ar,Ai],imports:[[pt.ez]]}),b})()},2850:(rn,ht,F)=>{"use strict";F.d(ht,{c:()=>We});var a=F(7360);let C;const He=ye=>ye.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Te=ye=>{if(void 0===C){const Be=void 0!==ye.style.webkitAnimationName;C=void 0===ye.style.animationName&&Be?"-webkit-":""}return C},he=(ye,Ee,Be)=>{const Ne=Ee.startsWith("animation")?Te(ye):"";ye.style.setProperty(Ne+Ee,Be)},fe=(ye,Ee)=>{const Be=Ee.startsWith("animation")?Te(ye):"";ye.style.removeProperty(Be+Ee)},ee=[],Ce=(ye=[],Ee)=>{if(void 0!==Ee){const Be=Array.isArray(Ee)?Ee:[Ee];return[...ye,...Be]}return ye},We=ye=>{let Ee,Be,Ne,_e,Ie,st,qe,Dt,pt,_t,Et,_n,Ot,lt=[],Bt=[],Je=[],jt=!1,it={},Me=[],Ue=[],ut={},nt=0,Ht=!1,tn=!1,Kt=!0,Ln=!1,Pt=!0;const on=ye,Sr=[],ar=[],Dn=[],Nn=[],lr=[],Jn=[],Dr=[],cr=[],pr=[],Tr=[],Zn="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,qn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Zn,Rn=()=>Tr,Mt=(Y,se)=>((se&&se.oneTimeCallback?ar:Sr).push({c:Y,o:se}),Ot),Cn=()=>{if(qn)Tr.forEach(Y=>{Y.cancel()}),Tr.length=0;else{const Y=Dn.slice();(0,a.r)(()=>{Y.forEach(se=>{fe(se,"animation-name"),fe(se,"animation-duration"),fe(se,"animation-timing-function"),fe(se,"animation-iteration-count"),fe(se,"animation-delay"),fe(se,"animation-play-state"),fe(se,"animation-fill-mode"),fe(se,"animation-direction")})})}},yn=()=>{lr.forEach(Y=>{Y&&Y.parentNode&&Y.parentNode.removeChild(Y)}),lr.length=0},Xt=()=>void 0!==Ie?Ie:qe?qe.getFill():"both",er=()=>void 0!==pt?pt:void 0!==st?st:qe?qe.getDirection():"normal",Cr=()=>Ht?"linear":void 0!==Ne?Ne:qe?qe.getEasing():"linear",mr=()=>tn?0:void 0!==_t?_t:void 0!==Be?Be:qe?qe.getDuration():0,xr=()=>void 0!==_e?_e:qe?qe.getIterations():1,Ge=()=>void 0!==Et?Et:void 0!==Ee?Ee:qe?qe.getDelay():0,ot=()=>{0!==nt&&(nt--,0===nt&&((()=>{li(),cr.forEach(vt=>vt()),pr.forEach(vt=>vt());const Y=Kt?1:0,se=Me,ke=Ue,ze=ut;Dn.forEach(vt=>{const At=vt.classList;se.forEach(bt=>At.add(bt)),ke.forEach(bt=>At.remove(bt));for(const bt in ze)ze.hasOwnProperty(bt)&&he(vt,bt,ze[bt])}),Sr.forEach(vt=>vt.c(Y,Ot)),ar.forEach(vt=>vt.c(Y,Ot)),ar.length=0,Pt=!0,Kt&&(Ln=!0),Kt=!0})(),qe&&qe.animationFinish()))},Ct=(Y=!0)=>{yn();const se=(ye=>(ye.forEach(Ee=>{for(const Be in Ee)if(Ee.hasOwnProperty(Be)){const Ne=Ee[Be];if("easing"===Be)Ee["animation-timing-function"]=Ne,delete Ee[Be];else{const _e=He(Be);_e!==Be&&(Ee[_e]=Ne,delete Ee[Be])}}}),ye))(lt);Dn.forEach(ke=>{if(se.length>0){const ze=((ye=[])=>ye.map(Ee=>{const Be=Ee.offset,Ne=[];for(const _e in Ee)Ee.hasOwnProperty(_e)&&"offset"!==_e&&Ne.push(`${_e}: ${Ee[_e]};`);return`${100*Be}% { ${Ne.join(" ")} }`}).join(" "))(se);_n=void 0!==ye?ye:(ye=>{let Ee=ee.indexOf(ye);return Ee<0&&(Ee=ee.push(ye)-1),`ion-animation-${Ee}`})(ze);const vt=((ye,Ee,Be)=>{const Ne=(ye=>{const Ee=ye.getRootNode();return Ee.head||Ee})(Be),_e=Te(Be),Ie=Ne.querySelector("#"+ye);if(Ie)return Ie;const st=(Be.ownerDocument||document).createElement("style");return st.id=ye,st.textContent=`@${_e}keyframes ${ye} { ${Ee} } @${_e}keyframes ${ye}-alt { ${Ee} }`,Ne.appendChild(st),st})(_n,ze,ke);lr.push(vt),he(ke,"animation-duration",`${mr()}ms`),he(ke,"animation-timing-function",Cr()),he(ke,"animation-delay",`${Ge()}ms`),he(ke,"animation-fill-mode",Xt()),he(ke,"animation-direction",er());const At=xr()===1/0?"infinite":xr().toString();he(ke,"animation-iteration-count",At),he(ke,"animation-play-state","paused"),Y&&he(ke,"animation-name",`${vt.id}-alt`),(0,a.r)(()=>{he(ke,"animation-name",vt.id||null)})}})},xe=(Y=!0)=>{(()=>{Jn.forEach(ze=>ze()),Dr.forEach(ze=>ze());const Y=Bt,se=Je,ke=it;Dn.forEach(ze=>{const vt=ze.classList;Y.forEach(At=>vt.add(At)),se.forEach(At=>vt.remove(At));for(const At in ke)ke.hasOwnProperty(At)&&he(ze,At,ke[At])})})(),lt.length>0&&(qn?(Dn.forEach(Y=>{const se=Y.animate(lt,{id:on,delay:Ge(),duration:mr(),easing:Cr(),iterations:xr(),fill:Xt(),direction:er()});se.pause(),Tr.push(se)}),Tr.length>0&&(Tr[0].onfinish=()=>{ot()})):Ct(Y)),jt=!0},J=Y=>{if(Y=Math.min(Math.max(Y,0),.9999),qn)Tr.forEach(se=>{se.currentTime=se.effect.getComputedTiming().delay+mr()*Y,se.pause()});else{const se=`-${mr()*Y}ms`;Dn.forEach(ke=>{lt.length>0&&(he(ke,"animation-delay",se),he(ke,"animation-play-state","paused"))})}},G=Y=>{Tr.forEach(se=>{se.effect.updateTiming({delay:Ge(),duration:mr(),easing:Cr(),iterations:xr(),fill:Xt(),direction:er()})}),void 0!==Y&&J(Y)},De=(Y=!0,se)=>{(0,a.r)(()=>{Dn.forEach(ke=>{he(ke,"animation-name",_n||null),he(ke,"animation-duration",`${mr()}ms`),he(ke,"animation-timing-function",Cr()),he(ke,"animation-delay",void 0!==se?`-${se*mr()}ms`:`${Ge()}ms`),he(ke,"animation-fill-mode",Xt()||null),he(ke,"animation-direction",er()||null);const ze=xr()===1/0?"infinite":xr().toString();he(ke,"animation-iteration-count",ze),Y&&he(ke,"animation-name",`${_n}-alt`),(0,a.r)(()=>{he(ke,"animation-name",_n||null)})})})},Ye=(Y=!1,se=!0,ke)=>(Y&&Nn.forEach(ze=>{ze.update(Y,se,ke)}),qn?G(ke):De(se,ke),Ot),zn=()=>{jt&&(qn?Tr.forEach(Y=>{Y.pause()}):Dn.forEach(Y=>{he(Y,"animation-play-state","paused")}))},Sn=()=>{Dt=void 0,ot()},li=()=>{Dt&&clearTimeout(Dt)},ri=Y=>new Promise(se=>{Y&&Y.sync&&(tn=!0,Mt(()=>tn=!1,{oneTimeCallback:!0})),jt||xe(),Ln&&(qn?(J(0),G()):De(),Ln=!1),Pt&&(nt=Nn.length+1,Pt=!1),Mt(()=>se(),{oneTimeCallback:!0}),Nn.forEach(ke=>{ke.play()}),qn?(Tr.forEach(Y=>{Y.play()}),(0===lt.length||0===Dn.length)&&ot()):(()=>{if(li(),(0,a.r)(()=>{Dn.forEach(Y=>{lt.length>0&&he(Y,"animation-play-state","running")})}),0===lt.length||0===Dn.length)ot();else{const Y=Ge()||0,se=mr()||0,ke=xr()||1;isFinite(ke)&&(Dt=setTimeout(Sn,Y+se*ke+100)),((ye,Ee)=>{let Be;const Ne={passive:!0},Ie=st=>{ye===st.target&&(Be&&Be(),li(),(0,a.r)(()=>{Dn.forEach(Y=>{fe(Y,"animation-duration"),fe(Y,"animation-delay"),fe(Y,"animation-play-state")}),(0,a.r)(ot)}))};ye&&(ye.addEventListener("webkitAnimationEnd",Ie,Ne),ye.addEventListener("animationend",Ie,Ne),Be=()=>{ye.removeEventListener("webkitAnimationEnd",Ie,Ne),ye.removeEventListener("animationend",Ie,Ne)})})(Dn[0])}})()}),qr=(Y,se)=>{const ke=lt[0];return void 0===ke||void 0!==ke.offset&&0!==ke.offset?lt=[{offset:0,[Y]:se},...lt]:ke[Y]=se,Ot};return Ot={parentAnimation:qe,elements:Dn,childAnimations:Nn,id:on,animationFinish:ot,from:qr,to:(Y,se)=>{const ke=lt[lt.length-1];return void 0===ke||void 0!==ke.offset&&1!==ke.offset?lt=[...lt,{offset:1,[Y]:se}]:ke[Y]=se,Ot},fromTo:(Y,se,ke)=>qr(Y,se).to(Y,ke),parent:Y=>(qe=Y,Ot),play:ri,pause:()=>(Nn.forEach(Y=>{Y.pause()}),zn(),Ot),stop:()=>{Nn.forEach(Y=>{Y.stop()}),jt&&(Cn(),jt=!1),Ht=!1,tn=!1,Pt=!0,pt=void 0,_t=void 0,Et=void 0,nt=0,Ln=!1,Kt=!0},destroy:Y=>(Nn.forEach(se=>{se.destroy(Y)}),(Y=>{Cn(),Y&&yn()})(Y),Dn.length=0,Nn.length=0,lt.length=0,Sr.length=0,ar.length=0,jt=!1,Pt=!0,Ot),keyframes:Y=>{const se=lt!==Y;return lt=Y,se&&(Y=>{qn?Rn().forEach(se=>{if(se.effect.setKeyframes)se.effect.setKeyframes(Y);else{const ke=new KeyframeEffect(se.effect.target,Y,se.effect.getTiming());se.effect=ke}}):Ct()})(lt),Ot},addAnimation:Y=>{if(null!=Y)if(Array.isArray(Y))for(const se of Y)se.parent(Ot),Nn.push(se);else Y.parent(Ot),Nn.push(Y);return Ot},addElement:Y=>{if(null!=Y)if(1===Y.nodeType)Dn.push(Y);else if(Y.length>=0)for(let se=0;se<Y.length;se++)Dn.push(Y[se]);else console.error("Invalid addElement value");return Ot},update:Ye,fill:Y=>(Ie=Y,Ye(!0),Ot),direction:Y=>(st=Y,Ye(!0),Ot),iterations:Y=>(_e=Y,Ye(!0),Ot),duration:Y=>(!qn&&0===Y&&(Y=1),Be=Y,Ye(!0),Ot),easing:Y=>(Ne=Y,Ye(!0),Ot),delay:Y=>(Ee=Y,Ye(!0),Ot),getWebAnimations:Rn,getKeyframes:()=>lt,getFill:Xt,getDirection:er,getDelay:Ge,getIterations:xr,getEasing:Cr,getDuration:mr,afterAddRead:Y=>(cr.push(Y),Ot),afterAddWrite:Y=>(pr.push(Y),Ot),afterClearStyles:(Y=[])=>{for(const se of Y)ut[se]="";return Ot},afterStyles:(Y={})=>(ut=Y,Ot),afterRemoveClass:Y=>(Ue=Ce(Ue,Y),Ot),afterAddClass:Y=>(Me=Ce(Me,Y),Ot),beforeAddRead:Y=>(Jn.push(Y),Ot),beforeAddWrite:Y=>(Dr.push(Y),Ot),beforeClearStyles:(Y=[])=>{for(const se of Y)it[se]="";return Ot},beforeStyles:(Y={})=>(it=Y,Ot),beforeRemoveClass:Y=>(Je=Ce(Je,Y),Ot),beforeAddClass:Y=>(Bt=Ce(Bt,Y),Ot),onFinish:Mt,progressStart:(Y=!1,se)=>(Nn.forEach(ke=>{ke.progressStart(Y,se)}),zn(),Ht=Y,jt||xe(),Ye(!1,!0,se),Ot),progressStep:Y=>(Nn.forEach(se=>{se.progressStep(Y)}),J(Y),Ot),progressEnd:(Y,se,ke)=>(Ht=!1,Nn.forEach(ze=>{ze.progressEnd(Y,se,ke)}),void 0!==ke&&(_t=ke),Ln=!1,Kt=!0,0===Y?(pt="reverse"===er()?"normal":"reverse","reverse"===pt&&(Kt=!1),qn?(Ye(),J(1-se)):(Et=(1-se)*mr()*-1,Ye(!1,!1))):1===Y&&(qn?(Ye(),J(se)):(Et=se*mr()*-1,Ye(!1,!1))),void 0!==Y&&(Mt(()=>{_t=void 0,pt=void 0,Et=void 0},{oneTimeCallback:!0}),qe||ri()),Ot)}}},9914:(rn,ht,F)=>{"use strict";F.d(ht,{g:()=>a});const a=(he,fe,Q,pe,ee)=>X(he[1],fe[1],Q[1],pe[1],ee).map(de=>C(he[0],fe[0],Q[0],pe[0],de)),C=(he,fe,Q,pe,ee)=>ee*(3*fe*Math.pow(ee-1,2)+ee*(-3*Q*ee+3*Q+pe*ee))-he*Math.pow(ee-1,3),X=(he,fe,Q,pe,ee)=>Te((pe-=ee)-3*(Q-=ee)+3*(fe-=ee)-(he-=ee),3*Q-6*fe+3*he,3*fe-3*he,he).filter(we=>we>=0&&we<=1),Te=(he,fe,Q,pe)=>{if(0===he)return((he,fe,Q)=>{const pe=fe*fe-4*he*Q;return pe<0?[]:[(-fe+Math.sqrt(pe))/(2*he),(-fe-Math.sqrt(pe))/(2*he)]})(fe,Q,pe);const ee=(3*(Q/=he)-(fe/=he)*fe)/3,de=(2*fe*fe*fe-9*fe*Q+27*(pe/=he))/27;if(0===ee)return[Math.pow(-de,1/3)];if(0===de)return[Math.sqrt(-ee),-Math.sqrt(-ee)];const we=Math.pow(de/2,2)+Math.pow(ee/3,3);if(0===we)return[Math.pow(de/2,.5)-fe/3];if(we>0)return[Math.pow(-de/2+Math.sqrt(we),1/3)-Math.pow(de/2+Math.sqrt(we),1/3)-fe/3];const re=Math.sqrt(Math.pow(-ee/3,3)),Ce=Math.acos(-de/(2*Math.sqrt(Math.pow(-ee/3,3)))),We=2*Math.pow(re,1/3);return[We*Math.cos(Ce/3)-fe/3,We*Math.cos((Ce+2*Math.PI)/3)-fe/3,We*Math.cos((Ce+4*Math.PI)/3)-fe/3]}},6807:(rn,ht,F)=>{"use strict";F.d(ht,{C:()=>Te,a:()=>X,d:()=>He});var a=F(8239),C=F(7360);const X=function(){var he=(0,a.Z)(function*(fe,Q,pe,ee,de,we){if(fe)return fe.attachViewToDom(Q,pe,de,ee);if(!(we||"string"==typeof pe||pe instanceof HTMLElement))throw new Error("framework delegate is missing");const re="string"==typeof pe?Q.ownerDocument&&Q.ownerDocument.createElement(pe):pe;return ee&&ee.forEach(Ce=>re.classList.add(Ce)),de&&Object.assign(re,de),Q.appendChild(re),yield new Promise(Ce=>(0,C.c)(re,Ce)),re});return function(Q,pe,ee,de,we,re){return he.apply(this,arguments)}}(),He=(he,fe)=>{if(fe){if(he)return he.removeViewFromDom(fe.parentElement,fe);fe.remove()}return Promise.resolve()},Te=()=>{let he,fe;return{attachViewToDom:function(){var ee=(0,a.Z)(function*(de,we,re={},Ce=[]){if(he=de,we){const ye="string"==typeof we?he.ownerDocument&&he.ownerDocument.createElement(we):we;Ce.forEach(Ee=>ye.classList.add(Ee)),Object.assign(ye,re),he.appendChild(ye),yield new Promise(Ee=>(0,C.c)(ye,Ee))}const We=document.querySelector("ion-app")||document.body;return fe=document.createComment("ionic teleport"),he.parentNode.insertBefore(fe,he),We.appendChild(he),he});return function(we,re){return ee.apply(this,arguments)}}(),removeViewFromDom:()=>(he&&fe&&(fe.parentNode.insertBefore(he,fe),fe.remove()),Promise.resolve())}}},5048:(rn,ht,F)=>{"use strict";F.d(ht,{G:()=>Te});class C{constructor(fe,Q,pe,ee,de){this.id=Q,this.name=pe,this.disableScroll=de,this.priority=1e6*ee+Q,this.ctrl=fe}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const fe=this.ctrl.capture(this.name,this.id,this.priority);return fe&&this.disableScroll&&this.ctrl.disableScroll(this.id),fe}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class X{constructor(fe,Q,pe,ee){this.id=Q,this.disable=pe,this.disableScroll=ee,this.ctrl=fe}block(){if(this.ctrl){if(this.disable)for(const fe of this.disable)this.ctrl.disableGesture(fe,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const fe of this.disable)this.ctrl.enableGesture(fe,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const He="backdrop-no-scroll",Te=new class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(fe){return new C(this,this.newID(),fe.name,fe.priority||0,!!fe.disableScroll)}createBlocker(fe={}){return new X(this,this.newID(),fe.disable,!!fe.disableScroll)}start(fe,Q,pe){return this.canStart(fe)?(this.requestedStart.set(Q,pe),!0):(this.requestedStart.delete(Q),!1)}capture(fe,Q,pe){if(!this.start(fe,Q,pe))return!1;const ee=this.requestedStart;let de=-1e4;if(ee.forEach(we=>{de=Math.max(de,we)}),de===pe){this.capturedId=Q,ee.clear();const we=new CustomEvent("ionGestureCaptured",{detail:{gestureName:fe}});return document.dispatchEvent(we),!0}return ee.delete(Q),!1}release(fe){this.requestedStart.delete(fe),this.capturedId===fe&&(this.capturedId=void 0)}disableGesture(fe,Q){let pe=this.disabledGestures.get(fe);void 0===pe&&(pe=new Set,this.disabledGestures.set(fe,pe)),pe.add(Q)}enableGesture(fe,Q){const pe=this.disabledGestures.get(fe);void 0!==pe&&pe.delete(Q)}disableScroll(fe){this.disabledScroll.add(fe),1===this.disabledScroll.size&&document.body.classList.add(He)}enableScroll(fe){this.disabledScroll.delete(fe),0===this.disabledScroll.size&&document.body.classList.remove(He)}canStart(fe){return!(void 0!==this.capturedId||this.isDisabled(fe))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(fe){const Q=this.disabledGestures.get(fe);return!!(Q&&Q.size>0)}newID(){return this.gestureId++,this.gestureId}}},2429:(rn,ht,F)=>{"use strict";F.d(ht,{a:()=>X,b:()=>He,c:()=>C,d:()=>he,h:()=>Te});const a={getEngine(){const fe=window;return fe.TapticEngine||fe.Capacitor&&fe.Capacitor.isPluginAvailable("Haptics")&&fe.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(fe){const Q=this.getEngine();if(!Q)return;const pe=this.isCapacitor()?fe.style.toUpperCase():fe.style;Q.impact({style:pe})},notification(fe){const Q=this.getEngine();if(!Q)return;const pe=this.isCapacitor()?fe.style.toUpperCase():fe.style;Q.notification({style:pe})},selection(){this.impact({style:"light"})},selectionStart(){const fe=this.getEngine();!fe||(this.isCapacitor()?fe.selectionStart():fe.gestureSelectionStart())},selectionChanged(){const fe=this.getEngine();!fe||(this.isCapacitor()?fe.selectionChanged():fe.gestureSelectionChanged())},selectionEnd(){const fe=this.getEngine();!fe||(this.isCapacitor()?fe.selectionEnd():fe.gestureSelectionEnd())}},C=()=>{a.selection()},X=()=>{a.selectionStart()},He=()=>{a.selectionChanged()},Te=()=>{a.selectionEnd()},he=fe=>{a.impact(fe)}},9081:(rn,ht,F)=>{"use strict";F.r(ht),F.d(ht,{MENU_BACK_BUTTON_PRIORITY:()=>Te,OVERLAY_BACK_BUTTON_PRIORITY:()=>He,blockHardwareBackButton:()=>C,startHardwareBackButton:()=>X});var a=F(8239);const C=()=>{document.addEventListener("backbutton",()=>{})},X=()=>{const he=document;let fe=!1;he.addEventListener("backbutton",()=>{if(fe)return;let Q=0,pe=[];const ee=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(re,Ce){pe.push({priority:re,handler:Ce,id:Q++})}}});he.dispatchEvent(ee);const de=function(){var re=(0,a.Z)(function*(Ce){try{if(Ce&&Ce.handler){const We=Ce.handler(we);null!=We&&(yield We)}}catch(We){console.error(We)}});return function(We){return re.apply(this,arguments)}}(),we=()=>{if(pe.length>0){let re={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};pe.forEach(Ce=>{Ce.priority>=re.priority&&(re=Ce)}),fe=!0,pe=pe.filter(Ce=>Ce.id!==re.id),de(re).then(()=>fe=!1)}};we()})},He=100,Te=99},7360:(rn,ht,F)=>{"use strict";F.d(ht,{a:()=>Te,b:()=>he,c:()=>X,d:()=>Ce,e:()=>we,f:()=>de,g:()=>fe,h:()=>re,i:()=>He,j:()=>Ne,k:()=>ee,l:()=>pe,m:()=>We,n:()=>Be,o:()=>_e,p:()=>Ee,q:()=>ye,r:()=>Q,t:()=>a});const a=(Ie,st=0)=>new Promise(lt=>{C(Ie,st,lt)}),C=(Ie,st=0,lt)=>{let Bt,Je;const jt={passive:!0},it=()=>{Bt&&Bt()},Me=Ue=>{(void 0===Ue||Ie===Ue.target)&&(it(),lt(Ue))};return Ie&&(Ie.addEventListener("webkitTransitionEnd",Me,jt),Ie.addEventListener("transitionend",Me,jt),Je=setTimeout(Me,st+500),Bt=()=>{Je&&(clearTimeout(Je),Je=void 0),Ie.removeEventListener("webkitTransitionEnd",Me,jt),Ie.removeEventListener("transitionend",Me,jt)}),it},X=(Ie,st)=>{Ie.componentOnReady?Ie.componentOnReady().then(lt=>st(lt)):Q(()=>st(Ie))},He=(Ie,st=[])=>{const lt={};return st.forEach(Bt=>{Ie.hasAttribute(Bt)&&(null!==Ie.getAttribute(Bt)&&(lt[Bt]=Ie.getAttribute(Bt)),Ie.removeAttribute(Bt))}),lt},Te=(Ie,st,lt,Bt)=>{if("undefined"!=typeof window){const Je=window,jt=Je&&Je.Ionic&&Je.Ionic.config;if(jt){const qe=jt.get("_ael");if(qe)return qe(Ie,st,lt,Bt);if(jt._ael)return jt._ael(Ie,st,lt,Bt)}}return Ie.addEventListener(st,lt,Bt)},he=(Ie,st,lt,Bt)=>{if("undefined"!=typeof window){const Je=window,jt=Je&&Je.Ionic&&Je.Ionic.config;if(jt){const qe=jt.get("_rel");if(qe)return qe(Ie,st,lt,Bt);if(jt._rel)return jt._rel(Ie,st,lt,Bt)}}return Ie.removeEventListener(st,lt,Bt)},fe=(Ie,st=Ie)=>Ie.shadowRoot||st,Q=Ie=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ie):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ie):setTimeout(Ie),pe=Ie=>!!Ie.shadowRoot&&!!Ie.attachShadow,ee=Ie=>{const st=Ie.closest("ion-item");return st?st.querySelector("ion-label"):null},de=Ie=>{if(Ie.focus(),Ie.classList.contains("ion-focusable")){const st=Ie.closest("ion-app");st&&st.setFocus([Ie])}},we=(Ie,st)=>{let lt;const Bt=Ie.getAttribute("aria-labelledby"),Je=Ie.id;let jt=null!==Bt&&""!==Bt.trim()?Bt:st+"-lbl",qe=null!==Bt&&""!==Bt.trim()?document.getElementById(Bt):ee(Ie);return qe?(null===Bt&&(qe.id=jt),lt=qe.textContent,qe.setAttribute("aria-hidden","true")):""!==Je.trim()&&(qe=document.querySelector(`label[for="${Je}"]`),qe&&(""!==qe.id?jt=qe.id:qe.id=jt=`${Je}-lbl`,lt=qe.textContent)),{label:qe,labelId:jt,labelText:lt}},re=(Ie,st,lt,Bt,Je)=>{if(Ie||pe(st)){let jt=st.querySelector("input.aux-input");jt||(jt=st.ownerDocument.createElement("input"),jt.type="hidden",jt.classList.add("aux-input"),st.appendChild(jt)),jt.disabled=Je,jt.name=lt,jt.value=Bt||""}},Ce=(Ie,st,lt)=>Math.max(Ie,Math.min(st,lt)),We=(Ie,st)=>{if(!Ie){const lt="ASSERT: "+st;throw console.error(lt),new Error(lt)}},ye=Ie=>Ie.timeStamp||Date.now(),Ee=Ie=>{if(Ie){const st=Ie.changedTouches;if(st&&st.length>0){const lt=st[0];return{x:lt.clientX,y:lt.clientY}}if(void 0!==Ie.pageX)return{x:Ie.pageX,y:Ie.pageY}}return{x:0,y:0}},Be=Ie=>{const st="rtl"===document.dir;switch(Ie){case"start":return st;case"end":return!st;default:throw new Error(`"${Ie}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ne=(Ie,st)=>{const lt=Ie._original||Ie;return{_original:Ie,emit:_e(lt.emit.bind(lt),st)}},_e=(Ie,st=0)=>{let lt;return(...Bt)=>{clearTimeout(lt),lt=setTimeout(Ie,st,...Bt)}}},7629:(rn,ht,F)=>{"use strict";F.d(ht,{B:()=>qr,H:()=>lr,a:()=>Ln,b:()=>Ct,c:()=>gi,e:()=>je,f:()=>ri,g:()=>Pt,h:()=>Dn,i:()=>Qe,j:()=>xr,k:()=>nn,p:()=>ye,r:()=>G,s:()=>Ce});var a=F(8239);let X,He,Te,he=!1,fe=!1,Q=!1,pe=!1,ee=!1;const de="undefined"!=typeof window?window:{},we=de.document||{head:{}},re={$flags$:0,$resourcesUrl$:"",jmp:L=>L(),raf:L=>requestAnimationFrame(L),ael:(L,Z,Y,se)=>L.addEventListener(Z,Y,se),rel:(L,Z,Y,se)=>L.removeEventListener(Z,Y,se),ce:(L,Z)=>new CustomEvent(L,Z)},Ce=L=>{Object.assign(re,L)},ye=L=>Promise.resolve(L),Ee=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(L){}return!1})(),Be=(L,Z,Y,se)=>{Y&&Y.map(([ke,ze,vt])=>{const At=_e(L,ke),bt=Ne(Z,vt),qt=Ie(ke);re.ael(At,ze,bt,qt),(Z.$rmListeners$=Z.$rmListeners$||[]).push(()=>re.rel(At,ze,bt,qt))})},Ne=(L,Z)=>Y=>{try{256&L.$flags$?L.$lazyInstance$[Z](Y):(L.$queuedListeners$=L.$queuedListeners$||[]).push([Z,Y])}catch(se){wt(se)}},_e=(L,Z)=>4&Z?we:8&Z?de:16&Z?we.body:L,Ie=L=>0!=(2&L),jt="s-id",qe="sty-id",Ue="http://www.w3.org/1999/xlink",Ht=new WeakMap,tn=(L,Z,Y)=>{let se=zn.get(L);Ee&&Y?(se=se||new CSSStyleSheet,se.replace(Z)):se=Z,zn.set(L,se)},Dt=(L,Z,Y,se)=>{let ke=_t(Z,Y),ze=zn.get(ke);if(L=11===L.nodeType?L:we,ze)if("string"==typeof ze){let At,vt=Ht.get(L=L.head||L);vt||Ht.set(L,vt=new Set),vt.has(ke)||(L.host&&(At=L.querySelector(`[${qe}="${ke}"]`))?At.innerHTML=ze:(At=we.createElement("style"),At.innerHTML=ze,L.insertBefore(At,L.querySelector("link"))),vt&&vt.add(ke))}else L.adoptedStyleSheets.includes(ze)||(L.adoptedStyleSheets=[...L.adoptedStyleSheets,ze]);return ke},_t=(L,Z)=>"sc-"+(Z&&32&L.$flags$?L.$tagName$+"-"+Z:L.$tagName$),Et=L=>L.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ln=L=>tr.push(L),Pt=L=>J(L).$modeName$,_n={},ar=L=>"object"==(L=typeof L)||"function"===L,Dn=(L,Z,...Y)=>{let se=null,ke=null,ze=null,vt=!1,At=!1,bt=[];const qt=un=>{for(let Gn=0;Gn<un.length;Gn++)se=un[Gn],Array.isArray(se)?qt(se):null!=se&&"boolean"!=typeof se&&((vt="function"!=typeof L&&!ar(se))&&(se=String(se)),vt&&At?bt[bt.length-1].$text$+=se:bt.push(vt?Nn(null,se):se),At=vt)};if(qt(Y),Z){Z.key&&(ke=Z.key),Z.name&&(ze=Z.name);{const un=Z.className||Z.class;un&&(Z.class="object"!=typeof un?un:Object.keys(un).filter(Gn=>un[Gn]).join(" "))}}if("function"==typeof L)return L(null===Z?{}:Z,bt,Dr);const En=Nn(L,null);return En.$attrs$=Z,bt.length>0&&(En.$children$=bt),En.$key$=ke,En.$name$=ze,En},Nn=(L,Z)=>({$flags$:0,$tag$:L,$text$:Z,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),lr={},Dr={forEach:(L,Z)=>L.map(cr).forEach(Z),map:(L,Z)=>L.map(cr).map(Z).map(pr)},cr=L=>({vattrs:L.$attrs$,vchildren:L.$children$,vkey:L.$key$,vname:L.$name$,vtag:L.$tag$,vtext:L.$text$}),pr=L=>{if("function"==typeof L.vtag){const Y=Object.assign({},L.vattrs);return L.vkey&&(Y.key=L.vkey),L.vname&&(Y.name=L.vname),Dn(L.vtag,Y,...L.vchildren||[])}const Z=Nn(L.vtag,L.vtext);return Z.$attrs$=L.vattrs,Z.$children$=L.vchildren,Z.$key$=L.vkey,Z.$name$=L.vname,Z},Tr=(L,Z,Y,se,ke,ze)=>{if(Y!==se){let vt=Ye(L,Z),At=Z.toLowerCase();if("class"===Z){const bt=L.classList,qt=qn(Y),En=qn(se);bt.remove(...qt.filter(un=>un&&!En.includes(un))),bt.add(...En.filter(un=>un&&!qt.includes(un)))}else if("style"===Z){for(const bt in Y)(!se||null==se[bt])&&(bt.includes("-")?L.style.removeProperty(bt):L.style[bt]="");for(const bt in se)(!Y||se[bt]!==Y[bt])&&(bt.includes("-")?L.style.setProperty(bt,se[bt]):L.style[bt]=se[bt])}else if("key"!==Z)if("ref"===Z)se&&se(L);else if(vt||"o"!==Z[0]||"n"!==Z[1]){const bt=ar(se);if((vt||bt&&null!==se)&&!ke)try{if(L.tagName.includes("-"))L[Z]=se;else{let En=null==se?"":se;"list"===Z?vt=!1:(null==Y||L[Z]!=En)&&(L[Z]=En)}}catch(En){}let qt=!1;At!==(At=At.replace(/^xlink\:?/,""))&&(Z=At,qt=!0),null==se||!1===se?(!1!==se||""===L.getAttribute(Z))&&(qt?L.removeAttributeNS(Ue,Z):L.removeAttribute(Z)):(!vt||4&ze||ke)&&!bt&&(se=!0===se?"":se,qt?L.setAttributeNS(Ue,Z,se):L.setAttribute(Z,se))}else Z="-"===Z[2]?Z.slice(3):Ye(de,At)?At.slice(2):At[2]+Z.slice(3),Y&&re.rel(L,Z,Y,!1),se&&re.ael(L,Z,se,!1)}},Zn=/\s/,qn=L=>L?L.split(Zn):[],Ur=(L,Z,Y,se)=>{const ke=11===Z.$elm$.nodeType&&Z.$elm$.host?Z.$elm$.host:Z.$elm$,ze=L&&L.$attrs$||_n,vt=Z.$attrs$||_n;for(se in ze)se in vt||Tr(ke,se,ze[se],void 0,Y,Z.$flags$);for(se in vt)Tr(ke,se,ze[se],vt[se],Y,Z.$flags$)},Rn=(L,Z,Y,se)=>{let vt,At,bt,ke=Z.$children$[Y],ze=0;if(he||(Q=!0,"slot"===ke.$tag$&&(X&&se.classList.add(X+"-s"),ke.$flags$|=ke.$children$?2:1)),null!==ke.$text$)vt=ke.$elm$=we.createTextNode(ke.$text$);else if(1&ke.$flags$)vt=ke.$elm$=we.createTextNode("");else{if(pe||(pe="svg"===ke.$tag$),vt=ke.$elm$=we.createElementNS(pe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ke.$flags$?"slot-fb":ke.$tag$),pe&&"foreignObject"===ke.$tag$&&(pe=!1),Ur(null,ke,pe),(L=>null!=L)(X)&&vt["s-si"]!==X&&vt.classList.add(vt["s-si"]=X),ke.$children$)for(ze=0;ze<ke.$children$.length;++ze)At=Rn(L,ke,ze,vt),At&&vt.appendChild(At);"svg"===ke.$tag$?pe=!1:"foreignObject"===vt.tagName&&(pe=!0)}return vt["s-hn"]=Te,3&ke.$flags$&&(vt["s-sr"]=!0,vt["s-cr"]=He,vt["s-sn"]=ke.$name$||"",bt=L&&L.$children$&&L.$children$[Y],bt&&bt.$tag$===ke.$tag$&&L.$elm$&&Yt(L.$elm$,!1)),vt},Yt=(L,Z)=>{re.$flags$|=1;const Y=L.childNodes;for(let se=Y.length-1;se>=0;se--){const ke=Y[se];ke["s-hn"]!==Te&&ke["s-ol"]&&(yn(ke).insertBefore(ke,Cn(ke)),ke["s-ol"].remove(),ke["s-ol"]=void 0,Q=!0),Z&&Yt(ke,Z)}re.$flags$&=-2},hn=(L,Z,Y,se,ke,ze)=>{let At,vt=L["s-cr"]&&L["s-cr"].parentNode||L;for(vt.shadowRoot&&vt.tagName===Te&&(vt=vt.shadowRoot);ke<=ze;++ke)se[ke]&&(At=Rn(null,Y,ke,L),At&&(se[ke].$elm$=At,vt.insertBefore(At,Cn(Z))))},gr=(L,Z,Y,se,ke)=>{for(;Z<=Y;++Z)(se=L[Z])&&(ke=se.$elm$,ti(se),fe=!0,ke["s-ol"]?ke["s-ol"].remove():Yt(ke,!0),ke.remove())},Hn=(L,Z)=>L.$tag$===Z.$tag$&&("slot"===L.$tag$?L.$name$===Z.$name$:L.$key$===Z.$key$),Cn=L=>L&&L["s-ol"]||L,yn=L=>(L["s-ol"]?L["s-ol"]:L).parentNode,Er=(L,Z)=>{const Y=Z.$elm$=L.$elm$,se=L.$children$,ke=Z.$children$,ze=Z.$tag$,vt=Z.$text$;let At;null===vt?(pe="svg"===ze||"foreignObject"!==ze&&pe,"slot"===ze||Ur(L,Z,pe),null!==se&&null!==ke?((L,Z,Y,se)=>{let oi,Qn,ke=0,ze=0,vt=0,At=0,bt=Z.length-1,qt=Z[0],En=Z[bt],un=se.length-1,Gn=se[0],vr=se[un];for(;ke<=bt&&ze<=un;)if(null==qt)qt=Z[++ke];else if(null==En)En=Z[--bt];else if(null==Gn)Gn=se[++ze];else if(null==vr)vr=se[--un];else if(Hn(qt,Gn))Er(qt,Gn),qt=Z[++ke],Gn=se[++ze];else if(Hn(En,vr))Er(En,vr),En=Z[--bt],vr=se[--un];else if(Hn(qt,vr))("slot"===qt.$tag$||"slot"===vr.$tag$)&&Yt(qt.$elm$.parentNode,!1),Er(qt,vr),L.insertBefore(qt.$elm$,En.$elm$.nextSibling),qt=Z[++ke],vr=se[--un];else if(Hn(En,Gn))("slot"===qt.$tag$||"slot"===vr.$tag$)&&Yt(En.$elm$.parentNode,!1),Er(En,Gn),L.insertBefore(En.$elm$,qt.$elm$),En=Z[--bt],Gn=se[++ze];else{for(vt=-1,At=ke;At<=bt;++At)if(Z[At]&&null!==Z[At].$key$&&Z[At].$key$===Gn.$key$){vt=At;break}vt>=0?(Qn=Z[vt],Qn.$tag$!==Gn.$tag$?oi=Rn(Z&&Z[ze],Y,vt,L):(Er(Qn,Gn),Z[vt]=void 0,oi=Qn.$elm$),Gn=se[++ze]):(oi=Rn(Z&&Z[ze],Y,ze,L),Gn=se[++ze]),oi&&yn(qt.$elm$).insertBefore(oi,Cn(qt.$elm$))}ke>bt?hn(L,null==se[un+1]?null:se[un+1].$elm$,Y,se,ze,un):ze>un&&gr(Z,ke,bt)})(Y,se,Z,ke):null!==ke?(null!==L.$text$&&(Y.textContent=""),hn(Y,null,Z,ke,0,ke.length-1)):null!==se&&gr(se,0,se.length-1),pe&&"svg"===ze&&(pe=!1)):(At=Y["s-cr"])?At.parentNode.textContent=vt:L.$text$!==vt&&(Y.data=vt)},ai=L=>{let Y,se,ke,ze,vt,At,Z=L.childNodes;for(se=0,ke=Z.length;se<ke;se++)if(Y=Z[se],1===Y.nodeType){if(Y["s-sr"])for(vt=Y["s-sn"],Y.hidden=!1,ze=0;ze<ke;ze++)if(At=Z[ze].nodeType,Z[ze]["s-hn"]!==Y["s-hn"]||""!==vt){if(1===At&&vt===Z[ze].getAttribute("slot")){Y.hidden=!0;break}}else if(1===At||3===At&&""!==Z[ze].textContent.trim()){Y.hidden=!0;break}ai(Y)}},Pr=[],Fr=L=>{let Z,Y,se,ke,ze,vt,At=0,bt=L.childNodes,qt=bt.length;for(;At<qt;At++){if(Z=bt[At],Z["s-sr"]&&(Y=Z["s-cr"])&&Y.parentNode)for(se=Y.parentNode.childNodes,ke=Z["s-sn"],vt=se.length-1;vt>=0;vt--)Y=se[vt],!Y["s-cn"]&&!Y["s-nr"]&&Y["s-hn"]!==Z["s-hn"]&&(gn(Y,ke)?(ze=Pr.find(En=>En.$nodeToRelocate$===Y),fe=!0,Y["s-sn"]=Y["s-sn"]||ke,ze?ze.$slotRefNode$=Z:Pr.push({$slotRefNode$:Z,$nodeToRelocate$:Y}),Y["s-sr"]&&Pr.map(En=>{gn(En.$nodeToRelocate$,Y["s-sn"])&&(ze=Pr.find(un=>un.$nodeToRelocate$===Y),ze&&!En.$slotRefNode$&&(En.$slotRefNode$=ze.$slotRefNode$))})):Pr.some(En=>En.$nodeToRelocate$===Y)||Pr.push({$nodeToRelocate$:Y}));1===Z.nodeType&&Fr(Z)}},gn=(L,Z)=>1===L.nodeType?null===L.getAttribute("slot")&&""===Z||L.getAttribute("slot")===Z:L["s-sn"]===Z||""===Z,ti=L=>{L.$attrs$&&L.$attrs$.ref&&L.$attrs$.ref(null),L.$children$&&L.$children$.map(ti)},Qe=L=>J(L).$hostElement$,je=(L,Z,Y)=>{const se=Qe(L);return{emit:ke=>St(se,Z,{bubbles:!!(4&Y),composed:!!(2&Y),cancelable:!!(1&Y),detail:ke})}},St=(L,Z,Y)=>{const se=re.ce(Z,Y);return L.dispatchEvent(se),se},ft=(L,Z)=>{Z&&!L.$onRenderResolve$&&Z["s-p"]&&Z["s-p"].push(new Promise(Y=>L.$onRenderResolve$=Y))},Jt=(L,Z)=>{if(L.$flags$|=16,!(4&L.$flags$))return ft(L,L.$ancestorComponent$),gi(()=>Xt(L,Z));L.$flags$|=512},Xt=(L,Z)=>{const se=L.$lazyInstance$;let ke;return Z&&(L.$flags$|=256,L.$queuedListeners$&&(L.$queuedListeners$.map(([ze,vt])=>$e(se,ze,vt)),L.$queuedListeners$=null),ke=$e(se,"componentWillLoad")),ke=Xe(ke,()=>$e(se,"componentWillRender")),Xe(ke,()=>er(L,se,Z))},er=function(){var L=(0,a.Z)(function*(Z,Y,se){const ke=Z.$hostElement$,vt=ke["s-rc"];se&&(L=>{const Z=L.$cmpMeta$,Y=L.$hostElement$,se=Z.$flags$,ze=Dt(Y.shadowRoot?Y.shadowRoot:Y.getRootNode(),Z,L.$modeName$);10&se&&(Y["s-sc"]=ze,Y.classList.add(ze+"-h"),2&se&&Y.classList.add(ze+"-s"))})(Z);Cr(Z,Y),vt&&(vt.map(bt=>bt()),ke["s-rc"]=void 0);{const bt=ke["s-p"],qt=()=>mr(Z);0===bt.length?qt():(Promise.all(bt).then(qt),Z.$flags$|=4,bt.length=0)}});return function(Y,se,ke){return L.apply(this,arguments)}}(),Cr=(L,Z,Y)=>{try{Z=Z.render&&Z.render(),L.$flags$&=-17,L.$flags$|=2,((L,Z)=>{const Y=L.$hostElement$,se=L.$cmpMeta$,ke=L.$vnode$||Nn(null,null),ze=(L=>L&&L.$tag$===lr)(Z)?Z:Dn(null,null,Z);if(Te=Y.tagName,se.$attrsToReflect$&&(ze.$attrs$=ze.$attrs$||{},se.$attrsToReflect$.map(([vt,At])=>ze.$attrs$[At]=Y[vt])),ze.$tag$=null,ze.$flags$|=4,L.$vnode$=ze,ze.$elm$=ke.$elm$=Y.shadowRoot||Y,X=Y["s-sc"],He=Y["s-cr"],he=0!=(1&se.$flags$),fe=!1,Er(ke,ze),re.$flags$|=1,Q){Fr(ze.$elm$);let vt,At,bt,qt,En,un,Gn=0;for(;Gn<Pr.length;Gn++)vt=Pr[Gn],At=vt.$nodeToRelocate$,At["s-ol"]||(bt=we.createTextNode(""),bt["s-nr"]=At,At.parentNode.insertBefore(At["s-ol"]=bt,At));for(Gn=0;Gn<Pr.length;Gn++)if(vt=Pr[Gn],At=vt.$nodeToRelocate$,vt.$slotRefNode$){for(qt=vt.$slotRefNode$.parentNode,En=vt.$slotRefNode$.nextSibling,bt=At["s-ol"];bt=bt.previousSibling;)if(un=bt["s-nr"],un&&un["s-sn"]===At["s-sn"]&&qt===un.parentNode&&(un=un.nextSibling,!un||!un["s-nr"])){En=un;break}(!En&&qt!==At.parentNode||At.nextSibling!==En)&&At!==En&&(!At["s-hn"]&&At["s-ol"]&&(At["s-hn"]=At["s-ol"].parentNode.nodeName),qt.insertBefore(At,En))}else 1===At.nodeType&&(At.hidden=!0)}fe&&ai(ze.$elm$),re.$flags$&=-2,Pr.length=0})(L,Z)}catch(se){wt(se,L.$hostElement$)}return null},mr=L=>{const Y=L.$hostElement$,ke=L.$lazyInstance$,ze=L.$ancestorComponent$;64&L.$flags$?$e(ke,"componentDidUpdate"):(L.$flags$|=64,Lt(Y),$e(ke,"componentDidLoad"),L.$onReadyResolve$(Y),ze||Ge()),L.$onInstanceResolve$(Y),L.$onRenderResolve$&&(L.$onRenderResolve$(),L.$onRenderResolve$=void 0),512&L.$flags$&&jr(()=>Jt(L,!1)),L.$flags$&=-517},xr=L=>{{const Z=J(L),Y=Z.$hostElement$.isConnected;return Y&&2==(18&Z.$flags$)&&Jt(Z,!1),Y}},Ge=L=>{Lt(we.documentElement),jr(()=>St(de,"appload",{detail:{namespace:"ionic"}}))},$e=(L,Z,Y)=>{if(L&&L[Z])try{return L[Z](Y)}catch(se){wt(se)}},Xe=(L,Z)=>L&&L.then?L.then(Z):Z(),Lt=L=>L.classList.add("hydrated"),In=(L,Z,Y,se,ke,ze,vt)=>{let At,bt,qt,En;if(1===ze.nodeType){for(At=ze.getAttribute("c-id"),At&&(bt=At.split("."),(bt[0]===vt||"0"===bt[0])&&(qt={$flags$:0,$hostId$:bt[0],$nodeId$:bt[1],$depth$:bt[2],$index$:bt[3],$tag$:ze.tagName.toLowerCase(),$elm$:ze,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Z.push(qt),ze.removeAttribute("c-id"),L.$children$||(L.$children$=[]),L.$children$[qt.$index$]=qt,L=qt,se&&"0"===qt.$depth$&&(se[qt.$index$]=qt.$elm$))),En=ze.childNodes.length-1;En>=0;En--)In(L,Z,Y,se,ke,ze.childNodes[En],vt);if(ze.shadowRoot)for(En=ze.shadowRoot.childNodes.length-1;En>=0;En--)In(L,Z,Y,se,ke,ze.shadowRoot.childNodes[En],vt)}else if(8===ze.nodeType)bt=ze.nodeValue.split("."),(bt[1]===vt||"0"===bt[1])&&(At=bt[0],qt={$flags$:0,$hostId$:bt[1],$nodeId$:bt[2],$depth$:bt[3],$index$:bt[4],$elm$:ze,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===At?(qt.$elm$=ze.nextSibling,qt.$elm$&&3===qt.$elm$.nodeType&&(qt.$text$=qt.$elm$.textContent,Z.push(qt),ze.remove(),L.$children$||(L.$children$=[]),L.$children$[qt.$index$]=qt,se&&"0"===qt.$depth$&&(se[qt.$index$]=qt.$elm$))):qt.$hostId$===vt&&("s"===At?(qt.$tag$="slot",ze["s-sn"]=bt[5]?qt.$name$=bt[5]:"",ze["s-sr"]=!0,se&&(qt.$elm$=we.createElement(qt.$tag$),qt.$name$&&qt.$elm$.setAttribute("name",qt.$name$),ze.parentNode.insertBefore(qt.$elm$,ze),ze.remove(),"0"===qt.$depth$&&(se[qt.$index$]=qt.$elm$)),Y.push(qt),L.$children$||(L.$children$=[]),L.$children$[qt.$index$]=qt):"r"===At&&(se?ze.remove():(ke["s-cr"]=ze,ze["s-cn"]=!0))));else if(L&&"style"===L.$tag$){const un=Nn(null,ze.textContent);un.$elm$=ze,un.$index$="0",L.$children$=[un]}},Wn=(L,Z)=>{if(1===L.nodeType){let Y=0;for(;Y<L.childNodes.length;Y++)Wn(L.childNodes[Y],Z);if(L.shadowRoot)for(Y=0;Y<L.shadowRoot.childNodes.length;Y++)Wn(L.shadowRoot.childNodes[Y],Z)}else if(8===L.nodeType){const Y=L.nodeValue.split(".");"o"===Y[0]&&(Z.set(Y[1]+"."+Y[2],L),L.nodeValue="",L["s-en"]=Y[3])}},kr=(L,Z,Y)=>{if(Z.$members$){L.watchers&&(Z.$watchers$=L.watchers);const se=Object.entries(Z.$members$),ke=L.prototype;if(se.map(([ze,[vt]])=>{31&vt||2&Y&&32&vt?Object.defineProperty(ke,ze,{get(){return((L,Z)=>J(this).$instanceValues$.get(Z))(0,ze)},set(At){((L,Z,Y,se)=>{const ke=J(L),ze=ke.$hostElement$,vt=ke.$instanceValues$.get(Z),At=ke.$flags$,bt=ke.$lazyInstance$;if(Y=((L,Z)=>null==L||ar(L)?L:4&Z?"false"!==L&&(""===L||!!L):2&Z?parseFloat(L):1&Z?String(L):L)(Y,se.$members$[Z][0]),(!(8&At)||void 0===vt)&&Y!==vt&&(ke.$instanceValues$.set(Z,Y),bt)){if(se.$watchers$&&128&At){const qt=se.$watchers$[Z];qt&&qt.map(En=>{try{bt[En](Y,vt,Z)}catch(un){wt(un,ze)}})}2==(18&At)&&Jt(ke,!1)}})(this,ze,At,Z)},configurable:!0,enumerable:!0}):1&Y&&64&vt&&Object.defineProperty(ke,ze,{value(...At){const bt=J(this);return bt.$onInstancePromise$.then(()=>bt.$lazyInstance$[ze](...At))}})}),1&Y){const ze=new Map;ke.attributeChangedCallback=function(vt,At,bt){re.jmp(()=>{const qt=ze.get(vt);if(this.hasOwnProperty(qt))bt=this[qt],delete this[qt];else if(ke.hasOwnProperty(qt)&&"number"==typeof this[qt]&&this[qt]==bt)return;this[qt]=(null!==bt||"boolean"!=typeof this[qt])&&bt})},L.observedAttributes=se.filter(([vt,At])=>15&At[0]).map(([vt,At])=>{const bt=At[1]||vt;return ze.set(bt,vt),512&At[0]&&Z.$attrsToReflect$.push([vt,bt]),bt})}}return L},Bn=function(){var L=(0,a.Z)(function*(Z,Y,se,ke,ze){if(0==(32&Y.$flags$)){{if(Y.$flags$|=32,(ze=fn(se)).then){const qt=()=>{};ze=yield ze,qt()}ze.isProxied||(se.$watchers$=ze.watchers,kr(ze,se,2),ze.isProxied=!0);const bt=()=>{};Y.$flags$|=8;try{new ze(Y)}catch(qt){wt(qt)}Y.$flags$&=-9,Y.$flags$|=128,bt(),Or(Y.$lazyInstance$)}if(ze.style){let bt=ze.style;"string"!=typeof bt&&(bt=bt[Y.$modeName$=(L=>tr.map(Z=>Z(L)).find(Z=>!!Z))(Z)]);const qt=_t(se,Y.$modeName$);if(!zn.has(qt)){const En=()=>{};tn(qt,bt,!!(1&se.$flags$)),En()}}}const vt=Y.$ancestorComponent$,At=()=>Jt(Y,!0);vt&&vt["s-rc"]?vt["s-rc"].push(At):At()});return function(Y,se,ke,ze,vt){return L.apply(this,arguments)}}(),Or=L=>{$e(L,"connectedCallback")},Gr=L=>{const Z=L["s-cr"]=we.createComment("");Z["s-cn"]=!0,L.insertBefore(Z,L.firstChild)},Ct=(L,Z={})=>{const se=[],ke=Z.exclude||[],ze=de.customElements,vt=we.head,At=vt.querySelector("meta[charset]"),bt=we.createElement("style"),qt=[],En=we.querySelectorAll(`[${qe}]`);let un,Gn=!0,vr=0;for(Object.assign(re,Z),re.$resourcesUrl$=new URL(Z.resourcesUrl||"./",we.baseURI).href,re.$flags$|=2;vr<En.length;vr++)tn(En[vr].getAttribute(qe),Et(En[vr].innerHTML),!0);L.map(oi=>{oi[1].map(Qn=>{const bi={$flags$:Qn[0],$tagName$:Qn[1],$members$:Qn[2],$listeners$:Qn[3]};bi.$members$=Qn[2],bi.$listeners$=Qn[3],bi.$attrsToReflect$=[],bi.$watchers$={};const Ni=bi.$tagName$,Ui=class extends HTMLElement{constructor(wi){super(wi),De(wi=this,bi),1&bi.$flags$&&wi.attachShadow({mode:"open",delegatesFocus:!!(16&bi.$flags$)})}connectedCallback(){un&&(clearTimeout(un),un=null),Gn?qt.push(this):re.jmp(()=>(L=>{if(0==(1&re.$flags$)){const Z=J(L),Y=Z.$cmpMeta$,se=()=>{};if(1&Z.$flags$)Be(L,Z,Y.$listeners$),Or(Z.$lazyInstance$);else{let ke;if(Z.$flags$|=1,ke=L.getAttribute(jt),ke){if(1&Y.$flags$){const ze=Dt(L.shadowRoot,Y,L.getAttribute("s-mode"));L.classList.remove(ze+"-h",ze+"-s")}((L,Z,Y,se)=>{const ze=L.shadowRoot,vt=[],bt=ze?[]:null,qt=se.$vnode$=Nn(Z,null);re.$orgLocNodes$||Wn(we.body,re.$orgLocNodes$=new Map),L[jt]=Y,L.removeAttribute(jt),In(qt,vt,[],bt,L,L,Y),vt.map(En=>{const un=En.$hostId$+"."+En.$nodeId$,Gn=re.$orgLocNodes$.get(un),vr=En.$elm$;Gn&&""===Gn["s-en"]&&Gn.parentNode.insertBefore(vr,Gn.nextSibling),ze||(vr["s-hn"]=Z,Gn&&(vr["s-ol"]=Gn,vr["s-ol"]["s-nr"]=vr)),re.$orgLocNodes$.delete(un)}),ze&&bt.map(En=>{En&&ze.appendChild(En)})})(L,Y.$tagName$,ke,Z)}ke||12&Y.$flags$&&Gr(L);{let ze=L;for(;ze=ze.parentNode||ze.host;)if(1===ze.nodeType&&ze.hasAttribute("s-id")&&ze["s-p"]||ze["s-p"]){ft(Z,Z.$ancestorComponent$=ze);break}}Y.$members$&&Object.entries(Y.$members$).map(([ze,[vt]])=>{if(31&vt&&L.hasOwnProperty(ze)){const At=L[ze];delete L[ze],L[ze]=At}}),jr(()=>Bn(L,Z,Y))}se()}})(this))}disconnectedCallback(){re.jmp(()=>(L=>{if(0==(1&re.$flags$)){const Z=J(this),Y=Z.$lazyInstance$;Z.$rmListeners$&&(Z.$rmListeners$.map(se=>se()),Z.$rmListeners$=void 0),$e(Y,"disconnectedCallback")}})())}componentOnReady(){return J(this).$onReadyPromise$}};bi.$lazyBundleId$=oi[0],!ke.includes(Ni)&&!ze.get(Ni)&&(se.push(Ni),ze.define(Ni,kr(Ui,bi,1)))})}),bt.innerHTML=se+"{visibility:hidden}.hydrated{visibility:inherit}",bt.setAttribute("data-styles",""),vt.insertBefore(bt,At?At.nextSibling:vt.firstChild),Gn=!1,qt.length?qt.map(oi=>oi.connectedCallback()):re.jmp(()=>un=setTimeout(Ge,30))},nn=L=>{const Z=new URL(L,re.$resourcesUrl$);return Z.origin!==de.location.origin?Z.href:Z.pathname},xe=new WeakMap,J=L=>xe.get(L),G=(L,Z)=>xe.set(Z.$lazyInstance$=L,Z),De=(L,Z)=>{const Y={$flags$:0,$hostElement$:L,$cmpMeta$:Z,$instanceValues$:new Map};return Y.$onInstancePromise$=new Promise(se=>Y.$onInstanceResolve$=se),Y.$onReadyPromise$=new Promise(se=>Y.$onReadyResolve$=se),L["s-p"]=[],L["s-rc"]=[],Be(L,Y,Z.$listeners$),xe.set(L,Y)},Ye=(L,Z)=>Z in L,wt=(L,Z)=>(0,console.error)(L,Z),Zt=new Map,fn=(L,Z,Y)=>{const se=L.$tagName$.replace(/-/g,"_"),ke=L.$lazyBundleId$,ze=Zt.get(ke);return ze?ze[se]:F(863)(`./${ke}.entry.js`).then(vt=>(Zt.set(ke,vt),vt[se]),wt)},zn=new Map,tr=[],Sn=[],li=[],yt=(L,Z)=>Y=>{L.push(Y),ee||(ee=!0,Z&&4&re.$flags$?jr(di):re.raf(di))},Ei=L=>{for(let Z=0;Z<L.length;Z++)try{L[Z](performance.now())}catch(Y){wt(Y)}L.length=0},di=()=>{Ei(Sn),Ei(li),(ee=Sn.length>0)&&re.raf(di)},jr=L=>ye().then(L),ri=yt(Sn,!1),gi=yt(li,!0),qr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},8751:(rn,ht,F)=>{"use strict";F.r(ht),F.d(ht,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>pe});var a=F(5048);const C=(re,Ce,We,ye)=>{const Ee=X(re)?{capture:!!ye.capture,passive:!!ye.passive}:!!ye.capture;let Be,Ne;return re.__zone_symbol__addEventListener?(Be="__zone_symbol__addEventListener",Ne="__zone_symbol__removeEventListener"):(Be="addEventListener",Ne="removeEventListener"),re[Be](Ce,We,Ee),()=>{re[Ne](Ce,We,Ee)}},X=re=>{if(void 0===He)try{const Ce=Object.defineProperty({},"passive",{get:()=>{He=!0}});re.addEventListener("optsTest",()=>{},Ce)}catch(Ce){He=!1}return!!He};let He;const fe=re=>re instanceof Document?re:re.ownerDocument,pe=re=>{let Ce=!1,We=!1,ye=!0,Ee=!1;const Be=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},re),Ne=Be.canStart,_e=Be.onWillStart,Ie=Be.onStart,st=Be.onEnd,lt=Be.notCaptured,Bt=Be.onMove,Je=Be.threshold,jt=Be.passive,qe=Be.blurOnStart,it={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Me=((re,Ce,We)=>{const ye=We*(Math.PI/180),Ee="x"===re,Be=Math.cos(ye),Ne=Ce*Ce;let _e=0,Ie=0,st=!1,lt=0;return{start(Bt,Je){_e=Bt,Ie=Je,lt=0,st=!0},detect(Bt,Je){if(!st)return!1;const jt=Bt-_e,qe=Je-Ie,it=jt*jt+qe*qe;if(it<Ne)return!1;const Me=Math.sqrt(it),Ue=(Ee?jt:qe)/Me;return lt=Ue>Be?1:Ue<-Be?-1:0,st=!1,!0},isGesture:()=>0!==lt,getDirection:()=>lt}})(Be.direction,Be.threshold,Be.maxAngle),Ue=a.G.createGesture({name:re.gestureName,priority:re.gesturePriority,disableScroll:re.disableScroll}),Ht=()=>{!Ce||(Ee=!1,Bt&&Bt(it))},tn=()=>!(Ue&&!Ue.capture()||(Ce=!0,ye=!1,it.startX=it.currentX,it.startY=it.currentY,it.startTime=it.currentTime,_e?_e(it).then(pt):pt(),0)),pt=()=>{qe&&(()=>{if("undefined"!=typeof document){const Pt=document.activeElement;null!==Pt&&Pt.blur&&Pt.blur()}})(),Ie&&Ie(it),ye=!0},_t=()=>{Ce=!1,We=!1,Ee=!1,ye=!0,Ue.release()},Et=Pt=>{const _n=Ce,Ot=ye;if(_t(),Ot){if(ee(it,Pt),_n)return void(st&&st(it));lt&&lt(it)}},Kt=((re,Ce,We,ye,Ee)=>{let Be,Ne,_e,Ie,st,lt,Bt,Je=0;const jt=Dt=>{Je=Date.now()+2e3,Ce(Dt)&&(!Ne&&We&&(Ne=C(re,"touchmove",We,Ee)),_e||(_e=C(Dt.target,"touchend",it,Ee)),Ie||(Ie=C(Dt.target,"touchcancel",it,Ee)))},qe=Dt=>{Je>Date.now()||!Ce(Dt)||(!lt&&We&&(lt=C(fe(re),"mousemove",We,Ee)),Bt||(Bt=C(fe(re),"mouseup",Me,Ee)))},it=Dt=>{Ue(),ye&&ye(Dt)},Me=Dt=>{ut(),ye&&ye(Dt)},Ue=()=>{Ne&&Ne(),_e&&_e(),Ie&&Ie(),Ne=_e=Ie=void 0},ut=()=>{lt&&lt(),Bt&&Bt(),lt=Bt=void 0},nt=()=>{Ue(),ut()},Ht=(Dt=!0)=>{Dt?(Be||(Be=C(re,"touchstart",jt,Ee)),st||(st=C(re,"mousedown",qe,Ee))):(Be&&Be(),st&&st(),Be=st=void 0,nt())};return{enable:Ht,stop:nt,destroy:()=>{Ht(!1),ye=We=Ce=void 0}}})(Be.el,Pt=>{const _n=we(Pt);return!(We||!ye||(de(Pt,it),it.startX=it.currentX,it.startY=it.currentY,it.startTime=it.currentTime=_n,it.velocityX=it.velocityY=it.deltaX=it.deltaY=0,it.event=Pt,Ne&&!1===Ne(it))||(Ue.release(),!Ue.start()))&&(We=!0,0===Je?tn():(Me.start(it.startX,it.startY),!0))},Pt=>{Ce?!Ee&&ye&&(Ee=!0,ee(it,Pt),requestAnimationFrame(Ht)):(ee(it,Pt),Me.detect(it.currentX,it.currentY)&&(!Me.isGesture()||!tn())&&Ln())},Et,{capture:!1,passive:jt}),Ln=()=>{_t(),Kt.stop(),lt&&lt(it)};return{enable(Pt=!0){Pt||(Ce&&Et(void 0),_t()),Kt.enable(Pt)},destroy(){Ue.destroy(),Kt.destroy()}}},ee=(re,Ce)=>{if(!Ce)return;const We=re.currentX,ye=re.currentY,Ee=re.currentTime;de(Ce,re);const Be=re.currentX,Ne=re.currentY,Ie=(re.currentTime=we(Ce))-Ee;if(Ie>0&&Ie<100){const lt=(Ne-ye)/Ie;re.velocityX=(Be-We)/Ie*.7+.3*re.velocityX,re.velocityY=.7*lt+.3*re.velocityY}re.deltaX=Be-re.startX,re.deltaY=Ne-re.startY,re.event=Ce},de=(re,Ce)=>{let We=0,ye=0;if(re){const Ee=re.changedTouches;if(Ee&&Ee.length>0){const Be=Ee[0];We=Be.clientX,ye=Be.clientY}else void 0!==re.pageX&&(We=re.pageX,ye=re.pageY)}Ce.currentX=We,Ce.currentY=ye},we=re=>re.timeStamp||Date.now()},2302:(rn,ht,F)=>{"use strict";F.d(ht,{m:()=>de});var a=F(8239),C=F(9081),X=F(7360),He=F(6897),Te=F(2850);const he=we=>(0,Te.c)().duration(we?400:300),fe=we=>{let re,Ce;const We=we.width+8,ye=(0,Te.c)(),Ee=(0,Te.c)();we.isEndSide?(re=We+"px",Ce="0px"):(re=-We+"px",Ce="0px"),ye.addElement(we.menuInnerEl).fromTo("transform",`translateX(${re})`,`translateX(${Ce})`);const Ne="ios"===(0,He.b)(we),_e=Ne?.2:.25;return Ee.addElement(we.backdropEl).fromTo("opacity",.01,_e),he(Ne).addAnimation([ye,Ee])},Q=we=>{let re,Ce;const We=(0,He.b)(we),ye=we.width;we.isEndSide?(re=-ye+"px",Ce=ye+"px"):(re=ye+"px",Ce=-ye+"px");const Ee=(0,Te.c)().addElement(we.menuInnerEl).fromTo("transform",`translateX(${Ce})`,"translateX(0px)"),Be=(0,Te.c)().addElement(we.contentEl).fromTo("transform","translateX(0px)",`translateX(${re})`),Ne=(0,Te.c)().addElement(we.backdropEl).fromTo("opacity",.01,.32);return he("ios"===We).addAnimation([Ee,Be,Ne])},pe=we=>{const re=(0,He.b)(we),Ce=we.width*(we.isEndSide?-1:1)+"px",We=(0,Te.c)().addElement(we.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ce})`);return he("ios"===re).addAnimation(We)},de=(()=>{const we=new Map,re=[],Ce=function(){var pt=(0,a.Z)(function*(_t){const Et=yield Ie(_t);return!!Et&&Et.open()});return function(Et){return pt.apply(this,arguments)}}(),We=function(){var pt=(0,a.Z)(function*(_t){const Et=yield void 0!==_t?Ie(_t):st();return void 0!==Et&&Et.close()});return function(Et){return pt.apply(this,arguments)}}(),ye=function(){var pt=(0,a.Z)(function*(_t){const Et=yield Ie(_t);return!!Et&&Et.toggle()});return function(Et){return pt.apply(this,arguments)}}(),Ee=function(){var pt=(0,a.Z)(function*(_t,Et){const Kt=yield Ie(Et);return Kt&&(Kt.disabled=!_t),Kt});return function(Et,Kt){return pt.apply(this,arguments)}}(),Be=function(){var pt=(0,a.Z)(function*(_t,Et){const Kt=yield Ie(Et);return Kt&&(Kt.swipeGesture=_t),Kt});return function(Et,Kt){return pt.apply(this,arguments)}}(),Ne=function(){var pt=(0,a.Z)(function*(_t){if(null!=_t){const Et=yield Ie(_t);return void 0!==Et&&Et.isOpen()}return void 0!==(yield st())});return function(Et){return pt.apply(this,arguments)}}(),_e=function(){var pt=(0,a.Z)(function*(_t){const Et=yield Ie(_t);return!!Et&&!Et.disabled});return function(Et){return pt.apply(this,arguments)}}(),Ie=function(){var pt=(0,a.Z)(function*(_t){return yield Dt(),"start"===_t||"end"===_t?tn(Ln=>Ln.side===_t&&!Ln.disabled)||tn(Ln=>Ln.side===_t):null!=_t?tn(Kt=>Kt.menuId===_t):tn(Kt=>!Kt.disabled)||(re.length>0?re[0].el:void 0)});return function(Et){return pt.apply(this,arguments)}}(),st=function(){var pt=(0,a.Z)(function*(){return yield Dt(),ut()});return function(){return pt.apply(this,arguments)}}(),lt=function(){var pt=(0,a.Z)(function*(){return yield Dt(),nt()});return function(){return pt.apply(this,arguments)}}(),Bt=function(){var pt=(0,a.Z)(function*(){return yield Dt(),Ht()});return function(){return pt.apply(this,arguments)}}(),Je=(pt,_t)=>{we.set(pt,_t)},it=pt=>{const _t=pt.side;re.filter(Et=>Et.side===_t&&Et!==pt).forEach(Et=>Et.disabled=!0)},Me=function(){var pt=(0,a.Z)(function*(_t,Et,Kt){if(Ht())return!1;if(Et){const Ln=yield st();Ln&&_t.el!==Ln&&(yield Ln.setOpen(!1,!1))}return _t._setOpen(Et,Kt)});return function(Et,Kt,Ln){return pt.apply(this,arguments)}}(),ut=()=>tn(pt=>pt._isOpen),nt=()=>re.map(pt=>pt.el),Ht=()=>re.some(pt=>pt.isAnimating),tn=pt=>{const _t=re.find(pt);if(void 0!==_t)return _t.el},Dt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(pt=>new Promise(_t=>(0,X.c)(pt,_t))));return Je("reveal",pe),Je("push",Q),Je("overlay",fe),"undefined"!=typeof document&&document.addEventListener("ionBackButton",pt=>{const _t=ut();_t&&pt.detail.register(C.MENU_BACK_BUTTON_PRIORITY,()=>_t.close())}),{registerAnimation:Je,get:Ie,getMenus:lt,getOpen:st,isEnabled:_e,swipeGesture:Be,isAnimating:Bt,isOpen:Ne,enable:Ee,toggle:ye,close:We,open:Ce,_getOpenSync:ut,_createAnimation:(pt,_t)=>{const Et=we.get(pt);if(!Et)throw new Error("animation not registered");return Et(_t)},_register:pt=>{re.indexOf(pt)<0&&(pt.disabled||it(pt),re.push(pt))},_unregister:pt=>{const _t=re.indexOf(pt);_t>-1&&re.splice(_t,1)},_setOpen:Me,_setActiveMenu:it}})()},8380:(rn,ht,F)=>{"use strict";F.d(ht,{s:()=>a});const a=Q=>{try{if(Q instanceof class{constructor(pe){this.value=pe}})return Q.value;if(!He()||"string"!=typeof Q||""===Q)return Q;const pe=document.createDocumentFragment(),ee=document.createElement("div");pe.appendChild(ee),ee.innerHTML=Q,he.forEach(Ce=>{const We=pe.querySelectorAll(Ce);for(let ye=We.length-1;ye>=0;ye--){const Ee=We[ye];Ee.parentNode?Ee.parentNode.removeChild(Ee):pe.removeChild(Ee);const Be=X(Ee);for(let Ne=0;Ne<Be.length;Ne++)C(Be[Ne])}});const de=X(pe);for(let Ce=0;Ce<de.length;Ce++)C(de[Ce]);const we=document.createElement("div");we.appendChild(pe);const re=we.querySelector("div");return null!==re?re.innerHTML:we.innerHTML}catch(pe){return console.error(pe),""}},C=Q=>{if(Q.nodeType&&1!==Q.nodeType)return;for(let ee=Q.attributes.length-1;ee>=0;ee--){const de=Q.attributes.item(ee),we=de.name;if(!Te.includes(we.toLowerCase())){Q.removeAttribute(we);continue}const re=de.value;null!=re&&re.toLowerCase().includes("javascript:")&&Q.removeAttribute(we)}const pe=X(Q);for(let ee=0;ee<pe.length;ee++)C(pe[ee])},X=Q=>null!=Q.children?Q.children:Q.childNodes,He=()=>{const Q=window,pe=Q&&Q.Ionic&&Q.Ionic.config;return!pe||(pe.get?pe.get("sanitizerEnabled",!0):!0===pe.sanitizerEnabled||void 0===pe.sanitizerEnabled)},Te=["class","id","href","src","name","slot"],he=["script","style","iframe","meta","link","object","embed"]},224:(rn,ht,F)=>{"use strict";F.d(ht,{L:()=>He,a:()=>Te,b:()=>he,c:()=>fe,d:()=>Q,e:()=>Je,g:()=>it,l:()=>lt,s:()=>jt,t:()=>de});var a=F(8239),C=F(7629),X=F(7360);const He="ionViewWillEnter",Te="ionViewDidEnter",he="ionViewWillLeave",fe="ionViewDidLeave",Q="ionViewWillUnload",de=Me=>new Promise((Ue,ut)=>{(0,C.c)(()=>{we(Me),re(Me).then(nt=>{nt.animation&&nt.animation.destroy(),Ce(Me),Ue(nt)},nt=>{Ce(Me),ut(nt)})})}),we=Me=>{const Ue=Me.enteringEl,ut=Me.leavingEl;qe(Ue,ut,Me.direction),Me.showGoBack?Ue.classList.add("can-go-back"):Ue.classList.remove("can-go-back"),jt(Ue,!1),Ue.style.setProperty("pointer-events","none"),ut&&(jt(ut,!1),ut.style.setProperty("pointer-events","none"))},re=function(){var Me=(0,a.Z)(function*(Ue){const ut=yield We(Ue);return ut&&C.B.isBrowser?ye(ut,Ue):Ee(Ue)});return function(ut){return Me.apply(this,arguments)}}(),Ce=Me=>{const Ue=Me.enteringEl,ut=Me.leavingEl;Ue.classList.remove("ion-page-invisible"),Ue.style.removeProperty("pointer-events"),void 0!==ut&&(ut.classList.remove("ion-page-invisible"),ut.style.removeProperty("pointer-events"))},We=function(){var Me=(0,a.Z)(function*(Ue){return Ue.leavingEl&&Ue.animated&&0!==Ue.duration?Ue.animationBuilder?Ue.animationBuilder:"ios"===Ue.mode?(yield Promise.resolve().then(F.bind(F,321))).iosTransitionAnimation:(yield Promise.resolve().then(F.bind(F,5129))).mdTransitionAnimation:void 0});return function(ut){return Me.apply(this,arguments)}}(),ye=function(){var Me=(0,a.Z)(function*(Ue,ut){yield Be(ut,!0);const nt=Ue(ut.baseEl,ut);Ie(ut.enteringEl,ut.leavingEl);const Ht=yield _e(nt,ut);return ut.progressCallback&&ut.progressCallback(void 0),Ht&&st(ut.enteringEl,ut.leavingEl),{hasCompleted:Ht,animation:nt}});return function(ut,nt){return Me.apply(this,arguments)}}(),Ee=function(){var Me=(0,a.Z)(function*(Ue){const ut=Ue.enteringEl,nt=Ue.leavingEl;return yield Be(Ue,!1),Ie(ut,nt),st(ut,nt),{hasCompleted:!0}});return function(ut){return Me.apply(this,arguments)}}(),Be=function(){var Me=(0,a.Z)(function*(Ue,ut){const Ht=(void 0!==Ue.deepWait?Ue.deepWait:ut)?[Je(Ue.enteringEl),Je(Ue.leavingEl)]:[Bt(Ue.enteringEl),Bt(Ue.leavingEl)];yield Promise.all(Ht),yield Ne(Ue.viewIsReady,Ue.enteringEl)});return function(ut,nt){return Me.apply(this,arguments)}}(),Ne=function(){var Me=(0,a.Z)(function*(Ue,ut){Ue&&(yield Ue(ut))});return function(ut,nt){return Me.apply(this,arguments)}}(),_e=(Me,Ue)=>{const ut=Ue.progressCallback,nt=new Promise(Ht=>{Me.onFinish(tn=>Ht(1===tn))});return ut?(Me.progressStart(!0),ut(Me)):Me.play(),nt},Ie=(Me,Ue)=>{lt(Ue,he),lt(Me,He)},st=(Me,Ue)=>{lt(Me,Te),lt(Ue,fe)},lt=(Me,Ue)=>{if(Me){const ut=new CustomEvent(Ue,{bubbles:!1,cancelable:!1});Me.dispatchEvent(ut)}},Bt=Me=>Me?new Promise(Ue=>(0,X.c)(Me,Ue)):Promise.resolve(),Je=function(){var Me=(0,a.Z)(function*(Ue){const ut=Ue;if(ut){if(null!=ut.componentOnReady){if(null!=(yield ut.componentOnReady()))return}else if(null!=ut.__registerHost)return void(yield new Promise(Ht=>(0,X.r)(Ht)));yield Promise.all(Array.from(ut.children).map(Je))}});return function(ut){return Me.apply(this,arguments)}}(),jt=(Me,Ue)=>{Ue?(Me.setAttribute("aria-hidden","true"),Me.classList.add("ion-page-hidden")):(Me.hidden=!1,Me.removeAttribute("aria-hidden"),Me.classList.remove("ion-page-hidden"))},qe=(Me,Ue,ut)=>{void 0!==Me&&(Me.style.zIndex="back"===ut?"99":"101"),void 0!==Ue&&(Ue.style.zIndex="100")},it=Me=>Me.classList.contains("ion-page")?Me:Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Me},6897:(rn,ht,F)=>{"use strict";F.d(ht,{a:()=>de,b:()=>Ht,c:()=>X,g:()=>ee,i:()=>tn});var a=F(7629);class C{constructor(){this.m=new Map}reset(pt){this.m=new Map(Object.entries(pt))}get(pt,_t){const Et=this.m.get(pt);return void 0!==Et?Et:_t}getBoolean(pt,_t=!1){const Et=this.m.get(pt);return void 0===Et?_t:"string"==typeof Et?"true"===Et:!!Et}getNumber(pt,_t){const Et=parseFloat(this.m.get(pt));return isNaN(Et)?void 0!==_t?_t:NaN:Et}set(pt,_t){this.m.set(pt,_t)}}const X=new C,Q="ionic:",pe="ionic-persist-config",ee=Dt=>we(Dt),de=(Dt,pt)=>("string"==typeof Dt&&(pt=Dt,Dt=void 0),ee(Dt).includes(pt)),we=(Dt=window)=>{if(void 0===Dt)return[];Dt.Ionic=Dt.Ionic||{};let pt=Dt.Ionic.platforms;return null==pt&&(pt=Dt.Ionic.platforms=re(Dt),pt.forEach(_t=>Dt.document.documentElement.classList.add(`plt-${_t}`))),pt},re=Dt=>{const pt=X.get("platform");return Object.keys(ut).filter(_t=>{const Et=pt&&pt[_t];return"function"==typeof Et?Et(Dt):ut[_t](Dt)})},We=Dt=>!!(Me(Dt,/iPad/i)||Me(Dt,/Macintosh/i)&&st(Dt)),Be=Dt=>Me(Dt,/android|sink/i),st=Dt=>Ue(Dt,"(any-pointer:coarse)"),Bt=Dt=>Je(Dt)||jt(Dt),Je=Dt=>!!(Dt.cordova||Dt.phonegap||Dt.PhoneGap),jt=Dt=>{const pt=Dt.Capacitor;return!(!pt||!pt.isNative)},Me=(Dt,pt)=>pt.test(Dt.navigator.userAgent),Ue=(Dt,pt)=>Dt.matchMedia&&Dt.matchMedia(pt).matches,ut={ipad:We,iphone:Dt=>Me(Dt,/iPhone/i),ios:Dt=>Me(Dt,/iPhone|iPod/i)||We(Dt),android:Be,phablet:Dt=>{const pt=Dt.innerWidth,_t=Dt.innerHeight,Et=Math.min(pt,_t),Kt=Math.max(pt,_t);return Et>390&&Et<520&&Kt>620&&Kt<800},tablet:Dt=>{const pt=Dt.innerWidth,_t=Dt.innerHeight,Et=Math.min(pt,_t),Kt=Math.max(pt,_t);return We(Dt)||(Dt=>Be(Dt)&&!Me(Dt,/mobile/i))(Dt)||Et>460&&Et<820&&Kt>780&&Kt<1400},cordova:Je,capacitor:jt,electron:Dt=>Me(Dt,/electron/i),pwa:Dt=>!!(Dt.matchMedia&&Dt.matchMedia("(display-mode: standalone)").matches||Dt.navigator.standalone),mobile:st,mobileweb:Dt=>st(Dt)&&!Bt(Dt),desktop:Dt=>!st(Dt),hybrid:Bt};let nt;const Ht=Dt=>Dt&&(0,a.g)(Dt)||nt,tn=(Dt={})=>{if("undefined"==typeof window)return;const pt=window.document,_t=window,Et=_t.Ionic=_t.Ionic||{},Kt={};Dt._ael&&(Kt.ael=Dt._ael),Dt._rel&&(Kt.rel=Dt._rel),Dt._ce&&(Kt.ce=Dt._ce),(0,a.s)(Kt);const Ln=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Dt=>{try{const pt=Dt.sessionStorage.getItem(pe);return null!==pt?JSON.parse(pt):{}}catch(pt){return{}}})(_t)),{persistConfig:!1}),Et.config),(Dt=>{const pt={};return Dt.location.search.slice(1).split("&").map(_t=>_t.split("=")).map(([_t,Et])=>[decodeURIComponent(_t),decodeURIComponent(Et)]).filter(([_t])=>((Dt,pt)=>Dt.substr(0,pt.length)===pt)(_t,Q)).map(([_t,Et])=>[_t.slice(Q.length),Et]).forEach(([_t,Et])=>{pt[_t]=Et}),pt})(_t)),Dt);X.reset(Ln),X.getBoolean("persistConfig")&&((Dt,pt)=>{try{Dt.sessionStorage.setItem(pe,JSON.stringify(pt))}catch(_t){return}})(_t,Ln),we(_t),Et.config=X,Et.mode=nt=X.get("mode",pt.documentElement.getAttribute("mode")||(de(_t,"ios")?"ios":"md")),X.set("mode",nt),pt.documentElement.setAttribute("mode",nt),pt.documentElement.classList.add(nt),X.getBoolean("_testing")&&X.set("animated",!1);const Pt=Ot=>Ot.tagName&&Ot.tagName.startsWith("ION-"),_n=Ot=>["ios","md"].includes(Ot);(0,a.a)(Ot=>{for(;Ot;){const on=Ot.mode||Ot.getAttribute("mode");if(on){if(_n(on))return on;Pt(Ot)&&console.warn('Invalid ionic mode: "'+on+'", expected: "ios" or "md"')}Ot=Ot.parentElement}return nt})}},321:(rn,ht,F)=>{"use strict";F.r(ht),F.d(ht,{iosTransitionAnimation:()=>we,shadow:()=>he});var a=F(2850),C=F(224);F(7629);const Te=re=>document.querySelector(`${re}.ion-cloned-element`),he=re=>re.shadowRoot||re,fe=re=>{const Ce="ION-TABS"===re.tagName?re:re.querySelector("ion-tabs"),We="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ce){const ye=Ce.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ye?ye.querySelector(We):null}return re.querySelector(We)},Q=(re,Ce)=>{const We="ION-TABS"===re.tagName?re:re.querySelector("ion-tabs");let ye=[];if(null!=We){const Ee=We.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ee&&(ye=Ee.querySelectorAll("ion-buttons"))}else ye=re.querySelectorAll("ion-buttons");for(const Ee of ye){const Be=Ee.closest("ion-header"),Ne=Be&&!Be.classList.contains("header-collapse-condense-inactive"),_e=Ee.querySelector("ion-back-button"),Ie=Ee.classList.contains("buttons-collapse"),st="start"===Ee.slot||""===Ee.slot;if(null!==_e&&st&&(Ie&&Ne&&Ce||!Ie))return _e}return null},ee=(re,Ce,We,ye,Ee,Be)=>{const Ne=Ce?`calc(100% - ${Be.right+4}px)`:Be.left-4+"px",_e=Ce?"7px":"-7px",Ie=Ce?"-4px":"4px",st=Ce?"-4px":"4px",lt=Ce?"right":"left",Bt=Ce?"left":"right",qe=We?[{offset:0,opacity:1,transform:`translate3d(${Ie}, ${Be.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${_e}, ${Ee.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${_e}, ${Ee.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ie}, ${Be.top-46}px, 0) scale(1)`}],Ue=We?[{offset:0,opacity:1,transform:`translate3d(${st}, ${Be.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${st}, ${Be.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${st}, ${Be.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${st}, ${Be.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${st}, ${Be.top-46}px, 0) scale(1)`}],ut=(0,a.c)(),nt=(0,a.c)(),Ht=Te("ion-back-button"),tn=he(Ht).querySelector(".button-text"),Dt=he(Ht).querySelector("ion-icon");Ht.text=ye.text,Ht.mode=ye.mode,Ht.icon=ye.icon,Ht.color=ye.color,Ht.disabled=ye.disabled,Ht.style.setProperty("display","block"),Ht.style.setProperty("position","fixed"),nt.addElement(Dt),ut.addElement(tn),ut.beforeStyles({"transform-origin":`${lt} center`}).beforeAddWrite(()=>{ye.style.setProperty("display","none"),Ht.style.setProperty(lt,Ne)}).afterAddWrite(()=>{ye.style.setProperty("display",""),Ht.style.setProperty("display","none"),Ht.style.removeProperty(lt)}).keyframes(qe),nt.beforeStyles({"transform-origin":`${Bt} center`}).keyframes(Ue),re.addAnimation([ut,nt])},de=(re,Ce,We,ye,Ee,Be)=>{const Ne=Ce?`calc(100% - ${Ee.right}px)`:`${Ee.left}px`,_e=Ce?"-18px":"18px",Ie=Ce?"right":"left",Bt=We?[{offset:0,opacity:0,transform:`translate3d(${_e}, ${Be.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ee.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ee.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${_e}, ${Be.top-4}px, 0) scale(0.5)`}],Je=Te("ion-title"),jt=(0,a.c)();Je.innerText=ye.innerText,Je.size=ye.size,Je.color=ye.color,jt.addElement(Je),jt.beforeStyles({"transform-origin":`${Ie} center`,height:"46px",display:"",position:"relative",[Ie]:Ne}).beforeAddWrite(()=>{ye.style.setProperty("display","none")}).afterAddWrite(()=>{ye.style.setProperty("display",""),Je.style.setProperty("display","none")}).keyframes(Bt),re.addAnimation(jt)},we=(re,Ce)=>{try{const We="cubic-bezier(0.32,0.72,0,1)",ye="opacity",Ee="transform",Be="0%",Ne=.8,_e="rtl"===re.ownerDocument.dir,Ie=_e?"-99.5%":"99.5%",st=_e?"33%":"-33%",lt=Ce.enteringEl,Bt=Ce.leavingEl,Je="back"===Ce.direction,jt=lt.querySelector(":scope > ion-content"),qe=lt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),it=lt.querySelectorAll(":scope > ion-header > ion-toolbar"),Me=(0,a.c)(),Ue=(0,a.c)();if(Me.addElement(lt).duration(Ce.duration||540).easing(Ce.easing||We).fill("both").beforeRemoveClass("ion-page-invisible"),Bt&&re){const tn=(0,a.c)();tn.addElement(re),Me.addAnimation(tn)}if(jt||0!==it.length||0!==qe.length?(Ue.addElement(jt),Ue.addElement(qe)):Ue.addElement(lt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Me.addAnimation(Ue),Je?Ue.beforeClearStyles([ye]).fromTo("transform",`translateX(${st})`,`translateX(${Be})`).fromTo(ye,Ne,1):Ue.beforeClearStyles([ye]).fromTo("transform",`translateX(${Ie})`,`translateX(${Be})`),jt){const tn=he(jt).querySelector(".transition-effect");if(tn){const Dt=tn.querySelector(".transition-cover"),pt=tn.querySelector(".transition-shadow"),_t=(0,a.c)(),Et=(0,a.c)(),Kt=(0,a.c)();_t.addElement(tn).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Et.addElement(Dt).beforeClearStyles([ye]).fromTo(ye,0,.1),Kt.addElement(pt).beforeClearStyles([ye]).fromTo(ye,.03,.7),_t.addAnimation([Et,Kt]),Ue.addAnimation([_t])}}const ut=lt.querySelector("ion-header.header-collapse-condense"),{forward:nt,backward:Ht}=((re,Ce,We,ye,Ee)=>{const Be=Q(ye,We),Ne=fe(Ee),_e=fe(ye),Ie=Q(Ee,We),st=null!==Be&&null!==Ne&&!We,lt=null!==_e&&null!==Ie&&We;if(st){const Bt=Ne.getBoundingClientRect(),Je=Be.getBoundingClientRect();de(re,Ce,We,Ne,Bt,Je),ee(re,Ce,We,Be,Bt,Je)}else if(lt){const Bt=_e.getBoundingClientRect(),Je=Ie.getBoundingClientRect();de(re,Ce,We,_e,Bt,Je),ee(re,Ce,We,Ie,Bt,Je)}return{forward:st,backward:lt}})(Me,_e,Je,lt,Bt);if(it.forEach(tn=>{const Dt=(0,a.c)();Dt.addElement(tn),Me.addAnimation(Dt);const pt=(0,a.c)();pt.addElement(tn.querySelector("ion-title"));const _t=(0,a.c)(),Et=Array.from(tn.querySelectorAll("ion-buttons,[menuToggle]")),Kt=tn.closest("ion-header"),Ln=Kt&&Kt.classList.contains("header-collapse-condense-inactive");let Pt;Pt=Et.filter(Je?ar=>{const Dn=ar.classList.contains("buttons-collapse");return Dn&&!Ln||!Dn}:ar=>!ar.classList.contains("buttons-collapse")),_t.addElement(Pt);const _n=(0,a.c)();_n.addElement(tn.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ot=(0,a.c)();Ot.addElement(he(tn).querySelector(".toolbar-background"));const on=(0,a.c)(),Sr=tn.querySelector("ion-back-button");if(Sr&&on.addElement(Sr),Dt.addAnimation([pt,_t,_n,Ot,on]),_t.fromTo(ye,.01,1),_n.fromTo(ye,.01,1),Je)Ln||pt.fromTo("transform",`translateX(${st})`,`translateX(${Be})`).fromTo(ye,.01,1),_n.fromTo("transform",`translateX(${st})`,`translateX(${Be})`),on.fromTo(ye,.01,1);else if(ut||pt.fromTo("transform",`translateX(${Ie})`,`translateX(${Be})`).fromTo(ye,.01,1),_n.fromTo("transform",`translateX(${Ie})`,`translateX(${Be})`),Ot.beforeClearStyles([ye,"transform"]),(null==Kt?void 0:Kt.translucent)?Ot.fromTo("transform",_e?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ot.fromTo(ye,.01,"var(--opacity)"),nt||on.fromTo(ye,.01,1),Sr&&!nt){const Dn=(0,a.c)();Dn.addElement(he(Sr).querySelector(".button-text")).fromTo("transform",_e?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Dt.addAnimation(Dn)}}),Bt){const tn=(0,a.c)(),Dt=Bt.querySelector(":scope > ion-content"),pt=Bt.querySelectorAll(":scope > ion-header > ion-toolbar"),_t=Bt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Dt||0!==pt.length||0!==_t.length?(tn.addElement(Dt),tn.addElement(_t)):tn.addElement(Bt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Me.addAnimation(tn),Je){tn.beforeClearStyles([ye]).fromTo("transform",`translateX(${Be})`,_e?"translateX(-100%)":"translateX(100%)");const Et=(0,C.g)(Bt);Me.afterAddWrite(()=>{"normal"===Me.getDirection()&&Et.style.setProperty("display","none")})}else tn.fromTo("transform",`translateX(${Be})`,`translateX(${st})`).fromTo(ye,1,Ne);if(Dt){const Et=he(Dt).querySelector(".transition-effect");if(Et){const Kt=Et.querySelector(".transition-cover"),Ln=Et.querySelector(".transition-shadow"),Pt=(0,a.c)(),_n=(0,a.c)(),Ot=(0,a.c)();Pt.addElement(Et).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),_n.addElement(Kt).beforeClearStyles([ye]).fromTo(ye,.1,0),Ot.addElement(Ln).beforeClearStyles([ye]).fromTo(ye,.7,.03),Pt.addAnimation([_n,Ot]),tn.addAnimation([Pt])}}pt.forEach(Et=>{const Kt=(0,a.c)();Kt.addElement(Et);const Ln=(0,a.c)();Ln.addElement(Et.querySelector("ion-title"));const Pt=(0,a.c)(),_n=Et.querySelectorAll("ion-buttons,[menuToggle]"),Ot=Et.closest("ion-header"),on=Ot&&Ot.classList.contains("header-collapse-condense-inactive"),Sr=Array.from(_n).filter(Dr=>{const cr=Dr.classList.contains("buttons-collapse");return cr&&!on||!cr});Pt.addElement(Sr);const ar=(0,a.c)(),Dn=Et.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Dn.length>0&&ar.addElement(Dn);const Nn=(0,a.c)();Nn.addElement(he(Et).querySelector(".toolbar-background"));const lr=(0,a.c)(),Jn=Et.querySelector("ion-back-button");if(Jn&&lr.addElement(Jn),Kt.addAnimation([Ln,Pt,ar,lr,Nn]),Me.addAnimation(Kt),lr.fromTo(ye,.99,0),Pt.fromTo(ye,.99,0),ar.fromTo(ye,.99,0),Je){if(on||Ln.fromTo("transform",`translateX(${Be})`,_e?"translateX(-100%)":"translateX(100%)").fromTo(ye,.99,0),ar.fromTo("transform",`translateX(${Be})`,_e?"translateX(-100%)":"translateX(100%)"),Nn.beforeClearStyles([ye,"transform"]),(null==Ot?void 0:Ot.translucent)?Nn.fromTo("transform","translateX(0px)",_e?"translateX(-100%)":"translateX(100%)"):Nn.fromTo(ye,"var(--opacity)",0),Jn&&!Ht){const cr=(0,a.c)();cr.addElement(he(Jn).querySelector(".button-text")).fromTo("transform",`translateX(${Be})`,`translateX(${(_e?-124:124)+"px"})`),Kt.addAnimation(cr)}}else on||Ln.fromTo("transform",`translateX(${Be})`,`translateX(${st})`).fromTo(ye,.99,0).afterClearStyles([Ee,ye]),ar.fromTo("transform",`translateX(${Be})`,`translateX(${st})`).afterClearStyles([Ee,ye]),lr.afterClearStyles([ye]),Ln.afterClearStyles([ye]),Pt.afterClearStyles([ye])})}return Me}catch(We){throw We}}},5129:(rn,ht,F)=>{"use strict";F.r(ht),F.d(ht,{mdTransitionAnimation:()=>He});var a=F(2850),C=F(224);F(7629);const He=(Te,he)=>{const pe="back"===he.direction,de=he.leavingEl,we=(0,C.g)(he.enteringEl),re=we.querySelector("ion-toolbar"),Ce=(0,a.c)();if(Ce.addElement(we).fill("both").beforeRemoveClass("ion-page-invisible"),pe?Ce.duration(he.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ce.duration(he.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),re){const We=(0,a.c)();We.addElement(re),Ce.addAnimation(We)}if(de&&pe){Ce.duration(he.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const We=(0,a.c)();We.addElement((0,C.g)(de)).onFinish(ye=>{1===ye&&We.elements.length>0&&We.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ce.addAnimation(We)}return Ce}},5319:(rn,ht,F)=>{"use strict";F.d(ht,{A:()=>Ie,L:()=>Et,M:()=>qn,P:()=>J,T:()=>Sn,a:()=>jr,b:()=>ri,c:()=>Z,d:()=>Me,e:()=>gn,f:()=>gr,m:()=>qr,s:()=>Ti});var a=F(8239),C=F(7629),X=F(6897),He=F(2429),Te=F(8751),he=F(8380),fe=F(5613),Q=F(2850),pe=F(6807),ee=F(7360),de=F(224),we=F(9914),re=F(9081);const Ce=(U,W)=>{let ie,ge;const tt=(Wt,sn,$n)=>{if("undefined"==typeof document)return;const rr=document.elementFromPoint(Wt,sn);rr&&W(rr)?rr!==ie&&(Vt(),et(rr,$n)):Vt()},et=(Wt,sn)=>{ie=Wt,ge||(ge=ie);const $n=ie;(0,C.c)(()=>$n.classList.add("ion-activated")),sn()},Vt=(Wt=!1)=>{if(!ie)return;const sn=ie;(0,C.c)(()=>sn.classList.remove("ion-activated")),Wt&&ge!==ie&&ie.click(),ie=void 0};return(0,Te.createGesture)({el:U,gestureName:"buttonActiveDrag",threshold:0,onStart:Wt=>tt(Wt.currentX,Wt.currentY,He.a),onMove:Wt=>tt(Wt.currentX,Wt.currentY,He.b),onEnd:()=>{Vt(!0),(0,He.h)(),ge=void 0}})},We=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),ge=(0,Q.c)();return ie.addElement(U.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),ge.addElement(U.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),W.addElement(U).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([ie,ge])},ye=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),ge=(0,Q.c)();return ie.addElement(U.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),ge.addElement(U.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),W.addElement(U).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([ie,ge])},Ee=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),ge=(0,Q.c)();return ie.addElement(U.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),ge.addElement(U.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),W.addElement(U).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([ie,ge])},Be=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),ge=(0,Q.c)();return ie.addElement(U.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),ge.addElement(U.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),W.addElement(U).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([ie,ge])};let Ie=class{constructor(U){(0,C.r)(this,U),this.didPresent=(0,C.e)(this,"ionActionSheetDidPresent",7),this.willPresent=(0,C.e)(this,"ionActionSheetWillPresent",7),this.willDismiss=(0,C.e)(this,"ionActionSheetWillDismiss",7),this.didDismiss=(0,C.e)(this,"ionActionSheetDidDismiss",7),this.presented=!1,this.keyboardClose=!0,this.buttons=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.onBackdropTap=()=>{this.dismiss(void 0,$r)},this.dispatchCancelHandler=W=>{if(no(W.detail.role)){const ge=this.getButtons().find(tt=>"cancel"===tt.role);this.callButtonHandler(ge)}}}present(){return bi(this,"actionSheetEnter",We,Ee)}connectedCallback(){se(this.el)}dismiss(U,W){return Ui(this,U,W,"actionSheetLeave",ye,Be)}onDidDismiss(){return Di(this.el,"ionActionSheetDidDismiss")}onWillDismiss(){return Di(this.el,"ionActionSheetWillDismiss")}buttonClick(U){var W=this;return(0,a.Z)(function*(){const ie=U.role;return no(ie)?W.dismiss(U.data,ie):(yield W.callButtonHandler(U))?W.dismiss(U.data,U.role):Promise.resolve()})()}callButtonHandler(U){return(0,a.Z)(function*(){return!(U&&!1===(yield Ti(U.handler)))})()}getButtons(){return this.buttons.map(U=>"string"==typeof U?{text:U}:U)}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){const{groupEl:U,wrapperEl:W}=this;this.gesture||"md"===(0,X.b)(this)||!W||!U||(0,C.f)(()=>{U.scrollHeight>U.clientHeight||(this.gesture=Ce(W,ge=>ge.classList.contains("action-sheet-button")),this.gesture.enable(!0))})}render(){const{htmlAttributes:U}=this,W=(0,X.b)(this),ie=this.getButtons(),ge=ie.find(et=>"cancel"===et.role),tt=ie.filter(et=>"cancel"!==et.role);return(0,C.h)(C.H,Object.assign({role:"dialog","aria-modal":"true",tabindex:"-1"},U,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign(Object.assign({[W]:!0},(0,fe.g)(this.cssClass)),{"overlay-hidden":!0,"action-sheet-translucent":this.translucent}),onIonActionSheetWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),(0,C.h)("ion-backdrop",{tappable:this.backdropDismiss}),(0,C.h)("div",{tabindex:"0"}),(0,C.h)("div",{class:"action-sheet-wrapper ion-overlay-wrapper",role:"dialog",ref:et=>this.wrapperEl=et},(0,C.h)("div",{class:"action-sheet-container"},(0,C.h)("div",{class:"action-sheet-group",ref:et=>this.groupEl=et},void 0!==this.header&&(0,C.h)("div",{class:{"action-sheet-title":!0,"action-sheet-has-sub-title":void 0!==this.subHeader}},this.header,this.subHeader&&(0,C.h)("div",{class:"action-sheet-sub-title"},this.subHeader)),tt.map(et=>(0,C.h)("button",{type:"button",id:et.id,class:st(et),onClick:()=>this.buttonClick(et)},(0,C.h)("span",{class:"action-sheet-button-inner"},et.icon&&(0,C.h)("ion-icon",{icon:et.icon,lazy:!1,class:"action-sheet-icon"}),et.text),"md"===W&&(0,C.h)("ion-ripple-effect",null)))),ge&&(0,C.h)("div",{class:"action-sheet-group action-sheet-group-cancel"},(0,C.h)("button",{type:"button",class:st(ge),onClick:()=>this.buttonClick(ge)},(0,C.h)("span",{class:"action-sheet-button-inner"},ge.icon&&(0,C.h)("ion-icon",{icon:ge.icon,lazy:!1,class:"action-sheet-icon"}),ge.text),"md"===W&&(0,C.h)("ion-ripple-effect",null))))),(0,C.h)("div",{tabindex:"0"}))}get el(){return(0,C.i)(this)}};const st=U=>Object.assign({"action-sheet-button":!0,"ion-activatable":!0,"ion-focusable":!0,[`action-sheet-${U.role}`]:void 0!==U.role},(0,fe.g)(U.cssClass));Ie.style={ios:'.sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:var(--ion-safe-area-bottom, 0);-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-wrapper.sc-ion-action-sheet-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color, #fff));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-400, #999999);text-align:center}.action-sheet-container.sc-ion-action-sheet-ios{padding-left:8px;padding-right:8px;padding-top:0;padding-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-container.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{padding-left:10px;padding-right:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, #999999));font-size:13px;font-weight:400;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-title.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:13px;font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{padding-left:18px;padding-right:18px;padding-top:18px;padding-bottom:18px;height:56px;font-size:20px;contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:18px;padding-inline-start:18px;-webkit-padding-end:18px;padding-inline-end:18px}}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{margin-right:0.3em;font-size:28px;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{margin-right:unset;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #eb445a)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #eb445a)}}',md:'.sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:var(--ion-safe-area-bottom, 0);-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-wrapper.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, #262626);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-title.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:16px;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-title.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:14px}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:0}.action-sheet-button.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:0;position:relative;height:52px;font-size:16px;text-align:start;contain:strict;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-icon.sc-ion-action-sheet-md{padding-bottom:4px;margin-left:0;margin-right:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-icon.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px}}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}'};const lt=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),ge=(0,Q.c)();return ie.addElement(U.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),ge.addElement(U.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),W.addElement(U).easing("ease-in-out").duration(200).addAnimation([ie,ge])},Bt=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),ge=(0,Q.c)();return ie.addElement(U.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),ge.addElement(U.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),W.addElement(U).easing("ease-in-out").duration(200).addAnimation([ie,ge])},Je=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),ge=(0,Q.c)();return ie.addElement(U.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),ge.addElement(U.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),W.addElement(U).easing("ease-in-out").duration(150).addAnimation([ie,ge])},jt=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),ge=(0,Q.c)();return ie.addElement(U.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),ge.addElement(U.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),W.addElement(U).easing("ease-in-out").duration(150).addAnimation([ie,ge])};let Me=class{constructor(U){(0,C.r)(this,U),this.didPresent=(0,C.e)(this,"ionAlertDidPresent",7),this.willPresent=(0,C.e)(this,"ionAlertWillPresent",7),this.willDismiss=(0,C.e)(this,"ionAlertWillDismiss",7),this.didDismiss=(0,C.e)(this,"ionAlertDidDismiss",7),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.keyboardClose=!0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.onBackdropTap=()=>{this.dismiss(void 0,$r)},this.dispatchCancelHandler=W=>{if(no(W.detail.role)){const ge=this.processedButtons.find(tt=>"cancel"===tt.role);this.callButtonHandler(ge)}}}onKeydown(U){if(!new Set(this.processedInputs.map(Vt=>Vt.type)).has("radio")||U.target&&!this.el.contains(U.target)||U.target.classList.contains("alert-button"))return;const ie=this.el.querySelectorAll(".alert-radio"),ge=Array.from(ie).filter(Vt=>!Vt.disabled),tt=ge.findIndex(Vt=>Vt.id===U.target.id);let et;if(["ArrowDown","ArrowRight"].includes(U.code)&&(et=tt===ge.length-1?ge[0]:ge[tt+1]),["ArrowUp","ArrowLeft"].includes(U.code)&&(et=0===tt?ge[ge.length-1]:ge[tt-1]),et&&ge.includes(et)){const Vt=this.processedInputs.find(Wt=>Wt.id===(null==et?void 0:et.id));Vt&&(this.rbClick(Vt),et.focus())}}buttonsChanged(){this.processedButtons=this.buttons.map(W=>"string"==typeof W?{text:W,role:"cancel"===W.toLowerCase()?"cancel":void 0}:W)}inputsChanged(){const U=this.inputs,W=U.find(et=>!et.disabled),ge=U.find(et=>et.checked&&!et.disabled)||W,tt=new Set(U.map(et=>et.type));tt.has("checkbox")&&tt.has("radio")&&console.warn(`Alert cannot mix input types: ${Array.from(tt.values()).join("/")}. Please see alert docs for more info.`),this.inputType=tt.values().next().value,this.processedInputs=U.map((et,Vt)=>({type:et.type||"text",name:et.name||`${Vt}`,placeholder:et.placeholder||"",value:et.value,label:et.label,checked:!!et.checked,disabled:!!et.disabled,id:et.id||`alert-input-${this.overlayIndex}-${Vt}`,handler:et.handler,min:et.min,max:et.max,cssClass:et.cssClass||"",attributes:et.attributes||{},tabindex:"radio"===et.type&&et!==ge?-1:0}))}connectedCallback(){se(this.el)}componentWillLoad(){this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){this.gesture||"md"===(0,X.b)(this)||!this.wrapperEl||(this.gesture=Ce(this.wrapperEl,U=>U.classList.contains("alert-button")),this.gesture.enable(!0))}present(){return bi(this,"alertEnter",lt,Je)}dismiss(U,W){return Ui(this,U,W,"alertLeave",Bt,jt)}onDidDismiss(){return Di(this.el,"ionAlertDidDismiss")}onWillDismiss(){return Di(this.el,"ionAlertWillDismiss")}rbClick(U){for(const W of this.processedInputs)W.checked=W===U,W.tabindex=W===U?0:-1;this.activeId=U.id,Ti(U.handler,U),(0,C.j)(this)}cbClick(U){U.checked=!U.checked,Ti(U.handler,U),(0,C.j)(this)}buttonClick(U){const W=U.role,ie=this.getValues();if(no(W))return this.dismiss({values:ie},W);const ge=this.callButtonHandler(U,ie);return!1!==ge?this.dismiss(Object.assign({values:ie},ge),U.role):Promise.resolve(!1)}callButtonHandler(U,W){if(U&&U.handler){const ie=Ti(U.handler,W);if(!1===ie)return!1;if("object"==typeof ie)return ie}return{}}getValues(){if(0===this.processedInputs.length)return;if("radio"===this.inputType){const W=this.processedInputs.find(ie=>!!ie.checked);return W?W.value:void 0}if("checkbox"===this.inputType)return this.processedInputs.filter(W=>W.checked).map(W=>W.value);const U={};return this.processedInputs.forEach(W=>{U[W.name]=W.value||""}),U}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const U=this.processedInputs,W=(0,X.b)(this);return 0===U.length?null:(0,C.h)("div",{class:"alert-checkbox-group"},U.map(ie=>(0,C.h)("button",{type:"button",onClick:()=>this.cbClick(ie),"aria-checked":`${ie.checked}`,id:ie.id,disabled:ie.disabled,tabIndex:ie.tabindex,role:"checkbox",class:Object.assign(Object.assign({},(0,fe.g)(ie.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":ie.disabled||!1})},(0,C.h)("div",{class:"alert-button-inner"},(0,C.h)("div",{class:"alert-checkbox-icon"},(0,C.h)("div",{class:"alert-checkbox-inner"})),(0,C.h)("div",{class:"alert-checkbox-label"},ie.label)),"md"===W&&(0,C.h)("ion-ripple-effect",null))))}renderRadio(){const U=this.processedInputs;return 0===U.length?null:(0,C.h)("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},U.map(W=>(0,C.h)("button",{type:"button",onClick:()=>this.rbClick(W),"aria-checked":`${W.checked}`,disabled:W.disabled,id:W.id,tabIndex:W.tabindex,class:Object.assign(Object.assign({},(0,fe.g)(W.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":W.disabled||!1}),role:"radio"},(0,C.h)("div",{class:"alert-button-inner"},(0,C.h)("div",{class:"alert-radio-icon"},(0,C.h)("div",{class:"alert-radio-inner"})),(0,C.h)("div",{class:"alert-radio-label"},W.label)))))}renderInput(){const U=this.processedInputs;return 0===U.length?null:(0,C.h)("div",{class:"alert-input-group"},U.map(W=>{var ie,ge,tt,et;return(0,C.h)("div",{class:"alert-input-wrapper"},"textarea"===W.type?(0,C.h)("textarea",Object.assign({placeholder:W.placeholder,value:W.value,id:W.id,tabIndex:W.tabindex},W.attributes,{disabled:null!==(ge=null===(ie=W.attributes)||void 0===ie?void 0:ie.disabled)&&void 0!==ge?ge:W.disabled,class:Ue(W),onInput:Vt=>{var Wt;W.value=Vt.target.value,(null===(Wt=W.attributes)||void 0===Wt?void 0:Wt.onInput)&&W.attributes.onInput(Vt)}})):(0,C.h)("input",Object.assign({placeholder:W.placeholder,type:W.type,min:W.min,max:W.max,value:W.value,id:W.id,tabIndex:W.tabindex},W.attributes,{disabled:null!==(et=null===(tt=W.attributes)||void 0===tt?void 0:tt.disabled)&&void 0!==et?et:W.disabled,class:Ue(W),onInput:Vt=>{var Wt;W.value=Vt.target.value,(null===(Wt=W.attributes)||void 0===Wt?void 0:Wt.onInput)&&W.attributes.onInput(Vt)}})))}))}renderAlertButtons(){const U=this.processedButtons,W=(0,X.b)(this);return(0,C.h)("div",{class:{"alert-button-group":!0,"alert-button-group-vertical":U.length>2}},U.map(ge=>(0,C.h)("button",{type:"button",id:ge.id,class:ut(ge),tabIndex:0,onClick:()=>this.buttonClick(ge)},(0,C.h)("span",{class:"alert-button-inner"},ge.text),"md"===W&&(0,C.h)("ion-ripple-effect",null))))}render(){const{overlayIndex:U,header:W,subHeader:ie,htmlAttributes:ge}=this,tt=(0,X.b)(this),et=`alert-${U}-hdr`,Vt=`alert-${U}-sub-hdr`,Wt=`alert-${U}-msg`;return(0,C.h)(C.H,Object.assign({role:this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert","aria-modal":"true",tabindex:"-1"},ge,{style:{zIndex:`${2e4+U}`},class:Object.assign(Object.assign({},(0,fe.g)(this.cssClass)),{[tt]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),(0,C.h)("ion-backdrop",{tappable:this.backdropDismiss}),(0,C.h)("div",{tabindex:"0"}),(0,C.h)("div",{class:"alert-wrapper ion-overlay-wrapper",ref:$n=>this.wrapperEl=$n},(0,C.h)("div",{class:"alert-head"},W&&(0,C.h)("h2",{id:et,class:"alert-title"},W),ie&&(0,C.h)("h2",{id:Vt,class:"alert-sub-title"},ie)),(0,C.h)("div",{id:Wt,class:"alert-message",innerHTML:(0,he.s)(this.message)}),this.renderAlertInputs(),this.renderAlertButtons()),(0,C.h)("div",{tabindex:"0"}))}get el(){return(0,C.i)(this)}static get watchers(){return{buttons:["buttonsChanged"],inputs:["inputsChanged"]}}};const Ue=U=>{var W,ie,ge;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":(null!==(ie=null===(W=U.attributes)||void 0===W?void 0:W.disabled)&&void 0!==ie?ie:U.disabled)||!1},(0,fe.g)(U.cssClass)),(0,fe.g)(U.attributes?null===(ge=U.attributes.class)||void 0===ge?void 0:ge.toString():""))},ut=U=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,[`alert-button-role-${U.role}`]:void 0!==U.role},(0,fe.g)(U.cssClass));Me.style={ios:".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:14px}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{padding-left:16px;padding-right:16px;padding-top:12px;padding-bottom:7px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:17px;font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, #666666);font-size:14px}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:13px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:4px;margin-top:10px;padding-left:6px;padding-right:6px;padding-top:6px;padding-bottom:6px;border:0.55px solid var(--ion-color-step-250, #bfbfbf);background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-input.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px}}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{height:44px}.alert-radio-label.sc-ion-alert-ios{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #3880ff)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:7px;top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #3880ff)}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}.alert-checkbox-label.sc-ion-alert-ios{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-label.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;margin-left:16px;margin-right:6px;margin-top:10px;margin-bottom:10px;position:relative;width:24px;height:24px;border-width:1px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-icon.sc-ion-alert-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px}}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:9px;top:4px;position:absolute;width:5px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:1px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}.alert-button-group.sc-ion-alert-ios{margin-right:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-ion-alert-ios{margin-right:unset;-webkit-margin-end:-0.55px;margin-inline-end:-0.55px}}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:44px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #3880ff);font-size:17px;overflow:hidden}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child,[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #eb445a)}",md:".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:14px}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{padding-left:23px;padding-right:23px;padding-top:20px;padding-bottom:15px;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px}}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:20px;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:16px}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{padding-left:24px;padding-right:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, #737373)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.alert-message.sc-ion-alert-md{max-height:266px;font-size:16px}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #3880ff)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;max-height:266px;border-top:1px solid var(--ion-color-step-150, #d9d9d9);border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);overflow:auto}.alert-tappable.sc-ion-alert-md{position:relative;height:48px;overflow:hidden}.alert-radio-label.sc-ion-alert-md{padding-left:52px;padding-right:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px}}.alert-radio-icon.sc-ion-alert-md{left:26px;top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373)}[dir=rtl].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}.alert-radio-inner.sc-ion-alert-md{left:3px;top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #3880ff)}[dir=rtl].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, #262626)}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{padding-left:53px;padding-right:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-label.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px}}.alert-checkbox-icon.sc-ion-alert-md{left:26px;top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373);contain:strict}[dir=rtl].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:3px;top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[dir=rtl].sc-ion-alert-md [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}.alert-button-group.sc-ion-alert-md{padding-left:8px;padding-right:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.alert-button.sc-ion-alert-md{border-radius:2px;margin-left:0;margin-right:8px;margin-top:0;margin-bottom:0;padding-left:10px;padding-right:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #3880ff);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button.sc-ion-alert-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}"};const nt=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),ge=(0,Q.c)();return ie.addElement(U.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),ge.addElement(U.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),W.addElement(U).easing("ease-in-out").duration(200).addAnimation([ie,ge])},Ht=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),ge=(0,Q.c)();return ie.addElement(U.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),ge.addElement(U.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),W.addElement(U).easing("ease-in-out").duration(200).addAnimation([ie,ge])},tn=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),ge=(0,Q.c)();return ie.addElement(U.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),ge.addElement(U.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),W.addElement(U).easing("ease-in-out").duration(200).addAnimation([ie,ge])},Dt=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),ge=(0,Q.c)();return ie.addElement(U.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),ge.addElement(U.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),W.addElement(U).easing("ease-in-out").duration(200).addAnimation([ie,ge])};let Et=class{constructor(U){(0,C.r)(this,U),this.didPresent=(0,C.e)(this,"ionLoadingDidPresent",7),this.willPresent=(0,C.e)(this,"ionLoadingWillPresent",7),this.willDismiss=(0,C.e)(this,"ionLoadingWillDismiss",7),this.didDismiss=(0,C.e)(this,"ionLoadingDidDismiss",7),this.presented=!1,this.keyboardClose=!0,this.duration=0,this.backdropDismiss=!1,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.onBackdropTap=()=>{this.dismiss(void 0,$r)}}connectedCallback(){se(this.el)}componentWillLoad(){if(void 0===this.spinner){const U=(0,X.b)(this);this.spinner=X.c.get("loadingSpinner",X.c.get("spinner","ios"===U?"lines":"crescent"))}}present(){var U=this;return(0,a.Z)(function*(){yield bi(U,"loadingEnter",nt,tn,void 0),U.duration>0&&(U.durationTimeout=setTimeout(()=>U.dismiss(),U.duration+10))})()}dismiss(U,W){return this.durationTimeout&&clearTimeout(this.durationTimeout),Ui(this,U,W,"loadingLeave",Ht,Dt)}onDidDismiss(){return Di(this.el,"ionLoadingDidDismiss")}onWillDismiss(){return Di(this.el,"ionLoadingWillDismiss")}render(){const{message:U,spinner:W,htmlAttributes:ie}=this,ge=(0,X.b)(this);return(0,C.h)(C.H,Object.assign({tabindex:"-1"},ie,{style:{zIndex:`${4e4+this.overlayIndex}`},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},(0,fe.g)(this.cssClass)),{[ge]:!0,"overlay-hidden":!0,"loading-translucent":this.translucent})}),(0,C.h)("ion-backdrop",{visible:this.showBackdrop,tappable:this.backdropDismiss}),(0,C.h)("div",{tabindex:"0"}),(0,C.h)("div",{class:"loading-wrapper ion-overlay-wrapper",role:"dialog"},W&&(0,C.h)("div",{class:"loading-spinner"},(0,C.h)("ion-spinner",{name:W,"aria-hidden":"true"})),U&&(0,C.h)("div",{class:"loading-content",innerHTML:(0,he.s)(U)})),(0,C.h)("div",{tabindex:"0"}))}get el(){return(0,C.i)(this)}};Et.style={ios:".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}.spinner-lines.sc-ion-loading-ios,.spinner-lines-small.sc-ion-loading-ios,.spinner-bubbles.sc-ion-loading-ios,.spinner-circles.sc-ion-loading-ios,.spinner-crescent.sc-ion-loading-ios,.spinner-dots.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, #666666);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:14px}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;padding-left:34px;padding-right:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}",md:".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}.spinner-lines.sc-ion-loading-md,.spinner-lines-small.sc-ion-loading-md,.spinner-bubbles.sc-ion-loading-md,.spinner-circles.sc-ion-loading-md,.spinner-crescent.sc-ion-loading-md,.spinner-dots.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, #f2f2f2);--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #3880ff);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, #262626);font-size:14px}.loading-wrapper.sc-ion-loading-md{border-radius:2px;padding-left:24px;padding-right:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}"};const _n=(U,W)=>{const ie=1/(1-W);return U*ie+-W*ie},Ot=U=>{const{currentBreakpoint:W,backdropBreakpoint:ie}=U,tt=void 0===ie||ie<W?`calc(var(--backdrop-opacity) * ${W})`:"0",et=(0,Q.c)("backdropAnimation").fromTo("opacity",0,tt);return{wrapperAnimation:(0,Q.c)("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:`translateY(${100-100*W}%)`}]),backdropAnimation:et}},on=U=>{const{currentBreakpoint:W,backdropBreakpoint:ie}=U,ge=`calc(var(--backdrop-opacity) * ${_n(W,ie)})`,tt=[{offset:0,opacity:ge},{offset:1,opacity:0}],et=[{offset:0,opacity:ge},{offset:ie,opacity:0},{offset:1,opacity:0}],Vt=(0,Q.c)("backdropAnimation").keyframes(0!==ie?et:tt);return{wrapperAnimation:(0,Q.c)("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:`translateY(${100-100*W}%)`},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:Vt}},ar=(U,W)=>{const{presentingEl:ie,currentBreakpoint:ge}=W,tt=(0,ee.g)(U),{wrapperAnimation:et,backdropAnimation:Vt}=void 0!==ge?Ot(W):{backdropAnimation:(0,Q.c)().fromTo("opacity",.01,"var(--backdrop-opacity)"),wrapperAnimation:(0,Q.c)().fromTo("transform","translateY(100vh)","translateY(0vh)")};Vt.addElement(tt.querySelector("ion-backdrop")).beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),et.addElement(tt.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const Wt=(0,Q.c)("entering-base").addElement(U).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(et);if(ie){const sn=window.innerWidth<768,$n="ION-MODAL"===ie.tagName&&void 0!==ie.presentingElement,rr=(0,ee.g)(ie),Yn=(0,Q.c)().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),Re=document.body;if(sn){const Se=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",kt=`translateY(${$n?"-10px":Se}) scale(0.93)`;Yn.afterStyles({transform:kt}).beforeAddWrite(()=>Re.style.setProperty("background-color","black")).addElement(ie).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:kt,borderRadius:"10px 10px 0 0"}]),Wt.addAnimation(Yn)}else if(Wt.addAnimation(Vt),$n){const Oe=`translateY(-10px) scale(${$n?.93:1})`;Yn.afterStyles({transform:Oe}).addElement(rr.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:Oe}]);const gt=(0,Q.c)().afterStyles({transform:Oe}).addElement(rr.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:Oe}]);Wt.addAnimation([Yn,gt])}else et.fromTo("opacity","0","1")}else Wt.addAnimation(Vt);return Wt},Nn=(U,W,ie=500)=>{const{presentingEl:ge,currentBreakpoint:tt}=W,et=(0,ee.g)(U),{wrapperAnimation:Vt,backdropAnimation:Wt}=void 0!==tt?on(W):{backdropAnimation:(0,Q.c)().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:(0,Q.c)().fromTo("transform","translateY(0vh)","translateY(100vh)")};Wt.addElement(et.querySelector("ion-backdrop")),Vt.addElement(et.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const sn=(0,Q.c)("leaving-base").addElement(U).easing("cubic-bezier(0.32,0.72,0,1)").duration(ie).addAnimation(Vt);if(ge){const $n=window.innerWidth<768,rr="ION-MODAL"===ge.tagName&&void 0!==ge.presentingElement,Yn=(0,ee.g)(ge),Re=(0,Q.c)().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(Oe=>{1===Oe&&(ge.style.setProperty("overflow",""),Array.from(Se.querySelectorAll("ion-modal")).filter(kt=>void 0!==kt.presentingElement).length<=1&&Se.style.setProperty("background-color",""))}),Se=document.body;if($n){const Oe=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",Ut=`translateY(${rr?"-10px":Oe}) scale(0.93)`;Re.addElement(ge).keyframes([{offset:0,filter:"contrast(0.85)",transform:Ut,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),sn.addAnimation(Re)}else if(sn.addAnimation(Wt),rr){const gt=`translateY(-10px) scale(${rr?.93:1})`;Re.addElement(Yn.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:gt},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const kt=(0,Q.c)().addElement(Yn.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:gt},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);sn.addAnimation([Re,kt])}else Vt.fromTo("opacity","1","0")}else sn.addAnimation(Wt);return sn},Jn=(U,W)=>{const{currentBreakpoint:ie}=W,ge=(0,ee.g)(U),{wrapperAnimation:tt,backdropAnimation:et}=void 0!==ie?Ot(W):{backdropAnimation:(0,Q.c)().fromTo("opacity",.01,"var(--backdrop-opacity)"),wrapperAnimation:(0,Q.c)().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}])};return et.addElement(ge.querySelector("ion-backdrop")).beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),tt.addElement(ge.querySelector(".modal-wrapper")),(0,Q.c)().addElement(U).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([et,tt])},cr=(U,W)=>{const{currentBreakpoint:ie}=W,ge=(0,ee.g)(U),{wrapperAnimation:tt,backdropAnimation:et}=void 0!==ie?on(W):{backdropAnimation:(0,Q.c)().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:(0,Q.c)().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}])};return et.addElement(ge.querySelector("ion-backdrop")),tt.addElement(ge.querySelector(".modal-wrapper")),(0,Q.c)().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([et,tt])};let qn=class{constructor(U){(0,C.r)(this,U),this.didPresent=(0,C.e)(this,"ionModalDidPresent",7),this.willPresent=(0,C.e)(this,"ionModalWillPresent",7),this.willDismiss=(0,C.e)(this,"ionModalWillDismiss",7),this.didDismiss=(0,C.e)(this,"ionModalDidDismiss",7),this.didPresentShorthand=(0,C.e)(this,"didPresent",7),this.willPresentShorthand=(0,C.e)(this,"willPresent",7),this.willDismissShorthand=(0,C.e)(this,"willDismiss",7),this.didDismissShorthand=(0,C.e)(this,"didDismiss",7),this.modalIndex=Rn++,this.coreDelegate=(0,pe.C)(),this.isSheetModal=!1,this.inline=!1,this.gestureAnimationDismissing=!1,this.presented=!1,this.hasController=!1,this.keyboardClose=!0,this.backdropBreakpoint=0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.swipeToClose=!1,this.isOpen=!1,this.configureTriggerInteraction=()=>{const{trigger:W,el:ie,destroyTriggerInteraction:ge}=this;ge&&ge();const tt=void 0!==W?document.getElementById(W):null;tt&&(this.destroyTriggerInteraction=((Vt,Wt)=>{const sn=()=>{Wt.present()};return Vt.addEventListener("click",sn),()=>{Vt.removeEventListener("click",sn)}})(tt,ie))},this.onBackdropTap=()=>{this.dismiss(void 0,$r)},this.onDismiss=W=>{W.stopPropagation(),W.preventDefault(),this.dismiss()},this.onLifecycle=W=>{const ie=this.usersElement,ge=Ur[W.type];if(ie&&ge){const tt=new CustomEvent(ge,{bubbles:!1,cancelable:!1,detail:W.detail});ie.dispatchEvent(tt)}}}onIsOpenChange(U,W){!0===U&&!1===W?this.present():!1===U&&!0===W&&this.dismiss()}onTriggerChange(){this.configureTriggerInteraction()}swipeToCloseChanged(U){this.gesture?this.gesture.enable(U):U&&this.initSwipeToClose()}connectedCallback(){se(this.el)}componentWillLoad(){const{breakpoints:U,initialBreakpoint:W}=this;this.modalId=this.el.hasAttribute("id")?this.el.getAttribute("id"):`ion-modal-${this.modalIndex}`,this.isSheetModal=void 0!==U&&void 0!==W,void 0!==U&&void 0!==W&&!U.includes(W)&&console.warn("[Ionic Warning]: Your breakpoints array must include the initialBreakpoint value.")}componentDidLoad(){!0===this.isOpen&&(0,ee.r)(()=>this.present()),this.configureTriggerInteraction()}getDelegate(U=!1){if(this.workingDelegate&&!U)return{delegate:this.workingDelegate,inline:this.inline};const ie=this.inline=null!==this.el.parentNode&&!this.hasController;return{inline:ie,delegate:this.workingDelegate=ie?this.delegate||this.coreDelegate:this.delegate}}present(){var U=this;return(0,a.Z)(function*(){if(U.presented)return;void 0!==U.currentTransition&&(yield U.currentTransition);const W=Object.assign(Object.assign({},U.componentProps),{modal:U.el}),{inline:ie,delegate:ge}=U.getDelegate(!0);U.usersElement=yield(0,pe.a)(ge,U.el,U.component,["ion-page"],W,ie),yield(0,de.e)(U.usersElement),(0,C.c)(()=>U.el.classList.add("show-modal")),U.currentTransition=bi(U,"modalEnter",ar,Jn,{presentingEl:U.presentingElement,currentBreakpoint:U.initialBreakpoint,backdropBreakpoint:U.backdropBreakpoint}),yield U.currentTransition,U.isSheetModal?U.initSheetGesture():U.swipeToClose&&U.initSwipeToClose(),U.currentTransition=void 0})()}initSwipeToClose(){var U=this;if("ios"!==(0,X.b)(this))return;const W=this.leaveAnimation||X.c.get("modalLeave",Nn),ie=this.animation=W(this.el,{presentingEl:this.presentingElement});this.gesture=((U,W,ie)=>{const ge=U.offsetHeight;let tt=!1;const $n=(0,Te.createGesture)({el:U,gestureName:"modalSwipeToClose",gesturePriority:40,direction:"y",threshold:10,canStart:rr=>{const Yn=rr.event.target;return null===Yn||!Yn.closest||null===Yn.closest("ion-content, ion-footer")},onStart:()=>{W.progressStart(!0,tt?1:0)},onMove:rr=>{const Yn=(0,ee.d)(1e-4,rr.deltaY/ge,.9999);W.progressStep(Yn)},onEnd:rr=>{const Yn=rr.velocityY,Re=(0,ee.d)(1e-4,rr.deltaY/ge,.9999),Oe=(rr.deltaY+1e3*Yn)/ge>=.5;let gt=Oe?-.001:.001;Oe?(W.easing("cubic-bezier(0.32, 0.72, 0, 1)"),gt+=(0,we.g)([0,0],[.32,.72],[0,1],[1,1],Re)[0]):(W.easing("cubic-bezier(1, 0, 0.68, 0.28)"),gt+=(0,we.g)([0,0],[1,0],[.68,.28],[1,1],Re)[0]);const kt=((U,W)=>(0,ee.d)(400,U/Math.abs(1.1*W),500))(Oe?Re*ge:(1-Re)*ge,Yn);tt=Oe,$n.enable(!1),W.onFinish(()=>{Oe||$n.enable(!0)}).progressEnd(Oe?1:0,gt,kt),Oe&&ie()}});return $n})(this.el,ie,()=>{this.gestureAnimationDismissing=!0,this.animation.onFinish((0,a.Z)(function*(){yield U.dismiss(void 0,"gesture"),U.gestureAnimationDismissing=!1}))}),this.gesture.enable(!0)}initSheetGesture(){var W,U=this;const{wrapperEl:ie,initialBreakpoint:ge,backdropBreakpoint:tt}=this;if(!ie||void 0===ge)return;const et=this.enterAnimation||X.c.get("modalEnter",ar),Vt=this.animation=et(this.el,{presentingEl:this.presentingElement,currentBreakpoint:ge,backdropBreakpoint:tt});Vt.progressStart(!0,1);const Wt=(null===(W=this.breakpoints)||void 0===W?void 0:W.sort((sn,$n)=>sn-$n))||[];this.gesture=((U,W,ie,ge,tt,et,Vt=[],Wt,sn)=>{const Yn={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:0!==tt?[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-tt,opacity:0},{offset:1,opacity:0}]:[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}]},Re=this.el.querySelector("ion-content"),Se=ie.clientHeight;let Oe=ge,gt=0;const kt=et.childAnimations.find(Vr=>"wrapperAnimation"===Vr.id),Ut=et.childAnimations.find(Vr=>"backdropAnimation"===Vr.id),an=Vt[Vt.length-1];kt&&Ut&&(kt.keyframes([...Yn.WRAPPER_KEYFRAMES]),Ut.keyframes([...Yn.BACKDROP_KEYFRAMES]),et.progressStart(!0,1-Oe),W.style.setProperty("pointer-events",Oe>tt?"auto":"none")),Re&&Oe!==an&&(Re.scrollY=!1);const Mr=(0,Te.createGesture)({el:ie,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:Vr=>{const Hr=Vr.event.target.closest("ion-content");return!(1===Oe&&Hr)},onStart:()=>{Re&&(Re.scrollY=!1),et.progressStart(!0,1-Oe)},onMove:Vr=>{gt=(0,ee.d)(1e-4,1-Oe+Vr.deltaY/Se,.9999),et.progressStep(gt)},onEnd:Vr=>{const Si=Oe-(Vr.deltaY+100*Vr.velocityY)/Se,V=Vt.reduce(($,ve)=>Math.abs(ve-Si)<Math.abs($-Si)?ve:$),ae=0!==V;Oe=0,kt&&Ut&&(kt.keyframes([{offset:0,transform:`translateY(${100*gt}%)`},{offset:1,transform:`translateY(${100*(1-V)}%)`}]),Ut.keyframes([{offset:0,opacity:`calc(var(--backdrop-opacity) * ${_n(1-gt,tt)})`},{offset:1,opacity:`calc(var(--backdrop-opacity) * ${_n(V,tt)})`}]),et.progressStep(0)),Mr.enable(!1),et.onFinish(()=>{ae&&(kt&&Ut?(0,ee.r)(()=>{kt.keyframes([...Yn.WRAPPER_KEYFRAMES]),Ut.keyframes([...Yn.BACKDROP_KEYFRAMES]),et.progressStart(!0,1-V),Oe=V,sn(Oe),Re&&Oe===Vt[Vt.length-1]&&(Re.scrollY=!0),W.style.setProperty("pointer-events",Oe>tt?"auto":"none"),Mr.enable(!0)}):Mr.enable(!0))},{oneTimeCallback:!0}).progressEnd(1,0,500),ae||Wt()}});return Mr})(0,this.backdropEl,ie,ge,tt,Vt,Wt,()=>{this.gestureAnimationDismissing=!0,this.animation.onFinish((0,a.Z)(function*(){yield U.dismiss(void 0,"gesture"),U.gestureAnimationDismissing=!1}))},sn=>{this.currentBreakpoint=sn}),this.gesture.enable(!0)}dismiss(U,W){var ie=this;return(0,a.Z)(function*(){if(ie.gestureAnimationDismissing&&"gesture"!==W)return!1;void 0!==ie.currentTransition&&(yield ie.currentTransition);const ge=Ei.get(ie)||[];ie.currentTransition=Ui(ie,U,W,"modalLeave",Nn,cr,{presentingEl:ie.presentingElement,currentBreakpoint:ie.currentBreakpoint||ie.initialBreakpoint,backdropBreakpoint:ie.backdropBreakpoint});const tt=yield ie.currentTransition;if(tt){const{delegate:et}=ie.getDelegate();ie.inline&&(yield(0,pe.d)(et,ie.usersElement)),ie.animation&&ie.animation.destroy(),ie.gesture&&ie.gesture.destroy(),ge.forEach(Vt=>Vt.destroy())}return ie.currentTransition=void 0,ie.animation=void 0,tt})()}onDidDismiss(){return Di(this.el,"ionModalDidDismiss")}onWillDismiss(){return Di(this.el,"ionModalWillDismiss")}render(){const{handle:U,isSheetModal:W,presentingElement:ie,htmlAttributes:ge}=this,tt=!1!==U&&W,et=(0,X.b)(this),{presented:Vt,modalId:Wt}=this,sn=void 0!==ie&&"ios"===et;return(0,C.h)(C.H,Object.assign({"no-router":!0,"aria-modal":"true",tabindex:"-1"},ge,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[et]:!0,"modal-default":!sn&&!W,"modal-card":sn,"modal-sheet":W,"overlay-hidden":!0,"modal-interactive":Vt},(0,fe.g)(this.cssClass)),id:Wt,onIonBackdropTap:this.onBackdropTap,onIonDismiss:this.onDismiss,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),(0,C.h)("ion-backdrop",{ref:$n=>this.backdropEl=$n,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),"ios"===et&&(0,C.h)("div",{class:"modal-shadow"}),(0,C.h)("div",{role:"dialog",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:$n=>this.wrapperEl=$n},tt&&(0,C.h)("div",{class:"modal-handle",part:"handle"}),(0,C.h)("slot",null)))}get el(){return(0,C.i)(this)}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["onTriggerChange"],swipeToClose:["swipeToCloseChanged"]}}};const Ur={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};let Rn=0;qn.style={ios:":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict;pointer-events:none}:host(.modal-interactive) .modal-wrapper,:host(.modal-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);background:var(--ion-color-step-350, #c0c0be);z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-card) .modal-wrapper,:host-context([dir=rtl]).modal-card .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-sheet) .modal-wrapper,:host-context([dir=rtl]).modal-sheet .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}",md:":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict;pointer-events:none}:host(.modal-interactive) .modal-wrapper,:host(.modal-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);background:var(--ion-color-step-350, #c0c0be);z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}"};let gr=class{constructor(U){(0,C.r)(this,U),this.ionPickerColChange=(0,C.e)(this,"ionPickerColChange",7),this.optHeight=0,this.rotateFactor=0,this.scaleFactor=1,this.velocity=0,this.y=0,this.noAnimate=!0}colChanged(){this.refresh()}connectedCallback(){var U=this;return(0,a.Z)(function*(){let W=0,ie=.81;"ios"===(0,X.b)(U)&&(W=-.46,ie=1),U.rotateFactor=W,U.scaleFactor=ie,U.gesture=(yield Promise.resolve().then(F.bind(F,8751))).createGesture({el:U.el,gestureName:"picker-swipe",gesturePriority:100,threshold:0,passive:!1,onStart:tt=>U.onStart(tt),onMove:tt=>U.onMove(tt),onEnd:tt=>U.onEnd(tt)}),U.gesture.enable(),U.tmrId=setTimeout(()=>{U.noAnimate=!1,U.refresh(!0)},250)})()}componentDidLoad(){const U=this.optsEl;U&&(this.optHeight=U.firstElementChild?U.firstElementChild.clientHeight:0),this.refresh()}disconnectedCallback(){cancelAnimationFrame(this.rafId),clearTimeout(this.tmrId),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}emitColChange(){this.ionPickerColChange.emit(this.col)}setSelected(U,W){const ie=U>-1?-U*this.optHeight:0;this.velocity=0,cancelAnimationFrame(this.rafId),this.update(ie,W,!0),this.emitColChange()}update(U,W,ie){if(!this.optsEl)return;let ge=0,tt=0;const{col:et,rotateFactor:Vt}=this,Wt=et.selectedIndex=this.indexForY(-U),sn=0===W?"":W+"ms",$n=`scale(${this.scaleFactor})`,rr=this.optsEl.children;for(let Yn=0;Yn<rr.length;Yn++){const Re=rr[Yn],Se=et.options[Yn],Oe=Yn*this.optHeight+U;let gt="";if(0!==Vt){const Ut=Oe*Vt;Math.abs(Ut)<=90?(ge=0,tt=90,gt=`rotateX(${Ut}deg) `):ge=-9999}else tt=0,ge=Oe;const kt=Wt===Yn;gt+=`translate3d(0px,${ge}px,${tt}px) `,1!==this.scaleFactor&&!kt&&(gt+=$n),this.noAnimate?(Se.duration=0,Re.style.transitionDuration=""):W!==Se.duration&&(Se.duration=W,Re.style.transitionDuration=sn),gt!==Se.transform&&(Se.transform=gt,Re.style.transform=gt),kt!==Se.selected&&(Se.selected=kt,kt?Re.classList.add(Mt):Re.classList.remove(Mt))}this.col.prevSelected=Wt,ie&&(this.y=U),this.lastIndex!==Wt&&((0,He.b)(),this.lastIndex=Wt)}decelerate(){if(0!==this.velocity){this.velocity*=Hn,this.velocity=this.velocity>0?Math.max(this.velocity,1):Math.min(this.velocity,-1);let U=this.y+this.velocity;U>this.minY?(U=this.minY,this.velocity=0):U<this.maxY&&(U=this.maxY,this.velocity=0),this.update(U,0,!0),Math.round(U)%this.optHeight!=0||Math.abs(this.velocity)>1?this.rafId=requestAnimationFrame(()=>this.decelerate()):(this.velocity=0,this.emitColChange(),(0,He.h)())}else if(this.y%this.optHeight!=0){const U=Math.abs(this.y%this.optHeight);this.velocity=U>this.optHeight/2?1:-1,this.decelerate()}}indexForY(U){return Math.min(Math.max(Math.abs(Math.round(U/this.optHeight)),0),this.col.options.length-1)}onStart(U){U.event.cancelable&&U.event.preventDefault(),U.event.stopPropagation(),(0,He.a)(),cancelAnimationFrame(this.rafId);const W=this.col.options;let ie=W.length-1,ge=0;for(let tt=0;tt<W.length;tt++)W[tt].disabled||(ie=Math.min(ie,tt),ge=Math.max(ge,tt));this.minY=-ie*this.optHeight,this.maxY=-ge*this.optHeight}onMove(U){U.event.cancelable&&U.event.preventDefault(),U.event.stopPropagation();let W=this.y+U.deltaY;W>this.minY?(W=Math.pow(W,.8),this.bounceFrom=W):W<this.maxY?(W+=Math.pow(this.maxY-W,.9),this.bounceFrom=W):this.bounceFrom=0,this.update(W,0,!1)}onEnd(U){if(this.bounceFrom>0)return this.update(this.minY,100,!0),void this.emitColChange();if(this.bounceFrom<0)return this.update(this.maxY,100,!0),void this.emitColChange();if(this.velocity=(0,ee.d)(-Cn,23*U.velocityY,Cn),0===this.velocity&&0===U.deltaY){const W=U.event.target.closest(".picker-opt");W&&W.hasAttribute("opt-index")&&this.setSelected(parseInt(W.getAttribute("opt-index"),10),yn)}else{if(this.y+=U.deltaY,Math.abs(U.velocityY)<.05){const W=U.deltaY>0,ie=Math.abs(this.y)%this.optHeight/this.optHeight;W&&ie>.5?this.velocity=-1*Math.abs(this.velocity):!W&&ie<=.5&&(this.velocity=Math.abs(this.velocity))}this.decelerate()}}refresh(U){let W=this.col.options.length-1,ie=0;const ge=this.col.options;for(let et=0;et<ge.length;et++)ge[et].disabled||(W=Math.min(W,et),ie=Math.max(ie,et));if(0!==this.velocity)return;const tt=(0,ee.d)(W,this.col.selectedIndex||0,ie);if(this.col.prevSelected!==tt||U){const et=tt*this.optHeight*-1;this.velocity=0,this.update(et,yn,!0)}}render(){const U=this.col,ie=(0,X.b)(this);return(0,C.h)(C.H,{class:{[ie]:!0,"picker-col":!0,"picker-opts-left":"left"===this.col.align,"picker-opts-right":"right"===this.col.align},style:{"max-width":this.col.columnWidth}},U.prefix&&(0,C.h)("div",{class:"picker-prefix",style:{width:U.prefixWidth}},U.prefix),(0,C.h)("div",{class:"picker-opts",style:{maxWidth:U.optionsWidth},ref:ge=>this.optsEl=ge},U.options.map((ge,tt)=>(0,C.h)("button",{type:"button",class:{"picker-opt":!0,"picker-opt-disabled":!!ge.disabled},"opt-index":tt},ge.text))),U.suffix&&(0,C.h)("div",{class:"picker-suffix",style:{width:U.suffixWidth}},U.suffix))}get el(){return(0,C.i)(this)}static get watchers(){return{col:["colChanged"]}}};const Mt="picker-opt-selected",Hn=.97,Cn=90,yn=150;gr.style={ios:".picker-col{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-box-sizing:content-box;box-sizing:content-box;contain:content}.picker-opts{position:relative;-ms-flex:1;flex:1;max-width:100%}.picker-opt{left:0;top:0;display:block;position:absolute;width:100%;border:0;text-align:center;text-overflow:ellipsis;white-space:nowrap;contain:strict;overflow:hidden;will-change:transform}[dir=rtl] .picker-opt,:host-context([dir=rtl]) .picker-opt{left:unset;right:unset;right:0}.picker-opt.picker-opt-disabled{pointer-events:none}.picker-opt-disabled{opacity:0}.picker-opts-left{-ms-flex-pack:start;justify-content:flex-start}.picker-opts-right{-ms-flex-pack:end;justify-content:flex-end}.picker-opt:active,.picker-opt:focus{outline:none}.picker-prefix{position:relative;-ms-flex:1;flex:1;text-align:end;white-space:nowrap}.picker-suffix{position:relative;-ms-flex:1;flex:1;text-align:start;white-space:nowrap}.picker-col{padding-left:4px;padding-right:4px;padding-top:0;padding-bottom:0;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-col{padding-left:unset;padding-right:unset;-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px}}.picker-prefix,.picker-suffix,.picker-opts{top:77px;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;color:inherit;font-size:20px;line-height:42px;pointer-events:none}.picker-opt{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:center center;transform-origin:center center;height:46px;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;background:transparent;color:inherit;font-size:20px;line-height:42px;-webkit-backface-visibility:hidden;backface-visibility:hidden;pointer-events:auto}[dir=rtl] .picker-opt,:host-context([dir=rtl]) .picker-opt{-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}",md:".picker-col{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-box-sizing:content-box;box-sizing:content-box;contain:content}.picker-opts{position:relative;-ms-flex:1;flex:1;max-width:100%}.picker-opt{left:0;top:0;display:block;position:absolute;width:100%;border:0;text-align:center;text-overflow:ellipsis;white-space:nowrap;contain:strict;overflow:hidden;will-change:transform}[dir=rtl] .picker-opt,:host-context([dir=rtl]) .picker-opt{left:unset;right:unset;right:0}.picker-opt.picker-opt-disabled{pointer-events:none}.picker-opt-disabled{opacity:0}.picker-opts-left{-ms-flex-pack:start;justify-content:flex-start}.picker-opts-right{-ms-flex-pack:end;justify-content:flex-end}.picker-opt:active,.picker-opt:focus{outline:none}.picker-prefix{position:relative;-ms-flex:1;flex:1;text-align:end;white-space:nowrap}.picker-suffix{position:relative;-ms-flex:1;flex:1;text-align:start;white-space:nowrap}.picker-col{padding-left:8px;padding-right:8px;padding-top:0;padding-bottom:0;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-col{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.picker-prefix,.picker-suffix,.picker-opts{top:77px;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;color:inherit;font-size:22px;line-height:42px;pointer-events:none}.picker-opt{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;height:43px;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;background:transparent;color:inherit;font-size:22px;line-height:42px;-webkit-backface-visibility:hidden;backface-visibility:hidden;pointer-events:auto}.picker-prefix,.picker-suffix,.picker-opt.picker-opt-selected{color:var(--ion-color-primary, #3880ff)}"};const Er=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),ge=(0,Q.c)();return ie.addElement(U.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),ge.addElement(U.querySelector(".picker-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),W.addElement(U).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([ie,ge])},ai=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),ge=(0,Q.c)();return ie.addElement(U.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",.01),ge.addElement(U.querySelector(".picker-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),W.addElement(U).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([ie,ge])};let gn=class{constructor(U){(0,C.r)(this,U),this.didPresent=(0,C.e)(this,"ionPickerDidPresent",7),this.willPresent=(0,C.e)(this,"ionPickerWillPresent",7),this.willDismiss=(0,C.e)(this,"ionPickerWillDismiss",7),this.didDismiss=(0,C.e)(this,"ionPickerDidDismiss",7),this.presented=!1,this.keyboardClose=!0,this.buttons=[],this.columns=[],this.duration=0,this.showBackdrop=!0,this.backdropDismiss=!0,this.animated=!0,this.onBackdropTap=()=>{this.dismiss(void 0,$r)},this.dispatchCancelHandler=W=>{if(no(W.detail.role)){const ge=this.buttons.find(tt=>"cancel"===tt.role);this.callButtonHandler(ge)}}}connectedCallback(){se(this.el)}present(){var U=this;return(0,a.Z)(function*(){yield bi(U,"pickerEnter",Er,Er,void 0),U.duration>0&&(U.durationTimeout=setTimeout(()=>U.dismiss(),U.duration))})()}dismiss(U,W){return this.durationTimeout&&clearTimeout(this.durationTimeout),Ui(this,U,W,"pickerLeave",ai,ai)}onDidDismiss(){return Di(this.el,"ionPickerDidDismiss")}onWillDismiss(){return Di(this.el,"ionPickerWillDismiss")}getColumn(U){return Promise.resolve(this.columns.find(W=>W.name===U))}buttonClick(U){var W=this;return(0,a.Z)(function*(){const ie=U.role;return no(ie)?W.dismiss(void 0,ie):(yield W.callButtonHandler(U))?W.dismiss(W.getSelected(),U.role):Promise.resolve()})()}callButtonHandler(U){var W=this;return(0,a.Z)(function*(){return!(U&&!1===(yield Ti(U.handler,W.getSelected())))})()}getSelected(){const U={};return this.columns.forEach((W,ie)=>{const ge=void 0!==W.selectedIndex?W.options[W.selectedIndex]:void 0;U[W.name]={text:ge?ge.text:void 0,value:ge?ge.value:void 0,columnIndex:ie}}),U}render(){const{htmlAttributes:U}=this,W=(0,X.b)(this);return(0,C.h)(C.H,Object.assign({"aria-modal":"true",tabindex:"-1"},U,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[W]:!0,[`picker-${W}`]:!0,"overlay-hidden":!0},(0,fe.g)(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonPickerWillDismiss:this.dispatchCancelHandler}),(0,C.h)("ion-backdrop",{visible:this.showBackdrop,tappable:this.backdropDismiss}),(0,C.h)("div",{tabindex:"0"}),(0,C.h)("div",{class:"picker-wrapper ion-overlay-wrapper",role:"dialog"},(0,C.h)("div",{class:"picker-toolbar"},this.buttons.map(ie=>(0,C.h)("div",{class:ti(ie)},(0,C.h)("button",{type:"button",onClick:()=>this.buttonClick(ie),class:Ke(ie)},ie.text)))),(0,C.h)("div",{class:"picker-columns"},(0,C.h)("div",{class:"picker-above-highlight"}),this.presented&&this.columns.map(ie=>(0,C.h)("ion-picker-column",{col:ie})),(0,C.h)("div",{class:"picker-below-highlight"}))),(0,C.h)("div",{tabindex:"0"}))}get el(){return(0,C.i)(this)}};const ti=U=>({[`picker-toolbar-${U.role}`]:void 0!==U.role,"picker-toolbar-button":!0}),Ke=U=>Object.assign({"picker-button":!0,"ion-activatable":!0},(0,fe.g)(U.cssClass));gn.style={ios:".sc-ion-picker-ios-h{--border-radius:0;--border-style:solid;--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--max-height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}[dir=rtl].sc-ion-picker-ios-h,[dir=rtl] .sc-ion-picker-ios-h{left:unset;right:unset;right:0}.overlay-hidden.sc-ion-picker-ios-h{display:none}.picker-wrapper.sc-ion-picker-ios{border-radius:var(--border-radius);left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;overflow:hidden;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-wrapper.sc-ion-picker-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.picker-toolbar.sc-ion-picker-ios{width:100%;background:transparent;contain:strict;z-index:1}.picker-button.sc-ion-picker-ios{border:0;font-family:inherit}.picker-button.sc-ion-picker-ios:active,.picker-button.sc-ion-picker-ios:focus{outline:none}.picker-columns.sc-ion-picker-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;margin-bottom:var(--ion-safe-area-bottom, 0);contain:strict;direction:ltr;overflow:hidden}.picker-above-highlight.sc-ion-picker-ios,.picker-below-highlight.sc-ion-picker-ios{display:none;pointer-events:none}.sc-ion-picker-ios-h{--background:var(--ion-background-color, #fff);--border-width:1px 0 0;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--height:260px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.26);color:var(--ion-item-color, var(--ion-text-color, #000))}.picker-toolbar.sc-ion-picker-ios{display:-ms-flexbox;display:flex;height:44px;border-bottom:0.55px solid var(--border-color)}.picker-toolbar-button.sc-ion-picker-ios{-ms-flex:1;flex:1;text-align:end}.picker-toolbar-button.sc-ion-picker-ios:last-child .picker-button.sc-ion-picker-ios{font-weight:600}.picker-toolbar-button.sc-ion-picker-ios:first-child{font-weight:normal;text-align:start}.picker-button.sc-ion-picker-ios,.picker-button.ion-activated.sc-ion-picker-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:1em;padding-right:1em;padding-top:0;padding-bottom:0;height:44px;background:transparent;color:var(--ion-color-primary, #3880ff);font-size:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-button.sc-ion-picker-ios,.picker-button.ion-activated.sc-ion-picker-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:1em;padding-inline-start:1em;-webkit-padding-end:1em;padding-inline-end:1em}}.picker-columns.sc-ion-picker-ios{height:215px;-webkit-perspective:1000px;perspective:1000px}.picker-above-highlight.sc-ion-picker-ios{left:0;top:0;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);display:block;position:absolute;width:100%;height:81px;border-bottom:1px solid var(--border-color);background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, var(--background, var(--ion-background-color, #fff))), to(rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8)));background:linear-gradient(to bottom, var(--background, var(--ion-background-color, #fff)) 20%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%);z-index:10}[dir=rtl].sc-ion-picker-ios .picker-above-highlight.sc-ion-picker-ios,[dir=rtl].sc-ion-picker-ios-h .picker-above-highlight.sc-ion-picker-ios,[dir=rtl] .sc-ion-picker-ios-h .picker-above-highlight.sc-ion-picker-ios{left:unset;right:unset;right:0}.picker-below-highlight.sc-ion-picker-ios{left:0;top:115px;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);display:block;position:absolute;width:100%;height:119px;border-top:1px solid var(--border-color);background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, var(--background, var(--ion-background-color, #fff))), to(rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8)));background:linear-gradient(to top, var(--background, var(--ion-background-color, #fff)) 30%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%);z-index:11}[dir=rtl].sc-ion-picker-ios .picker-below-highlight.sc-ion-picker-ios,[dir=rtl].sc-ion-picker-ios-h .picker-below-highlight.sc-ion-picker-ios,[dir=rtl] .sc-ion-picker-ios-h .picker-below-highlight.sc-ion-picker-ios{left:unset;right:unset;right:0}",md:".sc-ion-picker-md-h{--border-radius:0;--border-style:solid;--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--max-height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}[dir=rtl].sc-ion-picker-md-h,[dir=rtl] .sc-ion-picker-md-h{left:unset;right:unset;right:0}.overlay-hidden.sc-ion-picker-md-h{display:none}.picker-wrapper.sc-ion-picker-md{border-radius:var(--border-radius);left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;overflow:hidden;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-wrapper.sc-ion-picker-md{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.picker-toolbar.sc-ion-picker-md{width:100%;background:transparent;contain:strict;z-index:1}.picker-button.sc-ion-picker-md{border:0;font-family:inherit}.picker-button.sc-ion-picker-md:active,.picker-button.sc-ion-picker-md:focus{outline:none}.picker-columns.sc-ion-picker-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;margin-bottom:var(--ion-safe-area-bottom, 0);contain:strict;direction:ltr;overflow:hidden}.picker-above-highlight.sc-ion-picker-md,.picker-below-highlight.sc-ion-picker-md{display:none;pointer-events:none}.sc-ion-picker-md-h{--background:var(--ion-background-color, #fff);--border-width:0.55px 0 0;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--height:260px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.26);color:var(--ion-item-color, var(--ion-text-color, #000))}.picker-toolbar.sc-ion-picker-md{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;height:44px}.picker-button.sc-ion-picker-md,.picker-button.ion-activated.sc-ion-picker-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:1.1em;padding-right:1.1em;padding-top:0;padding-bottom:0;height:44px;background:transparent;color:var(--ion-color-primary, #3880ff);font-size:14px;font-weight:500;text-transform:uppercase;-webkit-box-shadow:none;box-shadow:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-button.sc-ion-picker-md,.picker-button.ion-activated.sc-ion-picker-md{padding-left:unset;padding-right:unset;-webkit-padding-start:1.1em;padding-inline-start:1.1em;-webkit-padding-end:1.1em;padding-inline-end:1.1em}}.picker-columns.sc-ion-picker-md{height:216px;-webkit-perspective:1800px;perspective:1800px}.picker-above-highlight.sc-ion-picker-md{left:0;top:0;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);position:absolute;width:100%;height:81px;border-bottom:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, var(--ion-background-color, #fff)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background:linear-gradient(to bottom, var(--ion-background-color, #fff) 20%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%);z-index:10}[dir=rtl].sc-ion-picker-md .picker-above-highlight.sc-ion-picker-md,[dir=rtl].sc-ion-picker-md-h .picker-above-highlight.sc-ion-picker-md,[dir=rtl] .sc-ion-picker-md-h .picker-above-highlight.sc-ion-picker-md{left:unset;right:unset;right:0}.picker-below-highlight.sc-ion-picker-md{left:0;top:115px;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);position:absolute;width:100%;height:119px;border-top:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, var(--ion-background-color, #fff)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background:linear-gradient(to top, var(--ion-background-color, #fff) 30%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%);z-index:11}[dir=rtl].sc-ion-picker-md .picker-below-highlight.sc-ion-picker-md,[dir=rtl].sc-ion-picker-md-h .picker-below-highlight.sc-ion-picker-md,[dir=rtl] .sc-ion-picker-md-h .picker-below-highlight.sc-ion-picker-md{left:unset;right:unset;right:0}"};const je=(U,W,ie)=>{const ge=W.getBoundingClientRect(),tt=ge.height;let et=ge.width;return"cover"===U&&ie&&(et=ie.getBoundingClientRect().width),{contentWidth:et,contentHeight:tt}},ft=(U,W,ie)=>{let ge=[];switch(W){case"hover":let tt;ge=[{eventName:"mouseenter",callback:(et=(0,a.Z)(function*(Vt){Vt.stopPropagation(),tt&&clearTimeout(tt),tt=setTimeout(()=>{(0,ee.r)(()=>{ie.presentFromTrigger(Vt),tt=void 0})},100)}),function(Wt){return et.apply(this,arguments)})},{eventName:"mouseleave",callback:et=>{tt&&clearTimeout(tt);const Vt=et.relatedTarget;!Vt||Vt.closest("ion-popover")!==ie&&ie.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:et=>et.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:et=>ie.presentFromTrigger(et,!0)}];break;case"context-menu":ge=[{eventName:"contextmenu",callback:et=>{et.preventDefault(),ie.presentFromTrigger(et)}},{eventName:"click",callback:et=>et.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:et=>ie.presentFromTrigger(et,!0)}];break;default:ge=[{eventName:"click",callback:et=>ie.presentFromTrigger(et)},{eventName:"ionPopoverActivateTrigger",callback:et=>ie.presentFromTrigger(et,!0)}]}var et;return ge.forEach(({eventName:tt,callback:et})=>U.addEventListener(tt,et)),U.setAttribute("data-ion-popover-trigger","true"),()=>{ge.forEach(({eventName:tt,callback:et})=>U.removeEventListener(tt,et)),U.removeAttribute("data-ion-popover-trigger")}},Jt=(U,W)=>W&&"ION-ITEM"===W.tagName?U.findIndex(ie=>ie===W):-1,Cr=U=>{const ie=(0,ee.g)(U).querySelector("button");ie&&(0,ee.r)(()=>ie.focus())},xr=U=>{const W=function(){var ie=(0,a.Z)(function*(ge){const tt=document.activeElement;let et=[];try{et=Array.from(U.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch(Vt){}switch(ge.key){case"ArrowLeft":(yield U.getParentPopover())&&U.dismiss(void 0,void 0,!1);break;case"ArrowDown":ge.preventDefault();const Wt=((U,W)=>U[Jt(U,W)+1])(et,tt);void 0!==Wt&&Cr(Wt);break;case"ArrowUp":ge.preventDefault();const sn=((U,W)=>U[Jt(U,W)-1])(et,tt);void 0!==sn&&Cr(sn);break;case"Home":ge.preventDefault();const $n=et[0];void 0!==$n&&Cr($n);break;case"End":ge.preventDefault();const rr=et[et.length-1];void 0!==rr&&Cr(rr);break;case"ArrowRight":case" ":case"Enter":if(tt&&(U=>U.hasAttribute("data-ion-popover-trigger"))(tt)){const Yn=new CustomEvent("ionPopoverActivateTrigger");tt.dispatchEvent(Yn)}}});return function(tt){return ie.apply(this,arguments)}}();return U.addEventListener("keydown",W),()=>U.removeEventListener("keydown",W)},Ge=(U,W,ie,ge,tt,et,Vt,Wt,sn,$n,rr)=>{var Yn;let Re={top:0,left:0,width:0,height:0};if("event"===et){if(!rr)return sn;Re={top:rr.clientY,left:rr.clientX,width:1,height:1}}else{const nr=rr,Mr=$n||(null===(Yn=null==nr?void 0:nr.detail)||void 0===Yn?void 0:Yn.ionShadowTarget)||(null==nr?void 0:nr.target);if(!Mr)return sn;const Vr=Mr.getBoundingClientRect();Re={top:Vr.top,left:Vr.left,width:Vr.width,height:Vr.height}}const Se=In(Vt,Re,W,ie,ge,tt,U),Oe=Wn(Wt,Vt,Re,W,ie),gt=Se.top+Oe.top,kt=Se.left+Oe.left,{arrowTop:Ut,arrowLeft:an}=cn(Vt,ge,tt,gt,kt,W,ie,U),{originX:Vn,originY:sr}=$e(Vt,Wt,U);return{top:gt,left:kt,referenceCoordinates:Re,arrowTop:Ut,arrowLeft:an,originX:Vn,originY:sr}},$e=(U,W,ie)=>{switch(U){case"top":return{originX:Xe(W),originY:"bottom"};case"bottom":return{originX:Xe(W),originY:"top"};case"left":return{originX:"right",originY:Lt(W)};case"right":return{originX:"left",originY:Lt(W)};case"start":return{originX:ie?"left":"right",originY:Lt(W)};case"end":return{originX:ie?"right":"left",originY:Lt(W)}}},Xe=U=>{switch(U){case"start":return"left";case"center":return"center";case"end":return"right"}},Lt=U=>{switch(U){case"start":return"top";case"center":return"center";case"end":return"bottom"}},cn=(U,W,ie,ge,tt,et,Vt,Wt)=>{const sn={arrowTop:ge+Vt/2-W/2,arrowLeft:tt+et-W/2},$n={arrowTop:ge+Vt/2-W/2,arrowLeft:tt-1.5*W};switch(U){case"top":return{arrowTop:ge+Vt,arrowLeft:tt+et/2-W/2};case"bottom":return{arrowTop:ge-ie,arrowLeft:tt+et/2-W/2};case"left":return sn;case"right":return $n;case"start":return Wt?$n:sn;case"end":return Wt?sn:$n;default:return{arrowTop:0,arrowLeft:0}}},In=(U,W,ie,ge,tt,et,Vt)=>{const Wt={top:W.top,left:W.left-ie-tt},sn={top:W.top,left:W.left+W.width+tt};switch(U){case"top":return{top:W.top-ge-et,left:W.left};case"right":return sn;case"bottom":return{top:W.top+W.height+et,left:W.left};case"left":return Wt;case"start":return Vt?sn:Wt;case"end":return Vt?Wt:sn}},Wn=(U,W,ie,ge,tt)=>{switch(U){case"center":return Lr(W,ie,ge,tt);case"end":return On(W,ie,ge,tt);default:return{top:0,left:0}}},On=(U,W,ie,ge)=>{switch(U){case"start":case"end":case"left":case"right":return{top:-(ge-W.height),left:0};default:return{top:0,left:-(ie-W.width)}}},Lr=(U,W,ie,ge)=>{switch(U){case"start":case"end":case"left":case"right":return{top:-(ge/2-W.height/2),left:0};default:return{top:0,left:-(ie/2-W.width/2)}}},Br=(U,W,ie,ge,tt,et,Vt,Wt,sn,$n,rr,Yn,Re=0,Se=0,Oe=0)=>{let Vn,gt=Re,Ut=ie,an=W,sr=$n,_r=rr,nr=!1,Mr=!1;const Vr=Yn?Yn.top+Yn.height:et/2-Wt/2,Hr=Yn?Yn.height:0;let xi=!1;return Ut<ge+sn?(Ut=ge,nr=!0,sr="left"):Vt+ge+Ut+sn>tt&&(Mr=!0,Ut=tt-Vt-ge,sr="right"),Vr+Hr+Wt>et&&("top"===U||"bottom"===U)&&(Vr-Wt>0?(an=Vr-Wt-Hr-(Oe-1),gt=an+Wt,_r="bottom",xi=!0):Vn=ge),{top:an,left:Ut,bottom:Vn,originX:sr,originY:_r,checkSafeAreaLeft:nr,checkSafeAreaRight:Mr,arrowTop:gt,arrowLeft:Se,addPopoverBottomClass:xi}},Or=(U,W)=>{var ie;const{event:ge,size:tt,trigger:et,reference:Vt,side:Wt,align:sn}=W,$n=U.ownerDocument,rr="rtl"===$n.dir,Yn=$n.defaultView.innerWidth,Re=$n.defaultView.innerHeight,Se=(0,ee.g)(U),Oe=Se.querySelector(".popover-content"),gt=Se.querySelector(".popover-arrow"),kt=et||(null===(ie=null==ge?void 0:ge.detail)||void 0===ie?void 0:ie.ionShadowTarget)||(null==ge?void 0:ge.target),{contentWidth:Ut,contentHeight:an}=je(tt,Oe,kt),{arrowWidth:Vn,arrowHeight:sr}=(U=>{if(!U)return{arrowWidth:0,arrowHeight:0};const{width:W,height:ie}=U.getBoundingClientRect();return{arrowWidth:W,arrowHeight:ie}})(gt),nr=Ge(rr,Ut,an,Vn,sr,Vt,Wt,sn,{top:Re/2-an/2,left:Yn/2-Ut/2,originX:rr?"right":"left",originY:"top"},et,ge),Mr="cover"===tt?0:5,Vr="cover"===tt?0:25,{originX:Hr,originY:xi,top:Si,left:V,bottom:ae,checkSafeAreaLeft:$,checkSafeAreaRight:ve,arrowTop:ct,arrowLeft:O,addPopoverBottomClass:M}=Br(Wt,nr.top,nr.left,Mr,Yn,Re,Ut,an,Vr,nr.originX,nr.originY,nr.referenceCoordinates,nr.arrowTop,nr.arrowLeft,sr),R=(0,Q.c)(),ce=(0,Q.c)(),Tt=(0,Q.c)();return ce.addElement(Se.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),Tt.addElement(Se.querySelector(".popover-wrapper")).fromTo("opacity",.01,1),R.easing("ease").duration(100).beforeAddWrite(()=>{"cover"===tt&&U.style.setProperty("--width",`${Ut}px`),M&&U.classList.add("popover-bottom"),void 0!==ae&&Oe.style.setProperty("bottom",`${ae}px`);let zr=`${V}px`;$&&(zr=`${V}px + var(--ion-safe-area-left, 0)`),ve&&(zr=`${V}px - var(--ion-safe-area-right, 0)`),Oe.style.setProperty("top",`calc(${Si}px + var(--offset-y, 0))`),Oe.style.setProperty("left",`calc(${zr} + var(--offset-x, 0))`),Oe.style.setProperty("transform-origin",`${xi} ${Hr}`),null!==gt&&(((U,W=!1,ie,ge)=>!(!ie&&!ge||"top"!==U&&"bottom"!==U&&W))(Wt,nr.top!==Si||nr.left!==V,ge,et)?(gt.style.setProperty("top",`calc(${ct}px + var(--offset-y, 0))`),gt.style.setProperty("left",`calc(${O}px + var(--offset-x, 0))`)):gt.style.setProperty("display","none"))}).addAnimation([ce,Tt])},Fn=U=>{const W=(0,ee.g)(U),ie=W.querySelector(".popover-content"),ge=W.querySelector(".popover-arrow"),tt=(0,Q.c)(),et=(0,Q.c)(),Vt=(0,Q.c)();return et.addElement(W.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),Vt.addElement(W.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),tt.easing("ease").afterAddWrite(()=>{U.style.removeProperty("--width"),U.classList.remove("popover-bottom"),ie.style.removeProperty("top"),ie.style.removeProperty("left"),ie.style.removeProperty("bottom"),ie.style.removeProperty("transform-origin"),ge&&(ge.style.removeProperty("top"),ge.style.removeProperty("left"),ge.style.removeProperty("display"))}).duration(300).addAnimation([et,Vt])},ot=(U,W)=>{var ie;const{event:ge,size:tt,trigger:et,reference:Vt,side:Wt,align:sn}=W,$n=U.ownerDocument,rr="rtl"===$n.dir,Yn=$n.defaultView.innerWidth,Re=$n.defaultView.innerHeight,Se=(0,ee.g)(U),Oe=Se.querySelector(".popover-content"),gt=et||(null===(ie=null==ge?void 0:ge.detail)||void 0===ie?void 0:ie.ionShadowTarget)||(null==ge?void 0:ge.target),{contentWidth:kt,contentHeight:Ut}=je(tt,Oe,gt),Vn=Ge(rr,kt,Ut,0,0,Vt,Wt,sn,{top:Re/2-Ut/2,left:Yn/2-kt/2,originX:rr?"right":"left",originY:"top"},et,ge),sr="cover"===tt?0:12,{originX:_r,originY:nr,top:Mr,left:Vr,bottom:Hr}=Br(Wt,Vn.top,Vn.left,sr,Yn,Re,kt,Ut,0,Vn.originX,Vn.originY,Vn.referenceCoordinates),xi=(0,Q.c)(),Si=(0,Q.c)(),V=(0,Q.c)(),ae=(0,Q.c)(),$=(0,Q.c)();return Si.addElement(Se.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),V.addElement(Se.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),ae.addElement(Oe).beforeStyles({top:`calc(${Mr}px + var(--offset-y, 0px))`,left:`calc(${Vr}px + var(--offset-x, 0px))`,"transform-origin":`${nr} ${_r}`}).beforeAddWrite(()=>{void 0!==Hr&&Oe.style.setProperty("bottom",`${Hr}px`)}).fromTo("transform","scale(0.8)","scale(1)"),$.addElement(Se.querySelector(".popover-viewport")).fromTo("opacity",.01,1),xi.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{"cover"===tt&&U.style.setProperty("--width",`${kt}px`),"bottom"===nr&&U.classList.add("popover-bottom")}).addAnimation([Si,V,ae,$])},Ct=U=>{const W=(0,ee.g)(U),ie=W.querySelector(".popover-content"),ge=(0,Q.c)(),tt=(0,Q.c)(),et=(0,Q.c)();return tt.addElement(W.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),et.addElement(W.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),ge.easing("ease").afterAddWrite(()=>{U.style.removeProperty("--width"),U.classList.remove("popover-bottom"),ie.style.removeProperty("top"),ie.style.removeProperty("left"),ie.style.removeProperty("bottom"),ie.style.removeProperty("transform-origin")}).duration(150).addAnimation([tt,et])};let J=class{constructor(U){(0,C.r)(this,U),this.didPresent=(0,C.e)(this,"ionPopoverDidPresent",7),this.willPresent=(0,C.e)(this,"ionPopoverWillPresent",7),this.willDismiss=(0,C.e)(this,"ionPopoverWillDismiss",7),this.didDismiss=(0,C.e)(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=(0,C.e)(this,"didPresent",7),this.willPresentShorthand=(0,C.e)(this,"willPresent",7),this.willDismissShorthand=(0,C.e)(this,"willDismiss",7),this.didDismissShorthand=(0,C.e)(this,"didDismiss",7),this.parentPopover=null,this.popoverIndex=De++,this.coreDelegate=(0,pe.C)(),this.inline=!1,this.focusDescendantOnPresent=!1,this.presented=!1,this.hasController=!1,this.keyboardClose=!0,this.backdropDismiss=!0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.triggerAction="click",this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment="start",this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.onDismiss=W=>{W.stopPropagation(),W.preventDefault(),this.dismiss()},this.onBackdropTap=()=>{this.dismiss(void 0,$r)},this.onLifecycle=W=>{const ie=this.usersElement,ge=G[W.type];if(ie&&ge){const tt=new CustomEvent(ge,{bubbles:!1,cancelable:!1,detail:W.detail});ie.dispatchEvent(tt)}},this.configureTriggerInteraction=()=>{const{trigger:W,triggerAction:ie,el:ge,destroyTriggerInteraction:tt}=this;tt&&tt();const et=this.triggerEl=void 0!==W?document.getElementById(W):null;!et||(this.destroyTriggerInteraction=ft(et,ie,ge))},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:W,el:ie}=this;W&&W(),this.destroyKeyboardInteraction=xr(ie)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:W,parentPopover:ie,triggerAction:ge,triggerEl:tt,el:et}=this;!ie||!tt||(W&&W(),this.destroyDismissInteraction=((U,W,ie,ge)=>{let tt=[];const Vt=(0,ee.g)(ge).querySelector(".popover-content");return tt="hover"===W?[{eventName:"mouseenter",callback:Wt=>{document.elementFromPoint(Wt.clientX,Wt.clientY)!==U&&ie.dismiss(void 0,void 0,!1)}}]:[{eventName:"click",callback:Wt=>{Wt.target.closest("[data-ion-popover-trigger]")!==U?ie.dismiss(void 0,void 0,!1):Wt.stopPropagation()}}],tt.forEach(({eventName:Wt,callback:sn})=>Vt.addEventListener(Wt,sn)),()=>{tt.forEach(({eventName:Wt,callback:sn})=>Vt.removeEventListener(Wt,sn))}})(tt,ge,et,ie))}}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(U,W){!0===U&&!1===W?this.present():!1===U&&!0===W&&this.dismiss()}connectedCallback(){se(this.el)}componentWillLoad(){this.popoverId=this.el.hasAttribute("id")?this.el.getAttribute("id"):`ion-popover-${this.popoverIndex}`,this.parentPopover=this.el.closest(`ion-popover:not(#${this.popoverId})`)}componentDidLoad(){const{parentPopover:U,isOpen:W}=this;!0===W&&(0,ee.r)(()=>this.present()),U&&(0,ee.a)(U,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)}),this.configureTriggerInteraction()}presentFromTrigger(U,W=!1){var ie=this;return(0,a.Z)(function*(){ie.focusDescendantOnPresent=W,yield ie.present(U),ie.focusDescendantOnPresent=!1})()}getDelegate(U=!1){if(this.workingDelegate&&!U)return{delegate:this.workingDelegate,inline:this.inline};const ie=this.inline=null!==this.el.parentNode&&!this.hasController;return{inline:ie,delegate:this.workingDelegate=ie?this.delegate||this.coreDelegate:this.delegate}}present(U){var W=this;return(0,a.Z)(function*(){if(W.presented)return;void 0!==W.currentTransition&&(yield W.currentTransition);const ie=Object.assign(Object.assign({},W.componentProps),{popover:W.el}),{inline:ge,delegate:tt}=W.getDelegate(!0);W.usersElement=yield(0,pe.a)(tt,W.el,W.component,["popover-viewport"],ie,ge),yield(0,de.e)(W.usersElement),W.keyboardEvents||W.configureKeyboardInteraction(),W.configureDismissInteraction(),W.currentTransition=bi(W,"popoverEnter",Or,ot,{event:U||W.event,size:W.size,trigger:W.triggerEl,reference:W.reference,side:W.side,align:W.alignment}),yield W.currentTransition,W.currentTransition=void 0,W.focusDescendantOnPresent&&At(W.el,W.el)})()}dismiss(U,W,ie=!0){var ge=this;return(0,a.Z)(function*(){void 0!==ge.currentTransition&&(yield ge.currentTransition);const{destroyKeyboardInteraction:tt,destroyDismissInteraction:et}=ge;ie&&ge.parentPopover&&ge.parentPopover.dismiss(U,W,ie),ge.currentTransition=Ui(ge,U,W,"popoverLeave",Fn,Ct,ge.event);const Vt=yield ge.currentTransition;if(Vt){tt&&(tt(),ge.destroyKeyboardInteraction=void 0),et&&(et(),ge.destroyDismissInteraction=void 0);const{delegate:Wt}=ge.getDelegate();yield(0,pe.d)(Wt,ge.usersElement)}return ge.currentTransition=void 0,Vt})()}getParentPopover(){var U=this;return(0,a.Z)(function*(){return U.parentPopover})()}onDidDismiss(){return Di(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return Di(this.el,"ionPopoverWillDismiss")}render(){const U=(0,X.b)(this),{onLifecycle:W,popoverId:ie,parentPopover:ge,dismissOnSelect:tt,presented:et,side:Vt,arrow:Wt,htmlAttributes:sn}=this,$n=(0,X.a)("desktop"),rr=Wt&&!ge&&!$n;return(0,C.h)(C.H,Object.assign({"aria-modal":"true","no-router":!0,tabindex:"-1"},sn,{style:{zIndex:`${2e4+this.overlayIndex}`},id:ie,class:Object.assign(Object.assign({},(0,fe.g)(this.cssClass)),{[U]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-interactive":et,"popover-desktop":$n,[`popover-side-${Vt}`]:!0,"popover-nested":!!ge}),onIonPopoverDidPresent:W,onIonPopoverWillPresent:W,onIonPopoverWillDismiss:W,onIonPopoverDidDismiss:W,onIonDismiss:this.onDismiss,onIonBackdropTap:this.onBackdropTap}),!ge&&(0,C.h)("ion-backdrop",{tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),(0,C.h)("div",{class:"popover-wrapper ion-overlay-wrapper",onClick:tt?()=>this.dismiss():void 0},rr&&(0,C.h)("div",{class:"popover-arrow",part:"arrow"}),(0,C.h)("div",{class:"popover-content",part:"content"},(0,C.h)("slot",null))))}get el(){return(0,C.i)(this)}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}};const G={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};let De=0;J.style={ios:':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001;pointer-events:none}:host(.popover-interactive) .popover-content,:host(.popover-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, #e6e6e6)}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden}.popover-arrow::after{left:3px;top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}[dir=rtl] .popover-arrow::after,:host-context([dir=rtl]) .popover-arrow::after{left:unset;right:unset;right:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',md:":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001;pointer-events:none}:host(.popover-interactive) .popover-content,:host(.popover-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}[dir=rtl] .popover-content,:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}"};const Ye=(U,W)=>{const ie=(0,Q.c)(),ge=(0,Q.c)(),et=(0,ee.g)(U).querySelector(".toast-wrapper");switch(ge.addElement(et),W){case"top":ge.fromTo("transform","translateY(-100%)","translateY(calc(10px + var(--ion-safe-area-top, 0px)))");break;case"middle":const sn=Math.floor(U.clientHeight/2-et.clientHeight/2);et.style.top=`${sn}px`,ge.fromTo("opacity",.01,1);break;default:ge.fromTo("transform","translateY(100%)","translateY(calc(-10px - var(--ion-safe-area-bottom, 0px)))")}return ie.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(ge)},wt=(U,W)=>{const ie=(0,Q.c)(),ge=(0,Q.c)(),et=(0,ee.g)(U).querySelector(".toast-wrapper");switch(ge.addElement(et),W){case"top":ge.fromTo("transform","translateY(calc(10px + var(--ion-safe-area-top, 0px)))","translateY(-100%)");break;case"middle":ge.fromTo("opacity",.99,0);break;default:ge.fromTo("transform","translateY(calc(-10px - var(--ion-safe-area-bottom, 0px)))","translateY(100%)")}return ie.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(ge)},Zt=(U,W)=>{const ie=(0,Q.c)(),ge=(0,Q.c)(),et=(0,ee.g)(U).querySelector(".toast-wrapper");switch(ge.addElement(et),W){case"top":et.style.top="calc(8px + var(--ion-safe-area-top, 0px))",ge.fromTo("opacity",.01,1);break;case"middle":const sn=Math.floor(U.clientHeight/2-et.clientHeight/2);et.style.top=`${sn}px`,ge.fromTo("opacity",.01,1);break;default:et.style.bottom="calc(8px + var(--ion-safe-area-bottom, 0px))",ge.fromTo("opacity",.01,1)}return ie.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(ge)},fn=U=>{const W=(0,Q.c)(),ie=(0,Q.c)(),tt=(0,ee.g)(U).querySelector(".toast-wrapper");return ie.addElement(tt).fromTo("opacity",.99,0),W.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(ie)};let Sn=class{constructor(U){(0,C.r)(this,U),this.didPresent=(0,C.e)(this,"ionToastDidPresent",7),this.willPresent=(0,C.e)(this,"ionToastWillPresent",7),this.willDismiss=(0,C.e)(this,"ionToastWillDismiss",7),this.didDismiss=(0,C.e)(this,"ionToastDidDismiss",7),this.presented=!1,this.duration=0,this.keyboardClose=!1,this.position="bottom",this.translucent=!1,this.animated=!0,this.dispatchCancelHandler=W=>{if(no(W.detail.role)){const ge=this.getButtons().find(tt=>"cancel"===tt.role);this.callButtonHandler(ge)}}}connectedCallback(){se(this.el)}present(){var U=this;return(0,a.Z)(function*(){yield bi(U,"toastEnter",Ye,Zt,U.position),U.duration>0&&(U.durationTimeout=setTimeout(()=>U.dismiss(void 0,"timeout"),U.duration))})()}dismiss(U,W){return this.durationTimeout&&clearTimeout(this.durationTimeout),Ui(this,U,W,"toastLeave",wt,fn,this.position)}onDidDismiss(){return Di(this.el,"ionToastDidDismiss")}onWillDismiss(){return Di(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(W=>"string"==typeof W?{text:W}:W):[]}buttonClick(U){var W=this;return(0,a.Z)(function*(){const ie=U.role;return no(ie)||(yield W.callButtonHandler(U))?W.dismiss(void 0,ie):Promise.resolve()})()}callButtonHandler(U){return(0,a.Z)(function*(){if(U&&U.handler)try{if(!1===(yield Ti(U.handler)))return!1}catch(W){console.error(W)}return!0})()}renderButtons(U,W){if(0===U.length)return;const ie=(0,X.b)(this);return(0,C.h)("div",{class:{"toast-button-group":!0,[`toast-button-group-${W}`]:!0}},U.map(tt=>(0,C.h)("button",{type:"button",class:li(tt),tabIndex:0,onClick:()=>this.buttonClick(tt),part:"button"},(0,C.h)("div",{class:"toast-button-inner"},tt.icon&&(0,C.h)("ion-icon",{icon:tt.icon,slot:void 0===tt.text?"icon-only":void 0,class:"toast-button-icon"}),tt.text),"md"===ie&&(0,C.h)("ion-ripple-effect",{type:void 0!==tt.icon&&void 0===tt.text?"unbounded":"bounded"}))))}render(){const U=this.getButtons(),W=U.filter(Vt=>"start"===Vt.side),ie=U.filter(Vt=>"start"!==Vt.side),ge=(0,X.b)(this),tt={"toast-wrapper":!0,[`toast-${this.position}`]:!0};return(0,C.h)(C.H,Object.assign({role:U.length>0?"dialog":"status",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:`${6e4+this.overlayIndex}`},class:(0,fe.c)(this.color,Object.assign(Object.assign({[ge]:!0},(0,fe.g)(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),(0,C.h)("div",{class:tt},(0,C.h)("div",{class:"toast-container",part:"container"},this.renderButtons(W,"start"),void 0!==this.icon&&(0,C.h)("ion-icon",{class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),(0,C.h)("div",{class:"toast-content"},void 0!==this.header&&(0,C.h)("div",{class:"toast-header",part:"header"},this.header),void 0!==this.message&&(0,C.h)("div",{class:"toast-message",part:"message",innerHTML:(0,he.s)(this.message)})),this.renderButtons(ie,"end"))))}get el(){return(0,C.i)(this)}};const li=U=>Object.assign({"toast-button":!0,"toast-button-icon-only":void 0!==U.icon&&void 0===U.text,[`toast-button-${U.role}`]:void 0!==U.role,"ion-focusable":!0,"ion-activatable":!0},(0,fe.g)(U.cssClass));Sn.style={ios:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, #f2f2f2);--border-radius:14px;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-850, #262626);--max-width:700px;--start:10px;--end:10px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-middle{opacity:0.01}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-content{padding-left:15px;padding-right:15px;padding-top:15px;padding-bottom:15px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:17px;font-weight:500;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",md:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, #333333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-50, #f2f2f2);--max-width:700px;--start:8px;--end:8px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.toast-content{padding-left:16px;padding-right:16px;padding-top:14px;padding-bottom:14px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.toast-header{margin-bottom:2px;font-weight:500;line-height:20px}.toast-message{line-height:20px}.toast-button-group-start{margin-left:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-start{margin-left:unset;-webkit-margin-start:8px;margin-inline-start:8px}}.toast-button-group-end{margin-right:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-end{margin-right:unset;-webkit-margin-end:8px;margin-inline-end:8px}}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:14px;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button-cancel{color:var(--ion-color-step-100, #e6e6e6)}.toast-button-icon-only{border-radius:50%;padding-left:9px;padding-right:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-icon-only{padding-left:unset;padding-right:unset;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px}}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}"};let yt=0;const Ei=new WeakMap,di=(U,W,ie)=>({create:ge=>ke(U,ge,W,ie),dismiss:(ge,tt,et)=>un(document,ge,tt,U,et),getTop:()=>(0,a.Z)(function*(){return oi(document,U)})()}),jr=di("ion-alert",Me),ri=di("ion-action-sheet",Ie),qr=di("ion-modal",qn),Z=di("ion-popover",J),se=U=>{"undefined"!=typeof document&&En(document);const W=yt++;U.overlayIndex=W,U.hasAttribute("id")||(U.id=`ion-overlay-${W}`)},ke=(U,W,ie,ge)=>{if(void 0!==window.customElements){if("undefined"!=typeof window&&window.customElements&&(window.customElements.get(U)||window.customElements.define(U,ie),ge))for(const tt of ge)window.customElements.get(tt.tagName)||window.customElements.define(tt.tagName,tt.customElement);return window.customElements.whenDefined(U).then(()=>{const tt=document.createElement(U);return tt.classList.add("overlay-hidden"),Object.assign(tt,Object.assign(Object.assign({},W),{hasController:!0})),wi(document).appendChild(tt),new Promise(et=>(0,ee.c)(tt,et))})}return Promise.resolve()},ze='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',vt="input:not([type=hidden]), textarea, button, select",At=(U,W)=>{let ie=U.querySelector(ze);const ge=ie&&ie.shadowRoot;ge&&(ie=ge.querySelector(vt)||ie),ie?(0,ee.f)(ie):W.focus()},bt=(U,W)=>{const ie=Array.from(U.querySelectorAll(ze));let ge=ie.length>0?ie[ie.length-1]:null;const tt=ge&&ge.shadowRoot;tt&&(ge=tt.querySelector(vt)||ge),ge?ge.focus():W.focus()},En=U=>{0===yt&&(yt=1,U.addEventListener("focus",W=>((U,W)=>{const ie=oi(W),ge=U.target;ie&&ge&&(ie.shadowRoot?(()=>{if(ie.contains(ge))ie.lastFocus=ge;else{const Vt=ie.lastFocus;At(ie,ie),Vt===W.activeElement&&bt(ie,ie),ie.lastFocus=W.activeElement}})():(()=>{if(ie===ge)ie.lastFocus=void 0;else{const Vt=(0,ee.g)(ie);if(!Vt.contains(ge))return;const Wt=Vt.querySelector(".ion-overlay-wrapper");if(!Wt)return;if(Wt.contains(ge))ie.lastFocus=ge;else{const sn=ie.lastFocus;At(Wt,ie),sn===W.activeElement&&bt(Wt,ie),ie.lastFocus=W.activeElement}}})())})(W,U),!0),U.addEventListener("ionBackButton",W=>{const ie=vr(U);ie&&ie.backdropDismiss&&W.detail.register(re.OVERLAY_BACK_BUTTON_PRIORITY,()=>ie.dismiss(void 0,$r))}),U.addEventListener("keyup",W=>{if("Escape"===W.key){const ie=vr(U);ie&&ie.backdropDismiss&&ie.dismiss(void 0,$r)}}))},un=(U,W,ie,ge,tt)=>{const et=oi(U,ge,tt);return et?et.dismiss(W,ie):Promise.reject("overlay does not exist")},Gn=(U,W)=>(void 0===W&&(W="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(U.querySelectorAll(W)).filter(ie=>ie.overlayIndex>0)),vr=U=>{const W=Gn(U);for(let ie=W.length-1;ie>=0;ie--){const ge=W[ie];if(!ge.classList.contains("overlay-hidden"))return ge}},oi=(U,W,ie)=>{const ge=Gn(U,W);return void 0===ie?ge[ge.length-1]:ge.find(tt=>tt.id===ie)},Qn=(U=!1)=>{const ie=wi(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!ie||(U?ie.setAttribute("aria-hidden","true"):ie.removeAttribute("aria-hidden"))},bi=function(){var U=(0,a.Z)(function*(W,ie,ge,tt,et){var Vt,Wt;if(W.presented)return;Qn(!0),W.presented=!0,W.willPresent.emit(),null===(Vt=W.willPresentShorthand)||void 0===Vt||Vt.emit();const sn=(0,X.b)(W),$n=W.enterAnimation?W.enterAnimation:X.c.get(ie,"ios"===sn?ge:tt);(yield Li(W,$n,W.el,et))&&(W.didPresent.emit(),null===(Wt=W.didPresentShorthand)||void 0===Wt||Wt.emit()),"ION-TOAST"!==W.el.tagName&&Ni(W.el),W.keyboardClose&&W.el.focus()});return function(ie,ge,tt,et,Vt){return U.apply(this,arguments)}}(),Ni=function(){var U=(0,a.Z)(function*(W){let ie=document.activeElement;if(!ie)return;const ge=ie&&ie.shadowRoot;ge&&(ie=ge.querySelector(vt)||ie),yield W.onDidDismiss(),ie.focus()});return function(ie){return U.apply(this,arguments)}}(),Ui=function(){var U=(0,a.Z)(function*(W,ie,ge,tt,et,Vt,Wt){var sn,$n;if(!W.presented)return!1;Qn(!1),W.presented=!1;try{W.el.style.setProperty("pointer-events","none"),W.willDismiss.emit({data:ie,role:ge}),null===(sn=W.willDismissShorthand)||void 0===sn||sn.emit({data:ie,role:ge});const rr=(0,X.b)(W),Yn=W.leaveAnimation?W.leaveAnimation:X.c.get(tt,"ios"===rr?et:Vt);"gesture"!==ge&&(yield Li(W,Yn,W.el,Wt)),W.didDismiss.emit({data:ie,role:ge}),null===($n=W.didDismissShorthand)||void 0===$n||$n.emit({data:ie,role:ge}),Ei.delete(W),W.el.classList.add("overlay-hidden")}catch(rr){console.error(rr)}return W.el.remove(),!0});return function(ie,ge,tt,et,Vt,Wt,sn){return U.apply(this,arguments)}}(),wi=U=>U.querySelector("ion-app")||U.body,Li=function(){var U=(0,a.Z)(function*(W,ie,ge,tt){ge.classList.remove("overlay-hidden");const Vt=ie(W.el,tt);(!W.animated||!X.c.getBoolean("animated",!0))&&Vt.duration(0),W.keyboardClose&&Vt.beforeAddWrite(()=>{const sn=ge.ownerDocument.activeElement;sn&&sn.matches("input,ion-input, ion-textarea")&&sn.blur()});const Wt=Ei.get(W)||[];return Ei.set(W,[...Wt,Vt]),yield Vt.play(),!0});return function(ie,ge,tt,et){return U.apply(this,arguments)}}(),Di=(U,W)=>{let ie;const ge=new Promise(tt=>ie=tt);return $o(U,W,tt=>{ie(tt.detail)}),ge},$o=(U,W,ie)=>{const ge=tt=>{(0,ee.b)(U,W,ge),ie(tt)};(0,ee.a)(U,W,ge)},no=U=>"cancel"===U||U===$r,Qi=U=>U(),Ti=(U,W)=>{if("function"==typeof U)return X.c.get("_zoneGate",Qi)(()=>{try{return U(W)}catch(ge){throw ge}})},$r="backdrop"},5613:(rn,ht,F)=>{"use strict";F.d(ht,{c:()=>X,g:()=>Te,h:()=>C,o:()=>fe});var a=F(8239);const C=(Q,pe)=>null!==pe.closest(Q),X=(Q,pe)=>"string"==typeof Q&&Q.length>0?Object.assign({"ion-color":!0,[`ion-color-${Q}`]:!0},pe):pe,Te=Q=>{const pe={};return(Q=>void 0!==Q?(Array.isArray(Q)?Q:Q.split(" ")).filter(ee=>null!=ee).map(ee=>ee.trim()).filter(ee=>""!==ee):[])(Q).forEach(ee=>pe[ee]=!0),pe},he=/^[a-z][a-z0-9+\-.]*:/,fe=function(){var Q=(0,a.Z)(function*(pe,ee,de,we){if(null!=pe&&"#"!==pe[0]&&!he.test(pe)){const re=document.querySelector("ion-router");if(re)return null!=ee&&ee.preventDefault(),re.push(pe,de,we)}return!1});return function(ee,de,we,re){return Q.apply(this,arguments)}}()},7713:(rn,ht,F)=>{"use strict";F.d(ht,{Mq:()=>a.getApp,C6:()=>a.getApps,ZF:()=>a.initializeApp,KN:()=>a.registerVersion});var a=F(1572);(0,a.registerVersion)("firebase","9.6.1","app")},7682:(rn,ht,F)=>{"use strict";F.d(ht,{hJ:()=>a.N,n0:()=>a.k,AP:()=>a.i,uJ:()=>a.D,Aj:()=>a.t,rh:()=>a.c,w7:()=>a.x});var a=F(576);F(4213),F(1572),F(3855),F(1177)},7892:(rn,ht,F)=>{"use strict";F.d(ht,{Z:()=>a.Z});var a=F(6293);a.Z.registerVersion("firebase","9.6.1","app-compat")},2115:(rn,ht,F)=>{"use strict";F.r(ht);var a=F(8239),C=F(6293),X=F(576),He=F(4213),fe=(F(1572),F(3855),F(1177));function Q(){return window}function de(){return(de=(0,a.Z)(function*(Ge,$e,Xe){var Lt;const{BuildInfo:cn}=Q();(0,X.ap)($e.sessionId,"AuthEvent did not contain a session ID");const In=yield Be($e.sessionId),Wn={};return(0,X.aq)()?Wn.ibi=cn.packageName:(0,X.ar)()?Wn.apn=cn.packageName:(0,X.as)(Ge,"operation-not-supported-in-this-environment"),cn.displayName&&(Wn.appDisplayName=cn.displayName),Wn.sessionId=In,(0,X.at)(Ge,Xe,$e.type,void 0,null!==(Lt=$e.eventId)&&void 0!==Lt?Lt:void 0,Wn)})).apply(this,arguments)}function re(){return(re=(0,a.Z)(function*(Ge){const{BuildInfo:$e}=Q(),Xe={};(0,X.aq)()?Xe.iosBundleId=$e.packageName:(0,X.ar)()?Xe.androidPackageName=$e.packageName:(0,X.as)(Ge,"operation-not-supported-in-this-environment"),yield(0,X.au)(Ge,Xe)})).apply(this,arguments)}function ye(){return(ye=(0,a.Z)(function*(Ge,$e,Xe){const{cordova:Lt}=Q();let cn=()=>{};try{yield new Promise((In,Wn)=>{let On=null;function Lr(){var Bn;In();const Or=null===(Bn=Lt.plugins.browsertab)||void 0===Bn?void 0:Bn.close;"function"==typeof Or&&Or(),"function"==typeof(null==Xe?void 0:Xe.close)&&Xe.close()}function Br(){On||(On=window.setTimeout(()=>{Wn((0,X.av)(Ge,"redirect-cancelled-by-user"))},2e3))}function kr(){"visible"===(null==document?void 0:document.visibilityState)&&Br()}$e.addPassiveListener(Lr),document.addEventListener("resume",Br,!1),(0,X.ar)()&&document.addEventListener("visibilitychange",kr,!1),cn=()=>{$e.removePassiveListener(Lr),document.removeEventListener("resume",Br,!1),document.removeEventListener("visibilitychange",kr,!1),On&&window.clearTimeout(On)}})}finally{cn()}})).apply(this,arguments)}function Be(Ge){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,a.Z)(function*(Ge){const $e=_e(Ge),Xe=yield crypto.subtle.digest("SHA-256",$e);return Array.from(new Uint8Array(Xe)).map(cn=>cn.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function _e(Ge){if((0,X.ap)(/[0-9a-zA-Z]+/.test(Ge),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Ge);const $e=new ArrayBuffer(Ge.length),Xe=new Uint8Array($e);for(let Lt=0;Lt<Ge.length;Lt++)Xe[Lt]=Ge.charCodeAt(Lt);return Xe}class st extends X.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise($e=>{this.resolveInialized=$e})}addPassiveListener($e){this.passiveListeners.add($e)}removePassiveListener($e){this.passiveListeners.delete($e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent($e){return this.resolveInialized(),this.passiveListeners.forEach(Xe=>Xe($e)),super.onEvent($e)}initialized(){var $e=this;return(0,a.Z)(function*(){yield $e.initPromise})()}}function Je(Ge){return jt.apply(this,arguments)}function jt(){return(jt=(0,a.Z)(function*(Ge){const $e=yield Me()._get(Ue(Ge));return $e&&(yield Me()._remove(Ue(Ge))),$e})).apply(this,arguments)}function it(){const Ge=[],$e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Xe=0;Xe<20;Xe++){const Lt=Math.floor(Math.random()*$e.length);Ge.push($e.charAt(Lt))}return Ge.join("")}function Me(){return(0,X.ax)(X.b)}function Ue(Ge){return(0,X.ay)("authEvent",Ge.config.apiKey,Ge.name)}function Ht(Ge){if(!(null==Ge?void 0:Ge.includes("?")))return{};const[$e,...Xe]=Ge.split("?");return(0,He.zd)(Xe.join("?"))}function _t(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,X.av)("no-auth-event")}}function _n(){var Ge;return(null===(Ge=null==self?void 0:self.location)||void 0===Ge?void 0:Ge.protocol)||null}function on(Ge=(0,He.z$)()){return!("file:"!==_n()&&"ionic:"!==_n()||!Ge.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){try{const Ge=self.localStorage,$e=X.aG();if(Ge)return Ge.setItem($e,"1"),Ge.removeItem($e),!function(Ge=(0,He.z$)()){return(0,He.w1)()&&11===(null==document?void 0:document.documentMode)||function(Ge=(0,He.z$)()){return/Edge\/\d+/.test(Ge)}(Ge)}()||(0,He.hl)()}catch(Ge){return Jn()&&(0,He.hl)()}return!1}function Jn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dr(){return("http:"===_n()||"https:"===_n()||(0,He.ru)()||on())&&!((0,He.b$)()||(0,He.UG)())&&lr()&&!Jn()}function cr(){return on()&&"undefined"!=typeof document}function Tr(){return(Tr=(0,a.Z)(function*(){return!!cr()&&new Promise(Ge=>{const $e=setTimeout(()=>{Ge(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout($e),Ge(!0)})})})).apply(this,arguments)}const Zn={LOCAL:"local",NONE:"none",SESSION:"session"},qn=X.aw,Ur="persistence";function Yt(Ge){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.Z)(function*(Ge){yield Ge._initializationPromise;const $e=Mt(),Xe=X.ay(Ur,Ge.config.apiKey,Ge.name);(null==$e?void 0:$e.sessionStorage)&&$e.sessionStorage.setItem(Xe,Ge._getPersistence())})).apply(this,arguments)}function Mt(){return"undefined"!=typeof window?window:null}const Hn=X.aw;class Cn{constructor(){this.browserResolver=X.ax(X.k),this.cordovaResolver=X.ax(class{constructor(){this._redirectPersistence=X.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=X.aA}_initialize($e){var Xe=this;return(0,a.Z)(function*(){const Lt=$e._key();let cn=Xe.eventManagers.get(Lt);return cn||(cn=new st($e),Xe.eventManagers.set(Lt,cn),Xe.attachCallbackListeners($e,cn)),cn})()}_openPopup($e){(0,X.as)($e,"operation-not-supported-in-this-environment")}_openRedirect($e,Xe,Lt,cn){var In=this;return(0,a.Z)(function*(){!function(Ge){var $e,Xe,Lt,cn,In,Wn,On,Lr,Br,kr;const Bn=Q();(0,X.aw)("function"==typeof(null===($e=null==Bn?void 0:Bn.universalLinks)||void 0===$e?void 0:$e.subscribe),Ge,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,X.aw)(void 0!==(null===(Xe=null==Bn?void 0:Bn.BuildInfo)||void 0===Xe?void 0:Xe.packageName),Ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,X.aw)("function"==typeof(null===(In=null===(cn=null===(Lt=null==Bn?void 0:Bn.cordova)||void 0===Lt?void 0:Lt.plugins)||void 0===cn?void 0:cn.browsertab)||void 0===In?void 0:In.openUrl),Ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,X.aw)("function"==typeof(null===(Lr=null===(On=null===(Wn=null==Bn?void 0:Bn.cordova)||void 0===Wn?void 0:Wn.plugins)||void 0===On?void 0:On.browsertab)||void 0===Lr?void 0:Lr.isAvailable),Ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,X.aw)("function"==typeof(null===(kr=null===(Br=null==Bn?void 0:Bn.cordova)||void 0===Br?void 0:Br.InAppBrowser)||void 0===kr?void 0:kr.open),Ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}($e);const Wn=yield In._initialize($e);yield Wn.initialized(),Wn.resetRedirect(),(0,X.aB)(),yield In._originValidation($e);const On=function(Ge,$e,Xe=null){return{type:$e,eventId:Xe,urlResponse:null,sessionId:it(),postBody:null,tenantId:Ge.tenantId,error:(0,X.av)(Ge,"no-auth-event")}}($e,Lt,cn);yield function(Ge,$e){return Me()._set(Ue(Ge),$e)}($e,On);const Lr=yield function(Ge,$e,Xe){return de.apply(this,arguments)}($e,On,Xe),Br=yield function(Ge){const{cordova:$e}=Q();return new Promise(Xe=>{$e.plugins.browsertab.isAvailable(Lt=>{let cn=null;Lt?$e.plugins.browsertab.openUrl(Ge):cn=$e.InAppBrowser.open(Ge,(0,X.ao)()?"_blank":"_system","location=yes"),Xe(cn)})})}(Lr);return function(Ge,$e,Xe){return ye.apply(this,arguments)}($e,Wn,Br)})()}_isIframeWebStorageSupported($e,Xe){throw new Error("Method not implemented.")}_originValidation($e){const Xe=$e._key();return this.originValidationPromises[Xe]||(this.originValidationPromises[Xe]=function(Ge){return re.apply(this,arguments)}($e)),this.originValidationPromises[Xe]}attachCallbackListeners($e,Xe){const{universalLinks:Lt,handleOpenURL:cn,BuildInfo:In}=Q(),Wn=setTimeout((0,a.Z)(function*(){yield Je($e),Xe.onEvent(_t())}),500),On=function(){var kr=(0,a.Z)(function*(Bn){clearTimeout(Wn);const Or=yield Je($e);let Fn=null;Or&&(null==Bn?void 0:Bn.url)&&(Fn=function(Ge,$e){var Xe,Lt;const cn=function(Ge){const $e=Ht(Ge),Xe=$e.link?decodeURIComponent($e.link):void 0,Lt=Ht(Xe).link,cn=$e.deep_link_id?decodeURIComponent($e.deep_link_id):void 0;return Ht(cn).link||cn||Lt||Xe||Ge}($e);if(cn.includes("/__/auth/callback")){const In=Ht(cn),Wn=In.firebaseError?function(Ge){try{return JSON.parse(Ge)}catch($e){return null}}(decodeURIComponent(In.firebaseError)):null,On=null===(Lt=null===(Xe=null==Wn?void 0:Wn.code)||void 0===Xe?void 0:Xe.split("auth/"))||void 0===Lt?void 0:Lt[1],Lr=On?(0,X.av)(On):null;return Lr?{type:Ge.type,eventId:Ge.eventId,tenantId:Ge.tenantId,error:Lr,urlResponse:null,sessionId:null,postBody:null}:{type:Ge.type,eventId:Ge.eventId,tenantId:Ge.tenantId,sessionId:Ge.sessionId,urlResponse:cn,postBody:null}}return null}(Or,Bn.url)),Xe.onEvent(Fn||_t())});return function(Or){return kr.apply(this,arguments)}}();void 0!==Lt&&"function"==typeof Lt.subscribe&&Lt.subscribe(null,On);const Lr=cn,Br=`${In.packageName.toLowerCase()}://`;Q().handleOpenURL=function(){var kr=(0,a.Z)(function*(Bn){if(Bn.toLowerCase().startsWith(Br)&&On({url:Bn}),"function"==typeof Lr)try{Lr(Bn)}catch(Or){console.error(Or)}});return function(Bn){return kr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=X.a,this._completeRedirectFn=X.aA}_initialize($e){var Xe=this;return(0,a.Z)(function*(){return yield Xe.selectUnderlyingResolver(),Xe.assertedUnderlyingResolver._initialize($e)})()}_openPopup($e,Xe,Lt,cn){var In=this;return(0,a.Z)(function*(){return yield In.selectUnderlyingResolver(),In.assertedUnderlyingResolver._openPopup($e,Xe,Lt,cn)})()}_openRedirect($e,Xe,Lt,cn){var In=this;return(0,a.Z)(function*(){return yield In.selectUnderlyingResolver(),In.assertedUnderlyingResolver._openRedirect($e,Xe,Lt,cn)})()}_isIframeWebStorageSupported($e,Xe){this.assertedUnderlyingResolver._isIframeWebStorageSupported($e,Xe)}_originValidation($e){return this.assertedUnderlyingResolver._originValidation($e)}get _shouldInitProactively(){return cr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var $e=this;return(0,a.Z)(function*(){if($e.underlyingResolver)return;const Xe=yield function(){return Tr.apply(this,arguments)}();$e.underlyingResolver=Xe?$e.cordovaResolver:$e.browserResolver})()}}function yn(Ge){return Ge.unwrap()}function ai(Ge){return Fr(Ge)}function Fr(Ge){const{_tokenResponse:$e}=Ge instanceof He.ZR?Ge.customData:Ge;if(!$e)return null;if(!(Ge instanceof He.ZR)&&"temporaryProof"in $e&&"phoneNumber"in $e)return X.P.credentialFromResult(Ge);const Xe=$e.providerId;if(!Xe||Xe===X.o.PASSWORD)return null;let Lt;switch(Xe){case X.o.GOOGLE:Lt=X.N;break;case X.o.FACEBOOK:Lt=X.M;break;case X.o.GITHUB:Lt=X.Q;break;case X.o.TWITTER:Lt=X.V;break;default:const{oauthIdToken:cn,oauthAccessToken:In,oauthTokenSecret:Wn,pendingToken:On,nonce:Lr}=$e;return In||Wn||cn||On?On?Xe.startsWith("saml.")?X.aJ._create(Xe,On):X.I._fromParams({providerId:Xe,signInMethod:Xe,pendingToken:On,idToken:cn,accessToken:In}):new X.T(Xe).credential({idToken:cn,accessToken:In,rawNonce:Lr}):null}return Ge instanceof He.ZR?Lt.credentialFromError(Ge):Lt.credentialFromResult(Ge)}function gn(Ge,$e){return $e.catch(Xe=>{throw Xe instanceof He.ZR&&function(Ge,$e){var Xe;const Lt=null===(Xe=$e.customData)||void 0===Xe?void 0:Xe._tokenResponse;if("auth/multi-factor-auth-required"===$e.code)$e.resolver=new Qe(Ge,X.am(Ge,$e));else if(Lt){const cn=Fr($e),In=$e;cn&&(In.credential=cn,In.tenantId=Lt.tenantId||void 0,In.email=Lt.email||void 0,In.phoneNumber=Lt.phoneNumber||void 0)}}(Ge,Xe),Xe}).then(Xe=>{const cn=Xe.user;return{operationType:Xe.operationType,credential:ai(Xe),additionalUserInfo:X.ak(Xe),user:je.getOrCreate(cn)}})}function ti(Ge,$e){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,a.Z)(function*(Ge,$e){const Xe=yield $e;return{verificationId:Xe.verificationId,confirm:Lt=>gn(Ge,Xe.confirm(Lt))}})).apply(this,arguments)}class Qe{constructor($e,Xe){this.resolver=Xe,this.auth=$e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn($e){return gn(yn(this.auth),this.resolver.resolveSignIn($e))}}class je{constructor($e){this._delegate=$e,this.multiFactor=X.an($e)}static getOrCreate($e){return je.USER_MAP.has($e)||je.USER_MAP.set($e,new je($e)),je.USER_MAP.get($e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult($e){return this._delegate.getIdTokenResult($e)}getIdToken($e){return this._delegate.getIdToken($e)}linkAndRetrieveDataWithCredential($e){return this.linkWithCredential($e)}linkWithCredential($e){var Xe=this;return(0,a.Z)(function*(){return gn(Xe.auth,X.Y(Xe._delegate,$e))})()}linkWithPhoneNumber($e,Xe){var Lt=this;return(0,a.Z)(function*(){return ti(Lt.auth,X.l(Lt._delegate,$e,Xe))})()}linkWithPopup($e){var Xe=this;return(0,a.Z)(function*(){return gn(Xe.auth,X.d(Xe._delegate,$e,Cn))})()}linkWithRedirect($e){var Xe=this;return(0,a.Z)(function*(){return yield Yt(X.aC(Xe.auth)),X.g(Xe._delegate,$e,Cn)})()}reauthenticateAndRetrieveDataWithCredential($e){return this.reauthenticateWithCredential($e)}reauthenticateWithCredential($e){var Xe=this;return(0,a.Z)(function*(){return gn(Xe.auth,X.Z(Xe._delegate,$e))})()}reauthenticateWithPhoneNumber($e,Xe){return ti(this.auth,X.r(this._delegate,$e,Xe))}reauthenticateWithPopup($e){return gn(this.auth,X.e(this._delegate,$e,Cn))}reauthenticateWithRedirect($e){var Xe=this;return(0,a.Z)(function*(){return yield Yt(X.aC(Xe.auth)),X.h(Xe._delegate,$e,Cn)})()}sendEmailVerification($e){return X.aa(this._delegate,$e)}unlink($e){var Xe=this;return(0,a.Z)(function*(){return yield X.aj(Xe._delegate,$e),Xe})()}updateEmail($e){return X.af(this._delegate,$e)}updatePassword($e){return X.ag(this._delegate,$e)}updatePhoneNumber($e){return X.u(this._delegate,$e)}updateProfile($e){return X.ae(this._delegate,$e)}verifyBeforeUpdateEmail($e,Xe){return X.ab(this._delegate,$e,Xe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}je.USER_MAP=new WeakMap;const St=X.aw;let ft=(()=>{class Ge{constructor(Xe,Lt){if(this.app=Xe,Lt.isInitialized())return this._delegate=Lt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:cn}=Xe.options;St(cn,"invalid-api-key",{appName:Xe.name});let In=[X.K];if("undefined"!=typeof window){In=function(Ge,$e){const Xe=Mt();if(!(null==Xe?void 0:Xe.sessionStorage))return[];const Lt=X.ay(Ur,Ge,$e);switch(Xe.sessionStorage.getItem(Lt)){case Zn.NONE:return[X.K];case Zn.LOCAL:return[X.i,X.a];case Zn.SESSION:return[X.a];default:return[]}}(cn,Xe.name);for(const On of[X.i,X.b,X.a])In.includes(On)||In.push(On)}St(cn,"invalid-api-key",{appName:Xe.name});const Wn="undefined"!=typeof window?Cn:void 0;this._delegate=Lt.initialize({options:{persistence:In,popupRedirectResolver:Wn}}),this._delegate._updateErrorMap(X.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?je.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Xe){this._delegate.languageCode=Xe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Xe){this._delegate.tenantId=Xe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Xe,Lt){X.E(this._delegate,Xe,Lt)}applyActionCode(Xe){return X.a1(this._delegate,Xe)}checkActionCode(Xe){return X.a2(this._delegate,Xe)}confirmPasswordReset(Xe,Lt){return X.a0(this._delegate,Xe,Lt)}createUserWithEmailAndPassword(Xe,Lt){var cn=this;return(0,a.Z)(function*(){return gn(cn._delegate,X.a4(cn._delegate,Xe,Lt))})()}fetchProvidersForEmail(Xe){return this.fetchSignInMethodsForEmail(Xe)}fetchSignInMethodsForEmail(Xe){return X.a9(this._delegate,Xe)}isSignInWithEmailLink(Xe){return X.a7(this._delegate,Xe)}getRedirectResult(){var Xe=this;return(0,a.Z)(function*(){St(Dr(),Xe._delegate,"operation-not-supported-in-this-environment");const Lt=yield X.j(Xe._delegate,Cn);return Lt?gn(Xe._delegate,Promise.resolve(Lt)):{credential:null,user:null}})()}addFrameworkForLogging(Xe){!function(Ge,$e){(0,X.aC)(Ge)._logFramework($e)}(this._delegate,Xe)}onAuthStateChanged(Xe,Lt,cn){const{next:In,error:Wn,complete:On}=Jt(Xe,Lt,cn);return this._delegate.onAuthStateChanged(In,Wn,On)}onIdTokenChanged(Xe,Lt,cn){const{next:In,error:Wn,complete:On}=Jt(Xe,Lt,cn);return this._delegate.onIdTokenChanged(In,Wn,On)}sendSignInLinkToEmail(Xe,Lt){return X.a6(this._delegate,Xe,Lt)}sendPasswordResetEmail(Xe,Lt){return X.$(this._delegate,Xe,Lt||void 0)}setPersistence(Xe){var Lt=this;return(0,a.Z)(function*(){let cn;switch(function(Ge,$e){qn(Object.values(Zn).includes($e),Ge,"invalid-persistence-type"),(0,He.b$)()?qn($e!==Zn.SESSION,Ge,"unsupported-persistence-type"):(0,He.UG)()?qn($e===Zn.NONE,Ge,"unsupported-persistence-type"):Jn()?qn($e===Zn.NONE||$e===Zn.LOCAL&&(0,He.hl)(),Ge,"unsupported-persistence-type"):qn($e===Zn.NONE||lr(),Ge,"unsupported-persistence-type")}(Lt._delegate,Xe),Xe){case Zn.SESSION:cn=X.a;break;case Zn.LOCAL:cn=(yield X.ax(X.i)._isAvailable())?X.i:X.b;break;case Zn.NONE:cn=X.K;break;default:return X.as("argument-error",{appName:Lt._delegate.name})}return Lt._delegate.setPersistence(cn)})()}signInAndRetrieveDataWithCredential(Xe){return this.signInWithCredential(Xe)}signInAnonymously(){return gn(this._delegate,X.W(this._delegate))}signInWithCredential(Xe){return gn(this._delegate,X.X(this._delegate,Xe))}signInWithCustomToken(Xe){return gn(this._delegate,X._(this._delegate,Xe))}signInWithEmailAndPassword(Xe,Lt){return gn(this._delegate,X.a5(this._delegate,Xe,Lt))}signInWithEmailLink(Xe,Lt){return gn(this._delegate,X.a8(this._delegate,Xe,Lt))}signInWithPhoneNumber(Xe,Lt){return ti(this._delegate,X.s(this._delegate,Xe,Lt))}signInWithPopup(Xe){var Lt=this;return(0,a.Z)(function*(){return St(Dr(),Lt._delegate,"operation-not-supported-in-this-environment"),gn(Lt._delegate,X.c(Lt._delegate,Xe,Cn))})()}signInWithRedirect(Xe){var Lt=this;return(0,a.Z)(function*(){return St(Dr(),Lt._delegate,"operation-not-supported-in-this-environment"),yield Yt(Lt._delegate),X.f(Lt._delegate,Xe,Cn)})()}updateCurrentUser(Xe){return this._delegate.updateCurrentUser(Xe)}verifyPasswordResetCode(Xe){return X.a3(this._delegate,Xe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ge.Persistence=Zn,Ge})();function Jt(Ge,$e,Xe){let Lt=Ge;"function"!=typeof Ge&&({next:Lt,error:$e,complete:Xe}=Ge);const cn=Lt;return{next:Wn=>cn(Wn&&je.getOrCreate(Wn)),error:$e,complete:Xe}}class Xt{constructor(){this.providerId="phone",this._delegate=new X.P(yn(C.Z.auth()))}static credential($e,Xe){return X.P.credential($e,Xe)}verifyPhoneNumber($e,Xe){return this._delegate.verifyPhoneNumber($e,Xe)}unwrap(){return this._delegate}}Xt.PHONE_SIGN_IN_METHOD=X.P.PHONE_SIGN_IN_METHOD,Xt.PROVIDER_ID=X.P.PROVIDER_ID;const er=X.aw;var Ge;(Ge=C.Z).INTERNAL.registerComponent(new fe.wA("auth-compat",$e=>{const Xe=$e.getProvider("app-compat").getImmediate(),Lt=$e.getProvider("auth");return new ft(Xe,Lt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:X.A.EMAIL_SIGNIN,PASSWORD_RESET:X.A.PASSWORD_RESET,RECOVER_EMAIL:X.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:X.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:X.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:X.A.VERIFY_EMAIL}},EmailAuthProvider:X.L,FacebookAuthProvider:X.M,GithubAuthProvider:X.Q,GoogleAuthProvider:X.N,OAuthProvider:X.T,SAMLAuthProvider:X.U,PhoneAuthProvider:Xt,PhoneMultiFactorGenerator:X.m,RecaptchaVerifier:class{constructor($e,Xe,Lt=C.Z.app()){var cn;er(null===(cn=Lt.options)||void 0===cn?void 0:cn.apiKey,"invalid-api-key",{appName:Lt.name}),this._delegate=new X.R($e,Xe,Lt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:X.V,Auth:ft,AuthCredential:X.G,Error:He.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ge.registerVersion("@firebase/auth-compat","0.2.4")},470:(rn,ht,F)=>{"use strict";F.d(ht,{KL:()=>kr,Gb:()=>In});var a=F(8239),X=(F(8094),F(1177)),He=F(4995),Te=F(4213),he=F(1572);const fe="/firebase-messaging-sw.js",Q="/firebase-cloud-messaging-push-scope",pe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",de="google.c.a.c_id",we="google.c.a.c_l",re="google.c.a.ts",Ce="google.c.a.e";var ye=(()=>{return(ot=ye||(ye={})).PUSH_RECEIVED="push-received",ot.NOTIFICATION_CLICKED="notification-clicked",ye;var ot})();function Ee(ot){const Ct=new Uint8Array(ot);return btoa(String.fromCharCode(...Ct)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Be(ot){const nn=(ot+"=".repeat((4-ot.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),xe=atob(nn),J=new Uint8Array(xe.length);for(let G=0;G<xe.length;++G)J[G]=xe.charCodeAt(G);return J}const Ne="fcm_token_details_db",Ie="fcm_token_object_Store";function st(ot){return lt.apply(this,arguments)}function lt(){return lt=(0,a.Z)(function*(ot){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(G=>G.name).includes(Ne))return null;let Ct=null;return(yield(0,He.openDb)(Ne,5,function(){var xe=(0,a.Z)(function*(J){var G;if(J.oldVersion<2||!J.objectStoreNames.contains(Ie))return;const De=J.transaction.objectStore(Ie),Ye=yield De.index("fcmSenderId").get(ot);if(yield De.clear(),Ye)if(2===J.oldVersion){const wt=Ye;if(!wt.auth||!wt.p256dh||!wt.endpoint)return;Ct={token:wt.fcmToken,createTime:null!==(G=wt.createTime)&&void 0!==G?G:Date.now(),subscriptionOptions:{auth:wt.auth,p256dh:wt.p256dh,endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:"string"==typeof wt.vapidKey?wt.vapidKey:Ee(wt.vapidKey)}}}else if(3===J.oldVersion){const wt=Ye;Ct={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:Ee(wt.auth),p256dh:Ee(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:Ee(wt.vapidKey)}}}else if(4===J.oldVersion){const wt=Ye;Ct={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:Ee(wt.auth),p256dh:Ee(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:Ee(wt.vapidKey)}}}});return function(J){return xe.apply(this,arguments)}}())).close(),yield(0,He.deleteDb)(Ne),yield(0,He.deleteDb)("fcm_vapid_details_db"),yield(0,He.deleteDb)("undefined"),Bt(Ct)?Ct:null}),lt.apply(this,arguments)}function Bt(ot){if(!ot||!ot.subscriptionOptions)return!1;const{subscriptionOptions:Ct}=ot;return"number"==typeof ot.createTime&&ot.createTime>0&&"string"==typeof ot.token&&ot.token.length>0&&"string"==typeof Ct.auth&&Ct.auth.length>0&&"string"==typeof Ct.p256dh&&Ct.p256dh.length>0&&"string"==typeof Ct.endpoint&&Ct.endpoint.length>0&&"string"==typeof Ct.swScope&&Ct.swScope.length>0&&"string"==typeof Ct.vapidKey&&Ct.vapidKey.length>0}const qe="firebase-messaging-store";let it=null;function Me(){return it||(it=(0,He.openDb)("firebase-messaging-database",1,ot=>{0===ot.oldVersion&&ot.createObjectStore(qe)})),it}function Ue(ot){return ut.apply(this,arguments)}function ut(){return(ut=(0,a.Z)(function*(ot){const Ct=pt(ot),xe=yield(yield Me()).transaction(qe).objectStore(qe).get(Ct);if(xe)return xe;{const J=yield st(ot.appConfig.senderId);if(J)return yield nt(ot,J),J}})).apply(this,arguments)}function nt(ot,Ct){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(ot,Ct){const nn=pt(ot),J=(yield Me()).transaction(qe,"readwrite");return yield J.objectStore(qe).put(Ct,nn),yield J.complete,Ct})).apply(this,arguments)}function tn(ot){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,a.Z)(function*(ot){const Ct=pt(ot),xe=(yield Me()).transaction(qe,"readwrite");yield xe.objectStore(qe).delete(Ct),yield xe.complete})).apply(this,arguments)}function pt({appConfig:ot}){return ot.appId}const Et=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Kt(ot,Ct){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(ot,Ct){const nn=yield ar(ot),xe=Nn(Ct),J={method:"POST",headers:nn,body:JSON.stringify(xe)};let G;try{G=yield(yield fetch(Sr(ot.appConfig),J)).json()}catch(De){throw Et.create("token-subscribe-failed",{errorInfo:De})}if(G.error)throw Et.create("token-subscribe-failed",{errorInfo:G.error.message});if(!G.token)throw Et.create("token-subscribe-no-token");return G.token})).apply(this,arguments)}function Pt(ot,Ct){return _n.apply(this,arguments)}function _n(){return(_n=(0,a.Z)(function*(ot,Ct){const nn=yield ar(ot),xe=Nn(Ct.subscriptionOptions),J={method:"PATCH",headers:nn,body:JSON.stringify(xe)};let G;try{G=yield(yield fetch(`${Sr(ot.appConfig)}/${Ct.token}`,J)).json()}catch(De){throw Et.create("token-update-failed",{errorInfo:De})}if(G.error)throw Et.create("token-update-failed",{errorInfo:G.error.message});if(!G.token)throw Et.create("token-update-no-token");return G.token})).apply(this,arguments)}function Ot(ot,Ct){return on.apply(this,arguments)}function on(){return(on=(0,a.Z)(function*(ot,Ct){const xe={method:"DELETE",headers:yield ar(ot)};try{const G=yield(yield fetch(`${Sr(ot.appConfig)}/${Ct}`,xe)).json();if(G.error)throw Et.create("token-unsubscribe-failed",{errorInfo:G.error.message})}catch(J){throw Et.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function Sr({projectId:ot}){return`https://fcmregistrations.googleapis.com/v1/projects/${ot}/registrations`}function ar(ot){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*({appConfig:ot,installations:Ct}){const nn=yield Ct.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ot.apiKey,"x-goog-firebase-installations-auth":`FIS ${nn}`})})).apply(this,arguments)}function Nn({p256dh:ot,auth:Ct,endpoint:nn,vapidKey:xe}){const J={web:{endpoint:nn,auth:Ct,p256dh:ot}};return xe!==pe&&(J.web.applicationPubKey=xe),J}const lr=6048e5;function Jn(ot){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,a.Z)(function*(ot){const Ct=yield Rn(ot.swRegistration,ot.vapidKey),nn={vapidKey:ot.vapidKey,swScope:ot.swRegistration.scope,endpoint:Ct.endpoint,auth:Ee(Ct.getKey("auth")),p256dh:Ee(Ct.getKey("p256dh"))},xe=yield Ue(ot.firebaseDependencies);if(xe){if(hn(xe.subscriptionOptions,nn))return Date.now()>=xe.createTime+lr?Tr(ot,{token:xe.token,createTime:Date.now(),subscriptionOptions:nn}):xe.token;try{yield Ot(ot.firebaseDependencies,xe.token)}catch(J){console.warn(J)}return qn(ot.firebaseDependencies,nn)}return qn(ot.firebaseDependencies,nn)})).apply(this,arguments)}function cr(ot){return pr.apply(this,arguments)}function pr(){return(pr=(0,a.Z)(function*(ot){const Ct=yield Ue(ot.firebaseDependencies);Ct&&(yield Ot(ot.firebaseDependencies,Ct.token),yield tn(ot.firebaseDependencies));const nn=yield ot.swRegistration.pushManager.getSubscription();return!nn||nn.unsubscribe()})).apply(this,arguments)}function Tr(ot,Ct){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,a.Z)(function*(ot,Ct){try{const nn=yield Pt(ot.firebaseDependencies,Ct),xe=Object.assign(Object.assign({},Ct),{token:nn,createTime:Date.now()});return yield nt(ot.firebaseDependencies,xe),nn}catch(nn){throw yield cr(ot),nn}})).apply(this,arguments)}function qn(ot,Ct){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,a.Z)(function*(ot,Ct){const xe={token:yield Kt(ot,Ct),createTime:Date.now(),subscriptionOptions:Ct};return yield nt(ot,xe),xe.token})).apply(this,arguments)}function Rn(ot,Ct){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(ot,Ct){return(yield ot.pushManager.getSubscription())||ot.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Be(Ct)})})).apply(this,arguments)}function hn(ot,Ct){return Ct.vapidKey===ot.vapidKey&&Ct.endpoint===ot.endpoint&&Ct.auth===ot.auth&&Ct.p256dh===ot.p256dh}function gr(ot){const Ct={from:ot.from,collapseKey:ot.collapse_key,messageId:ot.fcm_message_id};return function(ot,Ct){if(!Ct.notification)return;ot.notification={};const nn=Ct.notification.title;nn&&(ot.notification.title=nn);const xe=Ct.notification.body;xe&&(ot.notification.body=xe);const J=Ct.notification.image;J&&(ot.notification.image=J)}(Ct,ot),function(ot,Ct){!Ct.data||(ot.data=Ct.data)}(Ct,ot),function(ot,Ct){if(!Ct.fcmOptions)return;ot.fcmOptions={};const nn=Ct.fcmOptions.link;nn&&(ot.fcmOptions.link=nn);const xe=Ct.fcmOptions.analytics_label;xe&&(ot.fcmOptions.analyticsLabel=xe)}(Ct,ot),Ct}function yn(ot){return"object"==typeof ot&&!!ot&&de in ot}function Er(ot,Ct){const nn=[];for(let xe=0;xe<ot.length;xe++)nn.push(ot.charAt(xe)),xe<Ct.length&&nn.push(Ct.charAt(xe));return nn.join("")}function Pr(ot){return Et.create("missing-app-config-values",{valueName:ot})}Er("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Er("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fr{constructor(Ct,nn,xe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function(ot){if(!ot||!ot.options)throw Pr("App Configuration Object");if(!ot.name)throw Pr("App Name");const Ct=["projectId","apiKey","appId","messagingSenderId"],{options:nn}=ot;for(const xe of Ct)if(!nn[xe])throw Pr(xe);return{appName:ot.name,projectId:nn.projectId,apiKey:nn.apiKey,appId:nn.appId,senderId:nn.messagingSenderId}}(Ct);this.firebaseDependencies={app:Ct,appConfig:J,installations:nn,analyticsProvider:xe}}_delete(){return Promise.resolve()}}function gn(ot){return ti.apply(this,arguments)}function ti(){return(ti=(0,a.Z)(function*(ot){try{ot.swRegistration=yield navigator.serviceWorker.register(fe,{scope:Q}),ot.swRegistration.update().catch(()=>{})}catch(Ct){throw Et.create("failed-service-worker-registration",{browserErrorMessage:Ct.message})}})).apply(this,arguments)}function Ke(ot,Ct){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,a.Z)(function*(ot,Ct){if(!Ct&&!ot.swRegistration&&(yield gn(ot)),Ct||!ot.swRegistration){if(!(Ct instanceof ServiceWorkerRegistration))throw Et.create("invalid-sw-registration");ot.swRegistration=Ct}})).apply(this,arguments)}function je(ot,Ct){return St.apply(this,arguments)}function St(){return(St=(0,a.Z)(function*(ot,Ct){Ct?ot.vapidKey=Ct:ot.vapidKey||(ot.vapidKey=pe)})).apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(ot,Ct){if(!navigator)throw Et.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Et.create("permission-blocked");return yield je(ot,null==Ct?void 0:Ct.vapidKey),yield Ke(ot,null==Ct?void 0:Ct.serviceWorkerRegistration),Jn(ot)})).apply(this,arguments)}function Xt(ot,Ct,nn){return er.apply(this,arguments)}function er(){return(er=(0,a.Z)(function*(ot,Ct,nn){const xe=Cr(Ct);(yield ot.firebaseDependencies.analyticsProvider.get()).logEvent(xe,{message_id:nn[de],message_name:nn[we],message_time:nn[re],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Cr(ot){switch(ot){case ye.NOTIFICATION_CLICKED:return"notification_open";case ye.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function xr(){return(xr=(0,a.Z)(function*(ot,Ct){const nn=Ct.data;if(!nn.isFirebaseMessaging)return;ot.onMessageHandler&&nn.messageType===ye.PUSH_RECEIVED&&("function"==typeof ot.onMessageHandler?ot.onMessageHandler(gr(nn)):ot.onMessageHandler.next(gr(nn)));const xe=nn.data;yn(xe)&&"1"===xe[Ce]&&(yield Xt(ot,nn.messageType,xe))})).apply(this,arguments)}const Ge="@firebase/messaging";function In(){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(){return"undefined"!=typeof window&&(0,Te.hl)()&&(yield(0,Te.eu)())&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function kr(ot=(0,he.getApp)()){return In().then(Ct=>{if(!Ct)throw Et.create("unsupported-browser")},Ct=>{throw Et.create("indexed-db-unsupported")}),(0,he._getProvider)((0,Te.m9)(ot),"messaging").getImmediate()}(0,he._registerComponent)(new X.wA("messaging",ot=>{const Ct=new Fr(ot.getProvider("app").getImmediate(),ot.getProvider("installations-internal").getImmediate(),ot.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",nn=>function(ot,Ct){return xr.apply(this,arguments)}(Ct,nn)),Ct},"PUBLIC")),(0,he._registerComponent)(new X.wA("messaging-internal",ot=>{const Ct=ot.getProvider("messaging").getImmediate();return{getToken:xe=>function(ot,Ct){return Jt.apply(this,arguments)}(Ct,xe)}},"PRIVATE")),(0,he.registerVersion)(Ge,"0.9.4"),(0,he.registerVersion)(Ge,"0.9.4","esm2017")},4995:function(rn,ht){!function(F){"use strict";function a(Ee){return Array.prototype.slice.call(Ee)}function C(Ee){return new Promise(function(Be,Ne){Ee.onsuccess=function(){Be(Ee.result)},Ee.onerror=function(){Ne(Ee.error)}})}function X(Ee,Be,Ne){var _e,Ie=new Promise(function(st,lt){C(_e=Ee[Be].apply(Ee,Ne)).then(st,lt)});return Ie.request=_e,Ie}function He(Ee,Be,Ne){var _e=X(Ee,Be,Ne);return _e.then(function(Ie){if(Ie)return new ee(Ie,_e.request)})}function Te(Ee,Be,Ne){Ne.forEach(function(_e){Object.defineProperty(Ee.prototype,_e,{get:function(){return this[Be][_e]},set:function(Ie){this[Be][_e]=Ie}})})}function he(Ee,Be,Ne,_e){_e.forEach(function(Ie){Ie in Ne.prototype&&(Ee.prototype[Ie]=function(){return X(this[Be],Ie,arguments)})})}function fe(Ee,Be,Ne,_e){_e.forEach(function(Ie){Ie in Ne.prototype&&(Ee.prototype[Ie]=function(){return this[Be][Ie].apply(this[Be],arguments)})})}function Q(Ee,Be,Ne,_e){_e.forEach(function(Ie){Ie in Ne.prototype&&(Ee.prototype[Ie]=function(){return He(this[Be],Ie,arguments)})})}function pe(Ee){this._index=Ee}function ee(Ee,Be){this._cursor=Ee,this._request=Be}function de(Ee){this._store=Ee}function we(Ee){this._tx=Ee,this.complete=new Promise(function(Be,Ne){Ee.oncomplete=function(){Be()},Ee.onerror=function(){Ne(Ee.error)},Ee.onabort=function(){Ne(Ee.error)}})}function re(Ee,Be,Ne){this._db=Ee,this.oldVersion=Be,this.transaction=new we(Ne)}function Ce(Ee){this._db=Ee}Te(pe,"_index",["name","keyPath","multiEntry","unique"]),he(pe,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Q(pe,"_index",IDBIndex,["openCursor","openKeyCursor"]),Te(ee,"_cursor",["direction","key","primaryKey","value"]),he(ee,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ee){Ee in IDBCursor.prototype&&(ee.prototype[Ee]=function(){var Be=this,Ne=arguments;return Promise.resolve().then(function(){return Be._cursor[Ee].apply(Be._cursor,Ne),C(Be._request).then(function(_e){if(_e)return new ee(_e,Be._request)})})})}),de.prototype.createIndex=function(){return new pe(this._store.createIndex.apply(this._store,arguments))},de.prototype.index=function(){return new pe(this._store.index.apply(this._store,arguments))},Te(de,"_store",["name","keyPath","indexNames","autoIncrement"]),he(de,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Q(de,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),fe(de,"_store",IDBObjectStore,["deleteIndex"]),we.prototype.objectStore=function(){return new de(this._tx.objectStore.apply(this._tx,arguments))},Te(we,"_tx",["objectStoreNames","mode"]),fe(we,"_tx",IDBTransaction,["abort"]),re.prototype.createObjectStore=function(){return new de(this._db.createObjectStore.apply(this._db,arguments))},Te(re,"_db",["name","version","objectStoreNames"]),fe(re,"_db",IDBDatabase,["deleteObjectStore","close"]),Ce.prototype.transaction=function(){return new we(this._db.transaction.apply(this._db,arguments))},Te(Ce,"_db",["name","version","objectStoreNames"]),fe(Ce,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ee){[de,pe].forEach(function(Be){Ee in Be.prototype&&(Be.prototype[Ee.replace("open","iterate")]=function(){var Ne=a(arguments),_e=Ne[Ne.length-1],Ie=this._store||this._index,st=Ie[Ee].apply(Ie,Ne.slice(0,-1));st.onsuccess=function(){_e(st.result)}})})}),[pe,de].forEach(function(Ee){Ee.prototype.getAll||(Ee.prototype.getAll=function(Be,Ne){var _e=this,Ie=[];return new Promise(function(st){_e.iterateCursor(Be,function(lt){lt?(Ie.push(lt.value),void 0===Ne||Ie.length!=Ne?lt.continue():st(Ie)):st(Ie)})})})}),F.openDb=function(Ee,Be,Ne){var _e=X(indexedDB,"open",[Ee,Be]),Ie=_e.request;return Ie&&(Ie.onupgradeneeded=function(st){Ne&&Ne(new re(Ie.result,st.oldVersion,Ie.transaction))}),_e.then(function(st){return new Ce(st)})},F.deleteDb=function(Ee){return X(indexedDB,"deleteDatabase",[Ee])},Object.defineProperty(F,"__esModule",{value:!0})}(ht)},4099:(rn,ht,F)=>{"use strict";F.d(ht,{X:()=>X});var a=F(3405),C=F(2108);class X extends a.xQ{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const he=super._subscribe(Te);return he&&!he.closed&&Te.next(this._value),he}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C.N;return this._value}next(Te){super.next(this._value=Te)}}},5548:(rn,ht,F)=>{"use strict";F.d(ht,{y:()=>de});var a=F(4168),X=F(2926),He=F(6617),he=F(1359),fe=F(7255);var ee=F(5426);let de=(()=>{class re{constructor(We){this._isScalar=!1,We&&(this._subscribe=We)}lift(We){const ye=new re;return ye.source=this,ye.operator=We,ye}subscribe(We,ye,Ee){const{operator:Be}=this,Ne=function(re,Ce,We){if(re){if(re instanceof a.L)return re;if(re[X.b])return re[X.b]()}return re||Ce||We?new a.L(re,Ce,We):new a.L(He.c)}(We,ye,Ee);if(Ne.add(Be?Be.call(Ne,this.source):this.source||ee.v.useDeprecatedSynchronousErrorHandling&&!Ne.syncErrorThrowable?this._subscribe(Ne):this._trySubscribe(Ne)),ee.v.useDeprecatedSynchronousErrorHandling&&Ne.syncErrorThrowable&&(Ne.syncErrorThrowable=!1,Ne.syncErrorThrown))throw Ne.syncErrorValue;return Ne}_trySubscribe(We){try{return this._subscribe(We)}catch(ye){ee.v.useDeprecatedSynchronousErrorHandling&&(We.syncErrorThrown=!0,We.syncErrorValue=ye),function(re){for(;re;){const{closed:Ce,destination:We,isStopped:ye}=re;if(Ce||ye)return!1;re=We&&We instanceof a.L?We:null}return!0}(We)?We.error(ye):console.warn(ye)}}forEach(We,ye){return new(ye=we(ye))((Ee,Be)=>{let Ne;Ne=this.subscribe(_e=>{try{We(_e)}catch(Ie){Be(Ie),Ne&&Ne.unsubscribe()}},Be,Ee)})}_subscribe(We){const{source:ye}=this;return ye&&ye.subscribe(We)}[he.L](){return this}pipe(...We){return 0===We.length?this:function(re){return 0===re.length?fe.y:1===re.length?re[0]:function(We){return re.reduce((ye,Ee)=>Ee(ye),We)}}(We)(this)}toPromise(We){return new(We=we(We))((ye,Ee)=>{let Be;this.subscribe(Ne=>Be=Ne,Ne=>Ee(Ne),()=>ye(Be))})}}return re.create=Ce=>new re(Ce),re})();function we(re){if(re||(re=ee.v.Promise||Promise),!re)throw new Error("no Promise impl found");return re}},6617:(rn,ht,F)=>{"use strict";F.d(ht,{c:()=>X});var a=F(5426),C=F(9887);const X={closed:!0,next(He){},error(He){if(a.v.useDeprecatedSynchronousErrorHandling)throw He;(0,C.z)(He)},complete(){}}},3405:(rn,ht,F)=>{"use strict";F.d(ht,{Yc:()=>fe,xQ:()=>Q});var a=F(5548),C=F(4168),X=F(1346),He=F(2108),Te=F(5973),he=F(2926);class fe extends C.L{constructor(de){super(de),this.destination=de}}let Q=(()=>{class ee extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[he.b](){return new fe(this)}lift(we){const re=new pe(this,this);return re.operator=we,re}next(we){if(this.closed)throw new He.N;if(!this.isStopped){const{observers:re}=this,Ce=re.length,We=re.slice();for(let ye=0;ye<Ce;ye++)We[ye].next(we)}}error(we){if(this.closed)throw new He.N;this.hasError=!0,this.thrownError=we,this.isStopped=!0;const{observers:re}=this,Ce=re.length,We=re.slice();for(let ye=0;ye<Ce;ye++)We[ye].error(we);this.observers.length=0}complete(){if(this.closed)throw new He.N;this.isStopped=!0;const{observers:we}=this,re=we.length,Ce=we.slice();for(let We=0;We<re;We++)Ce[We].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(we){if(this.closed)throw new He.N;return super._trySubscribe(we)}_subscribe(we){if(this.closed)throw new He.N;return this.hasError?(we.error(this.thrownError),X.w.EMPTY):this.isStopped?(we.complete(),X.w.EMPTY):(this.observers.push(we),new Te.W(this,we))}asObservable(){const we=new a.y;return we.source=this,we}}return ee.create=(de,we)=>new pe(de,we),ee})();class pe extends Q{constructor(de,we){super(),this.destination=de,this.source=we}next(de){const{destination:we}=this;we&&we.next&&we.next(de)}error(de){const{destination:we}=this;we&&we.error&&this.destination.error(de)}complete(){const{destination:de}=this;de&&de.complete&&this.destination.complete()}_subscribe(de){const{source:we}=this;return we?this.source.subscribe(de):X.w.EMPTY}}},5973:(rn,ht,F)=>{"use strict";F.d(ht,{W:()=>C});var a=F(1346);class C extends a.w{constructor(He,Te){super(),this.subject=He,this.subscriber=Te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const He=this.subject,Te=He.observers;if(this.subject=null,!Te||0===Te.length||He.isStopped||He.closed)return;const he=Te.indexOf(this.subscriber);-1!==he&&Te.splice(he,1)}}},4168:(rn,ht,F)=>{"use strict";F.d(ht,{L:()=>fe});var a=F(6783),C=F(6617),X=F(1346),He=F(2926),Te=F(5426),he=F(9887);class fe extends X.w{constructor(ee,de,we){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=C.c;break;case 1:if(!ee){this.destination=C.c;break}if("object"==typeof ee){ee instanceof fe?(this.syncErrorThrowable=ee.syncErrorThrowable,this.destination=ee,ee.add(this)):(this.syncErrorThrowable=!0,this.destination=new Q(this,ee));break}default:this.syncErrorThrowable=!0,this.destination=new Q(this,ee,de,we)}}[He.b](){return this}static create(ee,de,we){const re=new fe(ee,de,we);return re.syncErrorThrowable=!1,re}next(ee){this.isStopped||this._next(ee)}error(ee){this.isStopped||(this.isStopped=!0,this._error(ee))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ee){this.destination.next(ee)}_error(ee){this.destination.error(ee),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ee}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ee,this}}class Q extends fe{constructor(ee,de,we,re){super(),this._parentSubscriber=ee;let Ce,We=this;(0,a.m)(de)?Ce=de:de&&(Ce=de.next,we=de.error,re=de.complete,de!==C.c&&(We=Object.create(de),(0,a.m)(We.unsubscribe)&&this.add(We.unsubscribe.bind(We)),We.unsubscribe=this.unsubscribe.bind(this))),this._context=We,this._next=Ce,this._error=we,this._complete=re}next(ee){if(!this.isStopped&&this._next){const{_parentSubscriber:de}=this;Te.v.useDeprecatedSynchronousErrorHandling&&de.syncErrorThrowable?this.__tryOrSetError(de,this._next,ee)&&this.unsubscribe():this.__tryOrUnsub(this._next,ee)}}error(ee){if(!this.isStopped){const{_parentSubscriber:de}=this,{useDeprecatedSynchronousErrorHandling:we}=Te.v;if(this._error)we&&de.syncErrorThrowable?(this.__tryOrSetError(de,this._error,ee),this.unsubscribe()):(this.__tryOrUnsub(this._error,ee),this.unsubscribe());else if(de.syncErrorThrowable)we?(de.syncErrorValue=ee,de.syncErrorThrown=!0):(0,he.z)(ee),this.unsubscribe();else{if(this.unsubscribe(),we)throw ee;(0,he.z)(ee)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ee}=this;if(this._complete){const de=()=>this._complete.call(this._context);Te.v.useDeprecatedSynchronousErrorHandling&&ee.syncErrorThrowable?(this.__tryOrSetError(ee,de),this.unsubscribe()):(this.__tryOrUnsub(de),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ee,de){try{ee.call(this._context,de)}catch(we){if(this.unsubscribe(),Te.v.useDeprecatedSynchronousErrorHandling)throw we;(0,he.z)(we)}}__tryOrSetError(ee,de,we){if(!Te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{de.call(this._context,we)}catch(re){return Te.v.useDeprecatedSynchronousErrorHandling?(ee.syncErrorValue=re,ee.syncErrorThrown=!0,!0):((0,he.z)(re),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ee}=this;this._context=null,this._parentSubscriber=null,ee.unsubscribe()}}},1346:(rn,ht,F)=>{"use strict";F.d(ht,{w:()=>he});var a=F(5894),C=F(7879),X=F(6783);const Te=(()=>{function Q(pe){return Error.call(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((ee,de)=>`${de+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe,this}return Q.prototype=Object.create(Error.prototype),Q})();class he{constructor(pe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,pe&&(this._ctorUnsubscribe=!0,this._unsubscribe=pe)}unsubscribe(){let pe;if(this.closed)return;let{_parentOrParents:ee,_ctorUnsubscribe:de,_unsubscribe:we,_subscriptions:re}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ee instanceof he)ee.remove(this);else if(null!==ee)for(let Ce=0;Ce<ee.length;++Ce)ee[Ce].remove(this);if((0,X.m)(we)){de&&(this._unsubscribe=void 0);try{we.call(this)}catch(Ce){pe=Ce instanceof Te?fe(Ce.errors):[Ce]}}if((0,a.k)(re)){let Ce=-1,We=re.length;for(;++Ce<We;){const ye=re[Ce];if((0,C.K)(ye))try{ye.unsubscribe()}catch(Ee){pe=pe||[],Ee instanceof Te?pe=pe.concat(fe(Ee.errors)):pe.push(Ee)}}}if(pe)throw new Te(pe)}add(pe){let ee=pe;if(!pe)return he.EMPTY;switch(typeof pe){case"function":ee=new he(pe);case"object":if(ee===this||ee.closed||"function"!=typeof ee.unsubscribe)return ee;if(this.closed)return ee.unsubscribe(),ee;if(!(ee instanceof he)){const re=ee;ee=new he,ee._subscriptions=[re]}break;default:throw new Error("unrecognized teardown "+pe+" added to Subscription.")}let{_parentOrParents:de}=ee;if(null===de)ee._parentOrParents=this;else if(de instanceof he){if(de===this)return ee;ee._parentOrParents=[de,this]}else{if(-1!==de.indexOf(this))return ee;de.push(this)}const we=this._subscriptions;return null===we?this._subscriptions=[ee]:we.push(ee),ee}remove(pe){const ee=this._subscriptions;if(ee){const de=ee.indexOf(pe);-1!==de&&ee.splice(de,1)}}}var Q;function fe(Q){return Q.reduce((pe,ee)=>pe.concat(ee instanceof Te?ee.errors:ee),[])}he.EMPTY=((Q=new he).closed=!0,Q)},5426:(rn,ht,F)=>{"use strict";F.d(ht,{v:()=>C});let a=!1;const C={Promise:void 0,set useDeprecatedSynchronousErrorHandling(X){if(X){const He=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+He.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=X},get useDeprecatedSynchronousErrorHandling(){return a}}},8345:(rn,ht,F)=>{"use strict";F.d(ht,{IY:()=>He,Ds:()=>he,ft:()=>Q});var a=F(4168),C=F(5548),X=F(4651);class He extends a.L{constructor(ee){super(),this.parent=ee}_next(ee){this.parent.notifyNext(ee)}_error(ee){this.parent.notifyError(ee),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class he extends a.L{notifyNext(ee){this.destination.next(ee)}notifyError(ee){this.destination.error(ee)}notifyComplete(){this.destination.complete()}}function Q(pe,ee){if(ee.closed)return;if(pe instanceof C.y)return pe.subscribe(ee);let de;try{de=(0,X.s)(pe)(ee)}catch(we){ee.error(we)}return de}},5783:(rn,ht,F)=>{"use strict";F.d(ht,{c:()=>Te,N:()=>he});var a=F(3405),C=F(5548),X=F(1346),He=F(5234);class Te extends C.y{constructor(de,we){super(),this.source=de,this.subjectFactory=we,this._refCount=0,this._isComplete=!1}_subscribe(de){return this.getSubject().subscribe(de)}getSubject(){const de=this._subject;return(!de||de.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let de=this._connection;return de||(this._isComplete=!1,de=this._connection=new X.w,de.add(this.source.subscribe(new fe(this.getSubject(),this))),de.closed&&(this._connection=null,de=X.w.EMPTY)),de}refCount(){return(0,He.x)()(this)}}const he=(()=>{const ee=Te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ee._subscribe},_isComplete:{value:ee._isComplete,writable:!0},getSubject:{value:ee.getSubject},connect:{value:ee.connect},refCount:{value:ee.refCount}}})();class fe extends a.Yc{constructor(de,we){super(de),this.connectable=we}_error(de){this._unsubscribe(),super._error(de)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const de=this.connectable;if(de){this.connectable=null;const we=de._connection;de._refCount=0,de._subject=null,de._connection=null,we&&we.unsubscribe()}}}},3596:(rn,ht,F)=>{"use strict";F.d(ht,{z:()=>He});var a=F(2411),C=F(2225);function He(...Te){return(0,C.J)(1)((0,a.of)(...Te))}},172:(rn,ht,F)=>{"use strict";F.d(ht,{E:()=>C,c:()=>X});var a=F(5548);const C=new a.y(Te=>Te.complete());function X(Te){return Te?function(Te){return new a.y(he=>Te.schedule(()=>he.complete()))}(Te):C}},1915:(rn,ht,F)=>{"use strict";F.d(ht,{D:()=>We});var a=F(5548),C=F(4651),X=F(1346),He=F(1359),fe=F(3428),Q=F(4352),de=F(847),we=F(1265);function We(ye,Ee){return Ee?function(ye,Ee){if(null!=ye){if(function(ye){return ye&&"function"==typeof ye[He.L]}(ye))return function(ye,Ee){return new a.y(Be=>{const Ne=new X.w;return Ne.add(Ee.schedule(()=>{const _e=ye[He.L]();Ne.add(_e.subscribe({next(Ie){Ne.add(Ee.schedule(()=>Be.next(Ie)))},error(Ie){Ne.add(Ee.schedule(()=>Be.error(Ie)))},complete(){Ne.add(Ee.schedule(()=>Be.complete()))}}))})),Ne})}(ye,Ee);if((0,de.t)(ye))return function(ye,Ee){return new a.y(Be=>{const Ne=new X.w;return Ne.add(Ee.schedule(()=>ye.then(_e=>{Ne.add(Ee.schedule(()=>{Be.next(_e),Ne.add(Ee.schedule(()=>Be.complete()))}))},_e=>{Ne.add(Ee.schedule(()=>Be.error(_e)))}))),Ne})}(ye,Ee);if((0,we.z)(ye))return(0,fe.r)(ye,Ee);if(function(ye){return ye&&"function"==typeof ye[Q.hZ]}(ye)||"string"==typeof ye)return function(ye,Ee){if(!ye)throw new Error("Iterable cannot be null");return new a.y(Be=>{const Ne=new X.w;let _e;return Ne.add(()=>{_e&&"function"==typeof _e.return&&_e.return()}),Ne.add(Ee.schedule(()=>{_e=ye[Q.hZ](),Ne.add(Ee.schedule(function(){if(Be.closed)return;let Ie,st;try{const lt=_e.next();Ie=lt.value,st=lt.done}catch(lt){return void Be.error(lt)}st?Be.complete():(Be.next(Ie),this.schedule())}))})),Ne})}(ye,Ee)}throw new TypeError((null!==ye&&typeof ye||ye)+" is not observable")}(ye,Ee):ye instanceof a.y?ye:new a.y((0,C.s)(ye))}},5433:(rn,ht,F)=>{"use strict";F.d(ht,{n:()=>He});var a=F(5548),C=F(8769),X=F(3428);function He(Te,he){return he?(0,X.r)(Te,he):new a.y((0,C.V)(Te))}},8526:(rn,ht,F)=>{"use strict";F.d(ht,{T:()=>Te});var a=F(5548),C=F(8151),X=F(2225),He=F(5433);function Te(...he){let fe=Number.POSITIVE_INFINITY,Q=null,pe=he[he.length-1];return(0,C.K)(pe)?(Q=he.pop(),he.length>1&&"number"==typeof he[he.length-1]&&(fe=he.pop())):"number"==typeof pe&&(fe=he.pop()),null===Q&&1===he.length&&he[0]instanceof a.y?he[0]:(0,X.J)(fe)((0,He.n)(he,Q))}},2411:(rn,ht,F)=>{"use strict";F.d(ht,{of:()=>He});var a=F(8151),C=F(5433),X=F(3428);function He(...Te){let he=Te[Te.length-1];return(0,a.K)(he)?(Te.pop(),(0,X.r)(Te,he)):(0,C.n)(Te)}},3507:(rn,ht,F)=>{"use strict";F.d(ht,{d:()=>C});var a=F(4168);function C(Te=null){return he=>he.lift(new X(Te))}class X{constructor(he){this.defaultValue=he}call(he,fe){return fe.subscribe(new He(he,this.defaultValue))}}class He extends a.L{constructor(he,fe){super(he),this.defaultValue=fe,this.isEmpty=!0}_next(he){this.isEmpty=!1,this.destination.next(he)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5389:(rn,ht,F)=>{"use strict";F.d(ht,{x:()=>C});var a=F(4168);function C(Te,he){return fe=>fe.lift(new X(Te,he))}class X{constructor(he,fe){this.compare=he,this.keySelector=fe}call(he,fe){return fe.subscribe(new He(he,this.compare,this.keySelector))}}class He extends a.L{constructor(he,fe,Q){super(he),this.keySelector=Q,this.hasKey=!1,"function"==typeof fe&&(this.compare=fe)}compare(he,fe){return he===fe}_next(he){let fe;try{const{keySelector:pe}=this;fe=pe?pe(he):he}catch(pe){return this.destination.error(pe)}let Q=!1;if(this.hasKey)try{const{compare:pe}=this;Q=pe(this.key,fe)}catch(pe){return this.destination.error(pe)}else this.hasKey=!0;Q||(this.key=fe,this.destination.next(he))}}},8735:(rn,ht,F)=>{"use strict";F.d(ht,{h:()=>C});var a=F(4168);function C(Te,he){return function(Q){return Q.lift(new X(Te,he))}}class X{constructor(he,fe){this.predicate=he,this.thisArg=fe}call(he,fe){return fe.subscribe(new He(he,this.predicate,this.thisArg))}}class He extends a.L{constructor(he,fe,Q){super(he),this.predicate=fe,this.thisArg=Q,this.count=0}_next(he){let fe;try{fe=this.predicate.call(this.thisArg,he,this.count++)}catch(Q){return void this.destination.error(Q)}fe&&this.destination.next(he)}}},739:(rn,ht,F)=>{"use strict";F.d(ht,{P:()=>fe});var a=F(9443),C=F(8735),X=F(6636),He=F(3507),Te=F(6225),he=F(7255);function fe(Q,pe){const ee=arguments.length>=2;return de=>de.pipe(Q?(0,C.h)((we,re)=>Q(we,re,de)):he.y,(0,X.q)(1),ee?(0,He.d)(pe):(0,Te.T)(()=>new a.K))}},8053:(rn,ht,F)=>{"use strict";F.d(ht,{U:()=>C});var a=F(4168);function C(Te,he){return function(Q){if("function"!=typeof Te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Q.lift(new X(Te,he))}}class X{constructor(he,fe){this.project=he,this.thisArg=fe}call(he,fe){return fe.subscribe(new He(he,this.project,this.thisArg))}}class He extends a.L{constructor(he,fe,Q){super(he),this.project=fe,this.count=0,this.thisArg=Q||this}_next(he){let fe;try{fe=this.project.call(this.thisArg,he,this.count++)}catch(Q){return void this.destination.error(Q)}this.destination.next(fe)}}},2225:(rn,ht,F)=>{"use strict";F.d(ht,{J:()=>X});var a=F(4421),C=F(7255);function X(He=Number.POSITIVE_INFINITY){return(0,a.zg)(C.y,He)}},4421:(rn,ht,F)=>{"use strict";F.d(ht,{zg:()=>He});var a=F(8053),C=F(1915),X=F(8345);function He(Q,pe,ee=Number.POSITIVE_INFINITY){return"function"==typeof pe?de=>de.pipe(He((we,re)=>(0,C.D)(Q(we,re)).pipe((0,a.U)((Ce,We)=>pe(we,Ce,re,We))),ee)):("number"==typeof pe&&(ee=pe),de=>de.lift(new Te(Q,ee)))}class Te{constructor(pe,ee=Number.POSITIVE_INFINITY){this.project=pe,this.concurrent=ee}call(pe,ee){return ee.subscribe(new he(pe,this.project,this.concurrent))}}class he extends X.Ds{constructor(pe,ee,de=Number.POSITIVE_INFINITY){super(pe),this.project=ee,this.concurrent=de,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(pe){this.active<this.concurrent?this._tryNext(pe):this.buffer.push(pe)}_tryNext(pe){let ee;const de=this.index++;try{ee=this.project(pe,de)}catch(we){return void this.destination.error(we)}this.active++,this._innerSub(ee)}_innerSub(pe){const ee=new X.IY(this),de=this.destination;de.add(ee);const we=(0,X.ft)(pe,ee);we!==ee&&de.add(we)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(pe){this.destination.next(pe)}notifyComplete(){const pe=this.buffer;this.active--,pe.length>0?this._next(pe.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9254:(rn,ht,F)=>{"use strict";F.d(ht,{ht:()=>de,QV:()=>pe});var a=F(4168),C=F(172),X=F(2411),He=F(5548);class Q{constructor(Ce,We,ye){this.kind=Ce,this.value=We,this.error=ye,this.hasValue="N"===Ce}observe(Ce){switch(this.kind){case"N":return Ce.next&&Ce.next(this.value);case"E":return Ce.error&&Ce.error(this.error);case"C":return Ce.complete&&Ce.complete()}}do(Ce,We,ye){switch(this.kind){case"N":return Ce&&Ce(this.value);case"E":return We&&We(this.error);case"C":return ye&&ye()}}accept(Ce,We,ye){return Ce&&"function"==typeof Ce.next?this.observe(Ce):this.do(Ce,We,ye)}toObservable(){switch(this.kind){case"N":return(0,X.of)(this.value);case"E":return re=this.error,new He.y(We=>We.error(re));case"C":return(0,C.c)()}var re;throw new Error("unexpected notification kind value")}static createNext(Ce){return void 0!==Ce?new Q("N",Ce):Q.undefinedValueNotification}static createError(Ce){return new Q("E",void 0,Ce)}static createComplete(){return Q.completeNotification}}function pe(re,Ce=0){return function(ye){return ye.lift(new ee(re,Ce))}}Q.completeNotification=new Q("C"),Q.undefinedValueNotification=new Q("N",void 0);class ee{constructor(Ce,We=0){this.scheduler=Ce,this.delay=We}call(Ce,We){return We.subscribe(new de(Ce,this.scheduler,this.delay))}}class de extends a.L{constructor(Ce,We,ye=0){super(Ce),this.scheduler=We,this.delay=ye}static dispatch(Ce){const{notification:We,destination:ye}=Ce;We.observe(ye),this.unsubscribe()}scheduleMessage(Ce){this.destination.add(this.scheduler.schedule(de.dispatch,this.delay,new we(Ce,this.destination)))}_next(Ce){this.scheduleMessage(Q.createNext(Ce))}_error(Ce){this.scheduleMessage(Q.createError(Ce)),this.unsubscribe()}_complete(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()}}class we{constructor(Ce,We){this.notification=Ce,this.destination=We}}},5234:(rn,ht,F)=>{"use strict";F.d(ht,{x:()=>C});var a=F(4168);function C(){return function(he){return he.lift(new X(he))}}class X{constructor(he){this.connectable=he}call(he,fe){const{connectable:Q}=this;Q._refCount++;const pe=new He(he,Q),ee=fe.subscribe(pe);return pe.closed||(pe.connection=Q.connect()),ee}}class He extends a.L{constructor(he,fe){super(he),this.connectable=fe}_unsubscribe(){const{connectable:he}=this;if(!he)return void(this.connection=null);this.connectable=null;const fe=he._refCount;if(fe<=0)return void(this.connection=null);if(he._refCount=fe-1,fe>1)return void(this.connection=null);const{connection:Q}=this,pe=he._connection;this.connection=null,pe&&(!Q||pe===Q)&&pe.unsubscribe()}}},7434:(rn,ht,F)=>{"use strict";F.d(ht,{R:()=>C});var a=F(4168);function C(Te,he){let fe=!1;return arguments.length>=2&&(fe=!0),function(pe){return pe.lift(new X(Te,he,fe))}}class X{constructor(he,fe,Q=!1){this.accumulator=he,this.seed=fe,this.hasSeed=Q}call(he,fe){return fe.subscribe(new He(he,this.accumulator,this.seed,this.hasSeed))}}class He extends a.L{constructor(he,fe,Q,pe){super(he),this.accumulator=fe,this._seed=Q,this.hasSeed=pe,this.index=0}get seed(){return this._seed}set seed(he){this.hasSeed=!0,this._seed=he}_next(he){if(this.hasSeed)return this._tryNext(he);this.seed=he,this.destination.next(he)}_tryNext(he){const fe=this.index++;let Q;try{Q=this.accumulator(this.seed,he,fe)}catch(pe){this.destination.error(pe)}this.seed=Q,this.destination.next(Q)}}},1125:(rn,ht,F)=>{"use strict";F.d(ht,{O:()=>X});var a=F(3596),C=F(8151);function X(...He){const Te=He[He.length-1];return(0,C.K)(Te)?(He.pop(),he=>(0,a.z)(He,he,Te)):he=>(0,a.z)(He,he)}},2698:(rn,ht,F)=>{"use strict";F.d(ht,{R:()=>Ee});var a=F(5548);let C=1;const X=Promise.resolve(),He={};function Te(Ne){return Ne in He&&(delete He[Ne],!0)}const he={setImmediate(Ne){const _e=C++;return He[_e]=!0,X.then(()=>Te(_e)&&Ne()),_e},clearImmediate(Ne){Te(Ne)}};var Q=F(6339),ee=F(5192);const re=new class extends ee.v{flush(_e){this.active=!0,this.scheduled=void 0;const{actions:Ie}=this;let st,lt=-1,Bt=Ie.length;_e=_e||Ie.shift();do{if(st=_e.execute(_e.state,_e.delay))break}while(++lt<Bt&&(_e=Ie.shift()));if(this.active=!1,st){for(;++lt<Bt&&(_e=Ie.shift());)_e.unsubscribe();throw st}}}(class extends Q.o{constructor(_e,Ie){super(_e,Ie),this.scheduler=_e,this.work=Ie}requestAsyncId(_e,Ie,st=0){return null!==st&&st>0?super.requestAsyncId(_e,Ie,st):(_e.actions.push(this),_e.scheduled||(_e.scheduled=he.setImmediate(_e.flush.bind(_e,null))))}recycleAsyncId(_e,Ie,st=0){if(null!==st&&st>0||null===st&&this.delay>0)return super.recycleAsyncId(_e,Ie,st);0===_e.actions.length&&(he.clearImmediate(Ie),_e.scheduled=void 0)}});var Ce=F(5894);class ye extends a.y{constructor(_e,Ie=0,st=re){var Ne;super(),this.source=_e,this.delayTime=Ie,this.scheduler=st,(!(!(0,Ce.k)(Ne=Ie)&&Ne-parseFloat(Ne)+1>=0)||Ie<0)&&(this.delayTime=0),(!st||"function"!=typeof st.schedule)&&(this.scheduler=re)}static create(_e,Ie=0,st=re){return new ye(_e,Ie,st)}static dispatch(_e){const{source:Ie,subscriber:st}=_e;return this.add(Ie.subscribe(st))}_subscribe(_e){return this.scheduler.schedule(ye.dispatch,this.delayTime,{source:this.source,subscriber:_e})}}function Ee(Ne,_e=0){return function(st){return st.lift(new Be(Ne,_e))}}class Be{constructor(_e,Ie){this.scheduler=_e,this.delay=Ie}call(_e,Ie){return new ye(Ie,this.delay,this.scheduler).subscribe(_e)}}},9204:(rn,ht,F)=>{"use strict";F.d(ht,{w:()=>He});var a=F(8053),C=F(1915),X=F(8345);function He(fe,Q){return"function"==typeof Q?pe=>pe.pipe(He((ee,de)=>(0,C.D)(fe(ee,de)).pipe((0,a.U)((we,re)=>Q(ee,we,de,re))))):pe=>pe.lift(new Te(fe))}class Te{constructor(Q){this.project=Q}call(Q,pe){return pe.subscribe(new he(Q,this.project))}}class he extends X.Ds{constructor(Q,pe){super(Q),this.project=pe,this.index=0}_next(Q){let pe;const ee=this.index++;try{pe=this.project(Q,ee)}catch(de){return void this.destination.error(de)}this._innerSub(pe)}_innerSub(Q){const pe=this.innerSubscription;pe&&pe.unsubscribe();const ee=new X.IY(this),de=this.destination;de.add(ee),this.innerSubscription=(0,X.ft)(Q,ee),this.innerSubscription!==ee&&de.add(this.innerSubscription)}_complete(){const{innerSubscription:Q}=this;(!Q||Q.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Q){this.destination.next(Q)}}},6636:(rn,ht,F)=>{"use strict";F.d(ht,{q:()=>He});var a=F(4168),C=F(523),X=F(172);function He(fe){return Q=>0===fe?(0,X.c)():Q.lift(new Te(fe))}class Te{constructor(Q){if(this.total=Q,this.total<0)throw new C.W}call(Q,pe){return pe.subscribe(new he(Q,this.total))}}class he extends a.L{constructor(Q,pe){super(Q),this.total=pe,this.count=0}_next(Q){const pe=this.total,ee=++this.count;ee<=pe&&(this.destination.next(Q),ee===pe&&(this.destination.complete(),this.unsubscribe()))}}},5722:(rn,ht,F)=>{"use strict";F.d(ht,{b:()=>He});var a=F(4168);function C(){}var X=F(6783);function He(fe,Q,pe){return function(de){return de.lift(new Te(fe,Q,pe))}}class Te{constructor(Q,pe,ee){this.nextOrObserver=Q,this.error=pe,this.complete=ee}call(Q,pe){return pe.subscribe(new he(Q,this.nextOrObserver,this.error,this.complete))}}class he extends a.L{constructor(Q,pe,ee,de){super(Q),this._tapNext=C,this._tapError=C,this._tapComplete=C,this._tapError=ee||C,this._tapComplete=de||C,(0,X.m)(pe)?(this._context=this,this._tapNext=pe):pe&&(this._context=pe,this._tapNext=pe.next||C,this._tapError=pe.error||C,this._tapComplete=pe.complete||C)}_next(Q){try{this._tapNext.call(this._context,Q)}catch(pe){return void this.destination.error(pe)}this.destination.next(Q)}_error(Q){try{this._tapError.call(this._context,Q)}catch(pe){return void this.destination.error(pe)}this.destination.error(Q)}_complete(){try{this._tapComplete.call(this._context)}catch(Q){return void this.destination.error(Q)}return this.destination.complete()}}},6225:(rn,ht,F)=>{"use strict";F.d(ht,{T:()=>X});var a=F(9443),C=F(4168);function X(fe=he){return Q=>Q.lift(new He(fe))}class He{constructor(Q){this.errorFactory=Q}call(Q,pe){return pe.subscribe(new Te(Q,this.errorFactory))}}class Te extends C.L{constructor(Q,pe){super(Q),this.errorFactory=pe,this.hasValue=!1}_next(Q){this.hasValue=!0,this.destination.next(Q)}_complete(){if(this.hasValue)return this.destination.complete();{let Q;try{Q=this.errorFactory()}catch(pe){Q=pe}this.destination.error(Q)}}}function he(){return new a.K}},3428:(rn,ht,F)=>{"use strict";F.d(ht,{r:()=>X});var a=F(5548),C=F(1346);function X(He,Te){return new a.y(he=>{const fe=new C.w;let Q=0;return fe.add(Te.schedule(function(){Q!==He.length?(he.next(He[Q++]),he.closed||fe.add(this.schedule())):he.complete()})),fe})}},6339:(rn,ht,F)=>{"use strict";F.d(ht,{o:()=>X});var a=F(1346);class C extends a.w{constructor(Te,he){super()}schedule(Te,he=0){return this}}class X extends C{constructor(Te,he){super(Te,he),this.scheduler=Te,this.work=he,this.pending=!1}schedule(Te,he=0){if(this.closed)return this;this.state=Te;const fe=this.id,Q=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(Q,fe,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(Q,this.id,he),this}requestAsyncId(Te,he,fe=0){return setInterval(Te.flush.bind(Te,this),fe)}recycleAsyncId(Te,he,fe=0){if(null!==fe&&this.delay===fe&&!1===this.pending)return he;clearInterval(he)}execute(Te,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(Te,he);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,he){let Q,fe=!1;try{this.work(Te)}catch(pe){fe=!0,Q=!!pe&&pe||new Error(pe)}if(fe)return this.unsubscribe(),Q}_unsubscribe(){const Te=this.id,he=this.scheduler,fe=he.actions,Q=fe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Q&&fe.splice(Q,1),null!=Te&&(this.id=this.recycleAsyncId(he,Te,null)),this.delay=null}}},5192:(rn,ht,F)=>{"use strict";F.d(ht,{v:()=>C});let a=(()=>{class X{constructor(Te,he=X.now){this.SchedulerAction=Te,this.now=he}schedule(Te,he=0,fe){return new this.SchedulerAction(this,Te).schedule(fe,he)}}return X.now=()=>Date.now(),X})();class C extends a{constructor(He,Te=a.now){super(He,()=>C.delegate&&C.delegate!==this?C.delegate.now():Te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(He,Te=0,he){return C.delegate&&C.delegate!==this?C.delegate.schedule(He,Te,he):super.schedule(He,Te,he)}flush(He){const{actions:Te}=this;if(this.active)return void Te.push(He);let he;this.active=!0;do{if(he=He.execute(He.state,He.delay))break}while(He=Te.shift());if(this.active=!1,he){for(;He=Te.shift();)He.unsubscribe();throw he}}}},8178:(rn,ht,F)=>{"use strict";F.d(ht,{z:()=>X});var a=F(6339);const X=new(F(5192).v)(a.o)},7575:(rn,ht,F)=>{"use strict";F.d(ht,{c:()=>he,N:()=>Te});var a=F(6339),X=F(5192);const Te=new class extends X.v{}(class extends a.o{constructor(Q,pe){super(Q,pe),this.scheduler=Q,this.work=pe}schedule(Q,pe=0){return pe>0?super.schedule(Q,pe):(this.delay=pe,this.state=Q,this.scheduler.flush(this),this)}execute(Q,pe){return pe>0||this.closed?super.execute(Q,pe):this._execute(Q,pe)}requestAsyncId(Q,pe,ee=0){return null!==ee&&ee>0||null===ee&&this.delay>0?super.requestAsyncId(Q,pe,ee):Q.flush(this)}}),he=Te},4352:(rn,ht,F)=>{"use strict";F.d(ht,{hZ:()=>C});const C="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},1359:(rn,ht,F)=>{"use strict";F.d(ht,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},2926:(rn,ht,F)=>{"use strict";F.d(ht,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},523:(rn,ht,F)=>{"use strict";F.d(ht,{W:()=>C});const C=(()=>{function X(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return X.prototype=Object.create(Error.prototype),X})()},9443:(rn,ht,F)=>{"use strict";F.d(ht,{K:()=>C});const C=(()=>{function X(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return X.prototype=Object.create(Error.prototype),X})()},2108:(rn,ht,F)=>{"use strict";F.d(ht,{N:()=>C});const C=(()=>{function X(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return X.prototype=Object.create(Error.prototype),X})()},9887:(rn,ht,F)=>{"use strict";function a(C){setTimeout(()=>{throw C},0)}F.d(ht,{z:()=>a})},7255:(rn,ht,F)=>{"use strict";function a(C){return C}F.d(ht,{y:()=>a})},5894:(rn,ht,F)=>{"use strict";F.d(ht,{k:()=>a});const a=Array.isArray||(C=>C&&"number"==typeof C.length)},1265:(rn,ht,F)=>{"use strict";F.d(ht,{z:()=>a});const a=C=>C&&"number"==typeof C.length&&"function"!=typeof C},6783:(rn,ht,F)=>{"use strict";function a(C){return"function"==typeof C}F.d(ht,{m:()=>a})},7879:(rn,ht,F)=>{"use strict";function a(C){return null!==C&&"object"==typeof C}F.d(ht,{K:()=>a})},847:(rn,ht,F)=>{"use strict";function a(C){return!!C&&"function"!=typeof C.subscribe&&"function"==typeof C.then}F.d(ht,{t:()=>a})},8151:(rn,ht,F)=>{"use strict";function a(C){return C&&"function"==typeof C.schedule}F.d(ht,{K:()=>a})},4651:(rn,ht,F)=>{"use strict";F.d(ht,{s:()=>de});var a=F(8769),C=F(9887),He=F(4352),he=F(1359),Q=F(1265),pe=F(847),ee=F(7879);const de=we=>{if(we&&"function"==typeof we[he.L])return(we=>re=>{const Ce=we[he.L]();if("function"!=typeof Ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ce.subscribe(re)})(we);if((0,Q.z)(we))return(0,a.V)(we);if((0,pe.t)(we))return(we=>re=>(we.then(Ce=>{re.closed||(re.next(Ce),re.complete())},Ce=>re.error(Ce)).then(null,C.z),re))(we);if(we&&"function"==typeof we[He.hZ])return(we=>re=>{const Ce=we[He.hZ]();for(;;){let We;try{We=Ce.next()}catch(ye){return re.error(ye),re}if(We.done){re.complete();break}if(re.next(We.value),re.closed)break}return"function"==typeof Ce.return&&re.add(()=>{Ce.return&&Ce.return()}),re})(we);{const Ce=`You provided ${(0,ee.K)(we)?"an invalid object":`'${we}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ce)}}},8769:(rn,ht,F)=>{"use strict";F.d(ht,{V:()=>a});const a=C=>X=>{for(let He=0,Te=C.length;He<Te&&!X.closed;He++)X.next(C[He]);X.complete()}},2739:(rn,ht,F)=>{"use strict";F.d(ht,{e:()=>de});var a=F(4762),C=F(1882),X=F(7682),He=F(2411),Te=F(9204),he=F(5722),fe=F(739),Q=F(9619),pe=F(3584),ee=F(4620);let de=(()=>{class we{constructor(Ce,We,ye){this.afAuth=Ce,this.afs=We,this.router=ye,this.users$=We.collection("users").valueChanges(),this.user$=(0,C.fD)(this.afAuth).pipe((0,Te.w)(Ee=>Ee?(this.root=Ee.uid,this.userId=Ee.uid,this.afs.doc(`users/${Ee.uid}`).valueChanges().pipe((0,he.b)())):(0,He.of)(null)))}switchUser(Ce){this.manualUserId=Ce,this.manualUser$=this.afs.doc("users/"+Ce).valueChanges().pipe((0,he.b)(We=>this.manualUser=We))}getUser(){return this.manualUser$?this.manualUser$.pipe((0,fe.P)()):this.user$.pipe((0,fe.P)())}googleSignIn(){const Ce=new X.hJ;return this.oAuthLogin(Ce)}oAuthLogin(Ce){return(0,a.mG)(this,void 0,void 0,function*(){const We=yield(0,C.rh)(this.afAuth,Ce),ye=yield this.updateUserData(We.user);console.dir(ye),location.reload()})}updateUserData({uid:Ce,email:We,displayName:ye,photoURL:Ee,phoneNumber:Be}){const Ne=this.afs.doc(`users/${Ce}`),_e=Date.now(),Ie={uid:Ce,email:We,displayName:ye,photoURL:Ee,date:_e,phoneNumber:Be,id:Ce};return Ie.date=_e,Ne.set(Ie,{merge:!0})}signOut(){return(0,a.mG)(this,void 0,void 0,function*(){yield this.afAuth.signOut(),location.reload()})}}return we.\u0275fac=function(Ce){return new(Ce||we)(Q.LFG(C.gx),Q.LFG(pe.ST),Q.LFG(ee.F0))},we.\u0275prov=Q.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})()},8260:(rn,ht,F)=>{"use strict";F.d(ht,{N:()=>a});const a={firebase:{projectId:"mls-pts",appId:"1:360578839419:web:57439d2c484cbc00",databaseURL:"https://mls-pts.firebaseio.com",storageBucket:"mls-pts.appspot.com",locationId:"us-central",apiKey:"AIzaSyC9FMeiidIyqt-2t3mMHzP5dsQWW6OPWWY",authDomain:"mls-pts.firebaseapp.com",messagingSenderId:"360578839419"},production:!0}},911:(rn,ht,F)=>{"use strict";var a=F(6019),C=F(9619);class X extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class He extends X{static makeCurrent(){(0,a.HT)(new He)}onAndCancel(c,l,p){return c.addEventListener(l,p,!1),()=>{c.removeEventListener(l,p,!1)}}dispatchEvent(c,l){c.dispatchEvent(l)}remove(c){c.parentNode&&c.parentNode.removeChild(c)}createElement(c,l){return(l=l||this.getDefaultDocument()).createElement(c)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(c){return c.nodeType===Node.ELEMENT_NODE}isShadowRoot(c){return c instanceof DocumentFragment}getGlobalEventTarget(c,l){return"window"===l?window:"document"===l?c:"body"===l?c.body:null}getBaseHref(c){const l=(Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null);return null==l?null:function(d){fe=fe||document.createElement("a"),fe.setAttribute("href",d);const c=fe.pathname;return"/"===c.charAt(0)?c:`/${c}`}(l)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(c){return(0,a.Mx)(document.cookie,c)}}let fe,Te=null;const pe=new C.OlP("TRANSITION_ID"),de=[{provide:C.ip1,useFactory:function(d,c,l){return()=>{l.get(C.CZH).donePromise.then(()=>{const p=(0,a.q)(),w=c.querySelectorAll(`style[ng-transition="${d}"]`);for(let P=0;P<w.length;P++)p.remove(w[P])})}},deps:[pe,a.K0,C.zs3],multi:!0}];class we{static init(){(0,C.VLi)(new we)}addToWindow(c){C.dqk.getAngularTestability=(p,w=!0)=>{const P=c.findTestabilityInTree(p,w);if(null==P)throw new Error("Could not find testability for element.");return P},C.dqk.getAllAngularTestabilities=()=>c.getAllTestabilities(),C.dqk.getAllAngularRootElements=()=>c.getAllRootElements(),C.dqk.frameworkStabilizers||(C.dqk.frameworkStabilizers=[]),C.dqk.frameworkStabilizers.push(p=>{const w=C.dqk.getAllAngularTestabilities();let P=w.length,H=!1;const be=function(Ve){H=H||Ve,P--,0==P&&p(H)};w.forEach(function(Ve){Ve.whenStable(be)})})}findTestabilityInTree(c,l,p){if(null==l)return null;const w=c.getTestability(l);return null!=w?w:p?(0,a.q)().isShadowRoot(l)?this.findTestabilityInTree(c,l.host,!0):this.findTestabilityInTree(c,l.parentElement,!0):null}}let re=(()=>{class d{build(){return new XMLHttpRequest}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=C.Yz7({token:d,factory:d.\u0275fac}),d})();const Ce=new C.OlP("EventManagerPlugins");let We=(()=>{class d{constructor(l,p){this._zone=p,this._eventNameToPlugin=new Map,l.forEach(w=>w.manager=this),this._plugins=l.slice().reverse()}addEventListener(l,p,w){return this._findPluginFor(p).addEventListener(l,p,w)}addGlobalEventListener(l,p,w){return this._findPluginFor(p).addGlobalEventListener(l,p,w)}getZone(){return this._zone}_findPluginFor(l){const p=this._eventNameToPlugin.get(l);if(p)return p;const w=this._plugins;for(let P=0;P<w.length;P++){const H=w[P];if(H.supports(l))return this._eventNameToPlugin.set(l,H),H}throw new Error(`No event manager plugin found for event ${l}`)}}return d.\u0275fac=function(l){return new(l||d)(C.LFG(Ce),C.LFG(C.R0b))},d.\u0275prov=C.Yz7({token:d,factory:d.\u0275fac}),d})();class ye{constructor(c){this._doc=c}addGlobalEventListener(c,l,p){const w=(0,a.q)().getGlobalEventTarget(this._doc,c);if(!w)throw new Error(`Unsupported event target ${w} for event ${l}`);return this.addEventListener(w,l,p)}}let Ee=(()=>{class d{constructor(){this._stylesSet=new Set}addStyles(l){const p=new Set;l.forEach(w=>{this._stylesSet.has(w)||(this._stylesSet.add(w),p.add(w))}),this.onStylesAdded(p)}onStylesAdded(l){}getAllStyles(){return Array.from(this._stylesSet)}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=C.Yz7({token:d,factory:d.\u0275fac}),d})(),Be=(()=>{class d extends Ee{constructor(l){super(),this._doc=l,this._hostNodes=new Map,this._hostNodes.set(l.head,[])}_addStylesToHost(l,p,w){l.forEach(P=>{const H=this._doc.createElement("style");H.textContent=P,w.push(p.appendChild(H))})}addHost(l){const p=[];this._addStylesToHost(this._stylesSet,l,p),this._hostNodes.set(l,p)}removeHost(l){const p=this._hostNodes.get(l);p&&p.forEach(Ne),this._hostNodes.delete(l)}onStylesAdded(l){this._hostNodes.forEach((p,w)=>{this._addStylesToHost(l,w,p)})}ngOnDestroy(){this._hostNodes.forEach(l=>l.forEach(Ne))}}return d.\u0275fac=function(l){return new(l||d)(C.LFG(a.K0))},d.\u0275prov=C.Yz7({token:d,factory:d.\u0275fac}),d})();function Ne(d){(0,a.q)().remove(d)}const _e={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ie=/%COMP%/g;function it(d,c,l){for(let p=0;p<c.length;p++){let w=c[p];Array.isArray(w)?it(d,w,l):(w=w.replace(Ie,d),l.push(w))}return l}function Me(d){return c=>{if("__ngUnwrap__"===c)return d;!1===d(c)&&(c.preventDefault(),c.returnValue=!1)}}let ut=(()=>{class d{constructor(l,p,w){this.eventManager=l,this.sharedStylesHost=p,this.appId=w,this.rendererByCompId=new Map,this.defaultRenderer=new nt(l)}createRenderer(l,p){if(!l||!p)return this.defaultRenderer;switch(p.encapsulation){case C.ifc.Emulated:{let w=this.rendererByCompId.get(p.id);return w||(w=new Dt(this.eventManager,this.sharedStylesHost,p,this.appId),this.rendererByCompId.set(p.id,w)),w.applyToHost(l),w}case 1:case C.ifc.ShadowDom:return new pt(this.eventManager,this.sharedStylesHost,l,p);default:if(!this.rendererByCompId.has(p.id)){const w=it(p.id,p.styles,[]);this.sharedStylesHost.addStyles(w),this.rendererByCompId.set(p.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return d.\u0275fac=function(l){return new(l||d)(C.LFG(We),C.LFG(Be),C.LFG(C.AFp))},d.\u0275prov=C.Yz7({token:d,factory:d.\u0275fac}),d})();class nt{constructor(c){this.eventManager=c,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(c,l){return l?document.createElementNS(_e[l]||l,c):document.createElement(c)}createComment(c){return document.createComment(c)}createText(c){return document.createTextNode(c)}appendChild(c,l){c.appendChild(l)}insertBefore(c,l,p){c&&c.insertBefore(l,p)}removeChild(c,l){c&&c.removeChild(l)}selectRootElement(c,l){let p="string"==typeof c?document.querySelector(c):c;if(!p)throw new Error(`The selector "${c}" did not match any elements`);return l||(p.textContent=""),p}parentNode(c){return c.parentNode}nextSibling(c){return c.nextSibling}setAttribute(c,l,p,w){if(w){l=w+":"+l;const P=_e[w];P?c.setAttributeNS(P,l,p):c.setAttribute(l,p)}else c.setAttribute(l,p)}removeAttribute(c,l,p){if(p){const w=_e[p];w?c.removeAttributeNS(w,l):c.removeAttribute(`${p}:${l}`)}else c.removeAttribute(l)}addClass(c,l){c.classList.add(l)}removeClass(c,l){c.classList.remove(l)}setStyle(c,l,p,w){w&(C.JOm.DashCase|C.JOm.Important)?c.style.setProperty(l,p,w&C.JOm.Important?"important":""):c.style[l]=p}removeStyle(c,l,p){p&C.JOm.DashCase?c.style.removeProperty(l):c.style[l]=""}setProperty(c,l,p){c[l]=p}setValue(c,l){c.nodeValue=l}listen(c,l,p){return"string"==typeof c?this.eventManager.addGlobalEventListener(c,l,Me(p)):this.eventManager.addEventListener(c,l,Me(p))}}class Dt extends nt{constructor(c,l,p,w){super(c),this.component=p;const P=it(w+"-"+p.id,p.styles,[]);l.addStyles(P),this.contentAttr="_ngcontent-%COMP%".replace(Ie,w+"-"+p.id),this.hostAttr="_nghost-%COMP%".replace(Ie,w+"-"+p.id)}applyToHost(c){super.setAttribute(c,this.hostAttr,"")}createElement(c,l){const p=super.createElement(c,l);return super.setAttribute(p,this.contentAttr,""),p}}class pt extends nt{constructor(c,l,p,w){super(c),this.sharedStylesHost=l,this.hostEl=p,this.shadowRoot=p.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const P=it(w.id,w.styles,[]);for(let H=0;H<P.length;H++){const be=document.createElement("style");be.textContent=P[H],this.shadowRoot.appendChild(be)}}nodeOrShadowRoot(c){return c===this.hostEl?this.shadowRoot:c}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(c,l){return super.appendChild(this.nodeOrShadowRoot(c),l)}insertBefore(c,l,p){return super.insertBefore(this.nodeOrShadowRoot(c),l,p)}removeChild(c,l){return super.removeChild(this.nodeOrShadowRoot(c),l)}parentNode(c){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(c)))}}let _t=(()=>{class d extends ye{constructor(l){super(l)}supports(l){return!0}addEventListener(l,p,w){return l.addEventListener(p,w,!1),()=>this.removeEventListener(l,p,w)}removeEventListener(l,p,w){return l.removeEventListener(p,w)}}return d.\u0275fac=function(l){return new(l||d)(C.LFG(a.K0))},d.\u0275prov=C.Yz7({token:d,factory:d.\u0275fac}),d})();const Et=["alt","control","meta","shift"],Ln={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_n={alt:d=>d.altKey,control:d=>d.ctrlKey,meta:d=>d.metaKey,shift:d=>d.shiftKey};let Ot=(()=>{class d extends ye{constructor(l){super(l)}supports(l){return null!=d.parseEventName(l)}addEventListener(l,p,w){const P=d.parseEventName(p),H=d.eventCallback(P.fullKey,w,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(l,P.domEventName,H))}static parseEventName(l){const p=l.toLowerCase().split("."),w=p.shift();if(0===p.length||"keydown"!==w&&"keyup"!==w)return null;const P=d._normalizeKey(p.pop());let H="";if(Et.forEach(Ve=>{const rt=p.indexOf(Ve);rt>-1&&(p.splice(rt,1),H+=Ve+".")}),H+=P,0!=p.length||0===P.length)return null;const be={};return be.domEventName=w,be.fullKey=H,be}static getEventFullKey(l){let p="",w=function(d){let c=d.key;if(null==c){if(c=d.keyIdentifier,null==c)return"Unidentified";c.startsWith("U+")&&(c=String.fromCharCode(parseInt(c.substring(2),16)),3===d.location&&Pt.hasOwnProperty(c)&&(c=Pt[c]))}return Ln[c]||c}(l);return w=w.toLowerCase()," "===w?w="space":"."===w&&(w="dot"),Et.forEach(P=>{P!=w&&_n[P](l)&&(p+=P+".")}),p+=w,p}static eventCallback(l,p,w){return P=>{d.getEventFullKey(P)===l&&w.runGuarded(()=>p(P))}}static _normalizeKey(l){return"esc"===l?"escape":l}}return d.\u0275fac=function(l){return new(l||d)(C.LFG(a.K0))},d.\u0275prov=C.Yz7({token:d,factory:d.\u0275fac}),d})();const lr=(0,C.eFA)(C._c5,"browser",[{provide:C.Lbi,useValue:a.bD},{provide:C.g9A,useValue:function(){He.makeCurrent(),we.init()},multi:!0},{provide:a.K0,useFactory:function(){return(0,C.RDi)(document),document},deps:[]}]),Jn=[{provide:C.zSh,useValue:"root"},{provide:C.qLn,useFactory:function(){return new C.qLn},deps:[]},{provide:Ce,useClass:_t,multi:!0,deps:[a.K0,C.R0b,C.Lbi]},{provide:Ce,useClass:Ot,multi:!0,deps:[a.K0]},{provide:ut,useClass:ut,deps:[We,Be,C.AFp]},{provide:C.FYo,useExisting:ut},{provide:Ee,useExisting:Be},{provide:Be,useClass:Be,deps:[a.K0]},{provide:C.dDg,useClass:C.dDg,deps:[C.R0b]},{provide:We,useClass:We,deps:[Ce,C.R0b]},{provide:a.JF,useClass:re,deps:[]}];let Dr=(()=>{class d{constructor(l){if(l)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(l){return{ngModule:d,providers:[{provide:C.AFp,useValue:l.appId},{provide:pe,useExisting:C.AFp},de]}}}return d.\u0275fac=function(l){return new(l||d)(C.LFG(d,12))},d.\u0275mod=C.oAB({type:d}),d.\u0275inj=C.cJS({providers:Jn,imports:[a.ez,C.hGG]}),d})();"undefined"!=typeof window&&window;var cn=F(4620),In=F(4662),Wn=F(4762),On=F(1882),Lr=F(7682),Br=F(172),kr=F(2739);function Bn(d,c){if(1&d&&(C.TgZ(0,"div"),C.TgZ(1,"ion-list-header"),C.TgZ(2,"ion-item",10),C.TgZ(3,"ion-avatar",11),C._UZ(4,"img",12),C.qZA(),C.TgZ(5,"ion-label"),C._uU(6),C.qZA(),C.qZA(),C.qZA(),C.TgZ(7,"ion-item"),C.TgZ(8,"ion-label",13),C._uU(9),C.qZA(),C.qZA(),C.qZA()),2&d){const l=c.ngIf;C.xp6(4),C.s9C("src",l.photoURL,C.LSH),C.xp6(2),C.Oqu(l.displayName),C.xp6(3),C.Oqu(l.email)}}function Or(d,c){if(1&d){const l=C.EpF();C.TgZ(0,"ion-list-header"),C.TgZ(1,"ion-item",14),C.NdJ("click",function(){return C.CHM(l),C.oxw().loginWithGoogle()}),C._UZ(2,"ion-icon",15),C.TgZ(3,"ion-label"),C._uU(4,"Google Login"),C.qZA(),C.qZA(),C.qZA()}}function Fn(d,c){if(1&d&&(C.TgZ(0,"ion-label"),C._uU(1),C.qZA()),2&d){const l=C.oxw().$implicit;C.xp6(1),C.Oqu(l.title)}}function Gr(d,c){if(1&d){const l=C.EpF();C.TgZ(0,"ion-label",21),C.NdJ("click",function(){return C.CHM(l),C.oxw(2).loginWithGoogle()}),C._uU(1),C.qZA()}if(2&d){const l=C.oxw().$implicit;C.xp6(1),C.Oqu(l.title)}}const ot=function(d){return[d]};function Ct(d,c){if(1&d&&(C.TgZ(0,"ion-menu-toggle",16),C.TgZ(1,"ion-item",17),C._UZ(2,"ion-icon",18),C.YNc(3,Fn,2,1,"ion-label",19),C.YNc(4,Gr,2,1,"ion-label",20),C.qZA(),C.qZA()),2&d){const l=c.$implicit,p=C.oxw();C.xp6(1),C.Q6J("routerLink",C.VKq(5,ot,l.url)),C.xp6(1),C.Q6J("ios",l.icon+"-outline")("md",l.icon+"-sharp"),C.xp6(1),C.Q6J("ngIf",p.loggedIn),C.xp6(1),C.Q6J("ngIf",!p.loggedIn)}}function nn(d,c){if(1&d&&(C.TgZ(0,"ion-item",10),C._UZ(1,"ion-icon",22),C.TgZ(2,"ion-label"),C._uU(3),C.qZA(),C.qZA()),2&d){const l=c.$implicit;C.xp6(3),C.Oqu(l)}}function xe(d,c){if(1&d){const l=C.EpF();C.TgZ(0,"ion-item",14),C.NdJ("click",function(){return C.CHM(l),C.oxw().logout()}),C._UZ(1,"ion-icon",23),C.TgZ(2,"ion-label"),C._uU(3," Logout "),C.qZA(),C.qZA()}}let J=(()=>{class d{constructor(l,p,w){this.auth=l,this.router=p,this.appPages=[{title:"Cabal22",url:"/season/Cabal22",icon:"football"}],this.labels=[],this.loggedIn=!1,this.showProviders=!1,this.showUser=!1,this.userO=Br.E,this.showLoginButton=!1,this.showLogoutButton=!1,l&&(this.userO=(0,On.fD)(this.auth),this.userDisposable=(0,On.fD)(this.auth).subscribe(P=>{this.loggedIn=!!P}))}ngOnInit(){}ngOnDestroy(){this.userDisposable&&this.userDisposable.unsubscribe()}loginWithGoogle(){return(0,Wn.mG)(this,void 0,void 0,function*(){const l=new Lr.hJ;yield(0,On.rh)(this.auth,l),yield this.router.navigate(["/"])})}logout(){return(0,Wn.mG)(this,void 0,void 0,function*(){return yield(0,On.w7)(this.auth)})}}return d.\u0275fac=function(l){return new(l||d)(C.Y36(On.gx,8),C.Y36(cn.F0),C.Y36(kr.e))},d.\u0275cmp=C.Xpm({type:d,selectors:[["app-root"]],decls:19,vars:7,consts:[["contentId","main-content"],["contentId","main-content","type","overlay"],["id","inbox-list",2,"padding-top","0"],[4,"ngIf","ngIfElse"],["showLogin",""],["auto-hide","false",4,"ngFor","ngForOf"],["id","labels-list"],["lines","none",4,"ngFor","ngForOf"],["lines","none",3,"click",4,"ngIf"],["id","main-content"],["lines","none"],["slot","start"],[3,"src"],[2,"margin-top","0"],["lines","none",3,"click"],["name","log-in"],["auto-hide","false"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink"],["slot","start",3,"ios","md"],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"click"],["slot","start","ios","bookmark-outline","md","bookmark-sharp"],["slot","start","name","log-out"]],template:function(l,p){if(1&l&&(C.TgZ(0,"ion-app"),C.TgZ(1,"ion-split-pane",0),C.TgZ(2,"ion-menu",1),C.TgZ(3,"ion-content"),C.TgZ(4,"ion-header"),C.TgZ(5,"h1"),C._uU(6,"The Cabal"),C.qZA(),C.qZA(),C.TgZ(7,"ion-list",2),C.YNc(8,Bn,10,3,"div",3),C.ALo(9,"async"),C.YNc(10,Or,5,0,"ng-template",null,4,C.W1O),C.YNc(12,Ct,5,7,"ion-menu-toggle",5),C.qZA(),C.TgZ(13,"ion-list",6),C.TgZ(14,"ion-list-header"),C._uU(15,"Labels"),C.qZA(),C.YNc(16,nn,4,1,"ion-item",7),C.YNc(17,xe,4,0,"ion-item",8),C.qZA(),C.qZA(),C.qZA(),C._UZ(18,"ion-router-outlet",9),C.qZA(),C.qZA()),2&l){const w=C.MAs(11);C.xp6(8),C.Q6J("ngIf",C.lcZ(9,5,p.userO))("ngIfElse",w),C.xp6(4),C.Q6J("ngForOf",p.appPages),C.xp6(4),C.Q6J("ngForOf",p.labels),C.xp6(1),C.Q6J("ngIf",p.loggedIn)}},directives:[In.dr,In.jI,In.z0,In.W2,In.Gu,In.q_,a.O5,a.sg,In.yh,In.jP,In.Ie,In.BJ,In.Q$,In.gu,In.zc,cn.Od,In.YI,cn.rH],pipes:[a.Ov],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),d})();const G=[{path:"",redirectTo:"season/Cabal22",pathMatch:"full"},{path:"folder/:id",loadChildren:()=>F.e(8219).then(F.bind(F,8219)).then(d=>d.FolderPageModule)},{path:"season/:id",loadChildren:()=>F.e(810).then(F.bind(F,810)).then(d=>d.SeasonPageModule)}];let De=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=C.oAB({type:d}),d.\u0275inj=C.cJS({imports:[[cn.Bz.forRoot(G,{preloadingStrategy:cn.wm})],cn.Bz]}),d})();var Ye=F(3590),wt=F(8260),Zt=F(7455),fn=F(7713),zn=F(7798),tr=F(8239),Sn=F(1572),li=F(1177),yt=F(4213),Ei=F(3855);const di="@firebase/database";let ri="";class qr{constructor(c){this.domStorage_=c,this.prefix_="firebase:"}set(c,l){null==l?this.domStorage_.removeItem(this.prefixedName_(c)):this.domStorage_.setItem(this.prefixedName_(c),(0,yt.Pz)(l))}get(c){const l=this.domStorage_.getItem(this.prefixedName_(c));return null==l?null:(0,yt.cI)(l)}remove(c){this.domStorage_.removeItem(this.prefixedName_(c))}prefixedName_(c){return this.prefix_+c}toString(){return this.domStorage_.toString()}}class L{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(c,l){null==l?delete this.cache_[c]:this.cache_[c]=l}get(c){return(0,yt.r3)(this.cache_,c)?this.cache_[c]:null}remove(c){delete this.cache_[c]}}const Z=function(d){try{if("undefined"!=typeof window&&void 0!==window[d]){const c=window[d];return c.setItem("firebase:sentinel","cache"),c.removeItem("firebase:sentinel"),new qr(c)}}catch(c){}return new L},Y=Z("localStorage"),se=Z("sessionStorage"),ke=new Ei.Yd("@firebase/database"),ze=function(){let d=1;return function(){return d++}}(),vt=function(d){const c=(0,yt.dS)(d),l=new yt.gQ;l.update(c);const p=l.digest();return yt.US.encodeByteArray(p)},At=function(...d){let c="";for(let l=0;l<d.length;l++){const p=d[l];Array.isArray(p)||p&&"object"==typeof p&&"number"==typeof p.length?c+=At.apply(null,p):c+="object"==typeof p?(0,yt.Pz)(p):p,c+=" "}return c};let bt=null,qt=!0;const un=function(...d){if(!0===qt&&(qt=!1,null===bt&&!0===se.get("logging_enabled")&&function(d,c){(0,yt.hu)(!c||!0===d||!1===d,"Can't turn on custom loggers persistently."),!0===d?(ke.logLevel=Ei.in.VERBOSE,bt=ke.log.bind(ke),c&&se.set("logging_enabled",!0)):"function"==typeof d?bt=d:(bt=null,se.remove("logging_enabled"))}(!0)),bt){const c=At.apply(null,d);bt(c)}},Gn=function(d){return function(...c){un(d,...c)}},vr=function(...d){const c="FIREBASE INTERNAL ERROR: "+At(...d);ke.error(c)},oi=function(...d){const c=`FIREBASE FATAL ERROR: ${At(...d)}`;throw ke.error(c),new Error(c)},Qn=function(...d){const c="FIREBASE WARNING: "+At(...d);ke.warn(c)},Ni=function(d){return"number"==typeof d&&(d!=d||d===Number.POSITIVE_INFINITY||d===Number.NEGATIVE_INFINITY)},wi="[MIN_NAME]",Li="[MAX_NAME]",Di=function(d,c){if(d===c)return 0;if(d===wi||c===Li)return-1;if(c===wi||d===Li)return 1;{const l=Wt(d),p=Wt(c);return null!==l?null!==p?l-p==0?d.length-c.length:l-p:-1:null!==p?1:d<c?-1:1}},$o=function(d,c){return d===c?0:d<c?-1:1},no=function(d,c){if(c&&d in c)return c[d];throw new Error("Missing required key ("+d+") in object: "+(0,yt.Pz)(c))},Qi=function(d){if("object"!=typeof d||null===d)return(0,yt.Pz)(d);const c=[];for(const p in d)c.push(p);c.sort();let l="{";for(let p=0;p<c.length;p++)0!==p&&(l+=","),l+=(0,yt.Pz)(c[p]),l+=":",l+=Qi(d[c[p]]);return l+="}",l},Ti=function(d,c){const l=d.length;if(l<=c)return[d];const p=[];for(let w=0;w<l;w+=c)p.push(d.substring(w,w+c>l?l:w+c));return p};function $r(d,c){for(const l in d)d.hasOwnProperty(l)&&c(l,d[l])}const U=function(d){(0,yt.hu)(!Ni(d),"Invalid JSON number");const p=1023;let w,P,H,be,Ve;0===d?(P=0,H=0,w=1/d==-1/0?1:0):(w=d<0,(d=Math.abs(d))>=Math.pow(2,1-p)?(be=Math.min(Math.floor(Math.log(d)/Math.LN2),p),P=be+p,H=Math.round(d*Math.pow(2,52-be)-Math.pow(2,52))):(P=0,H=Math.round(d/Math.pow(2,-1074))));const rt=[];for(Ve=52;Ve;Ve-=1)rt.push(H%2?1:0),H=Math.floor(H/2);for(Ve=11;Ve;Ve-=1)rt.push(P%2?1:0),P=Math.floor(P/2);rt.push(w?1:0),rt.reverse();const Ft=rt.join("");let Nt="";for(Ve=0;Ve<64;Ve+=8){let en=parseInt(Ft.substr(Ve,8),2).toString(16);1===en.length&&(en="0"+en),Nt+=en}return Nt.toLowerCase()},tt=new RegExp("^-?(0*)\\d{1,10}$"),Wt=function(d){if(tt.test(d)){const c=Number(d);if(c>=-2147483648&&c<=2147483647)return c}return null},sn=function(d){try{d()}catch(c){setTimeout(()=>{throw Qn("Exception was thrown by user callback.",c.stack||""),c},Math.floor(0))}},rr=function(d,c){const l=setTimeout(d,c);return"object"==typeof l&&l.unref&&l.unref(),l};class Yn{constructor(c,l){this.appName_=c,this.appCheckProvider=l,this.appCheck=null==l?void 0:l.getImmediate({optional:!0}),this.appCheck||null==l||l.get().then(p=>this.appCheck=p)}getToken(c){return this.appCheck?this.appCheck.getToken(c):new Promise((l,p)=>{setTimeout(()=>{this.appCheck?this.getToken(c).then(l,p):l(null)},0)})}addTokenChangeListener(c){var l;null===(l=this.appCheckProvider)||void 0===l||l.get().then(p=>p.addTokenListener(c))}notifyForInvalidToken(){Qn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Re{constructor(c,l,p){this.appName_=c,this.firebaseOptions_=l,this.authProvider_=p,this.auth_=null,this.auth_=p.getImmediate({optional:!0}),this.auth_||p.onInit(w=>this.auth_=w)}getToken(c){return this.auth_?this.auth_.getToken(c).catch(l=>l&&"auth/token-not-initialized"===l.code?(un("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,p)=>{setTimeout(()=>{this.auth_?this.getToken(c).then(l,p):l(null)},0)})}addTokenChangeListener(c){this.auth_?this.auth_.addAuthTokenListener(c):this.authProvider_.get().then(l=>l.addAuthTokenListener(c))}removeTokenChangeListener(c){this.authProvider_.get().then(l=>l.removeAuthTokenListener(c))}notifyForInvalidToken(){let c='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';c+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qn(c)}}let Se=(()=>{class d{constructor(l){this.accessToken=l}getToken(l){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(l){l(this.accessToken)}removeTokenChangeListener(l){}notifyForInvalidToken(){}}return d.OWNER="owner",d})();const Vn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Mr="websocket",Vr="long_polling";class Hr{constructor(c,l,p,w,P=!1,H="",be=!1){this.secure=l,this.namespace=p,this.webSocketOnly=w,this.nodeAdmin=P,this.persistenceKey=H,this.includeNamespaceInQueryParams=be,this._host=c.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Y.get("host:"+c)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(c){c!==this.internalHost&&(this.internalHost=c,this.isCacheableHost()&&Y.set("host:"+this._host,this.internalHost))}toString(){let c=this.toURLString();return this.persistenceKey&&(c+="<"+this.persistenceKey+">"),c}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Si(d,c,l){let p;if((0,yt.hu)("string"==typeof c,"typeof type must == string"),(0,yt.hu)("object"==typeof l,"typeof params must == object"),c===Mr)p=(d.secure?"wss://":"ws://")+d.internalHost+"/.ws?";else{if(c!==Vr)throw new Error("Unknown connection type: "+c);p=(d.secure?"https://":"http://")+d.internalHost+"/.lp?"}(function(d){return d.host!==d.internalHost||d.isCustomHost()||d.includeNamespaceInQueryParams})(d)&&(l.ns=d.namespace);const w=[];return $r(l,(P,H)=>{w.push(P+"="+H)}),p+w.join("&")}class V{constructor(){this.counters_={}}incrementCounter(c,l=1){(0,yt.r3)(this.counters_,c)||(this.counters_[c]=0),this.counters_[c]+=l}get(){return(0,yt.p$)(this.counters_)}}const ae={},$={};function ve(d){const c=d.toString();return ae[c]||(ae[c]=new V),ae[c]}class O{constructor(c){this.onMessage_=c,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(c,l){this.closeAfterResponse=c,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(c,l){for(this.pendingResponses[c]=l;this.pendingResponses[this.currentResponseNum];){const p=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let w=0;w<p.length;++w)p[w]&&sn(()=>{this.onMessage_(p[w])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Go{constructor(c,l,p,w,P,H,be){this.connId=c,this.repoInfo=l,this.applicationId=p,this.appCheckToken=w,this.authToken=P,this.transportSessionId=H,this.lastSessionId=be,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gn(c),this.stats_=ve(l),this.urlFn=Ve=>(this.appCheckToken&&(Ve.ac=this.appCheckToken),Si(l,Vr,Ve))}open(c,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new O(c),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(d){if((0,yt.Yr)()||"complete"===document.readyState)d();else{let c=!1;const l=function(){document.body?c||(c=!0,d()):setTimeout(l,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&l()}),window.attachEvent("onload",l))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new b((...P)=>{const[H,be,Ve,rt,Ft]=P;if(this.incrementIncomingBytes_(P),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===H)this.id=be,this.password=Ve;else{if("close"!==H)throw new Error("Unrecognized command received: "+H);be?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(be,()=>{this.onClosed_()})):this.onClosed_()}},(...P)=>{const[H,be]=P;this.incrementIncomingBytes_(P),this.myPacketOrderer.handleResponse(H,be)},()=>{this.onClosed_()},this.urlFn);const p={start:"t"};p.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(p.cb=this.scriptTagHolder.uniqueCallbackIdentifier),p.v="5",this.transportSessionId&&(p.s=this.transportSessionId),this.lastSessionId&&(p.ls=this.lastSessionId),this.applicationId&&(p.p=this.applicationId),this.appCheckToken&&(p.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Vn.test(location.hostname)&&(p.r="f");const w=this.urlFn(p);this.log_("Connecting via long-poll to "+w),this.scriptTagHolder.addTag(w,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Go.forceAllow_=!0}static forceDisallow(){Go.forceDisallow_=!0}static isAvailable(){return!((0,yt.Yr)()||!Go.forceAllow_&&(Go.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(c){const l=(0,yt.Pz)(c);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const p=(0,yt.h$)(l),w=Ti(p,1840);for(let P=0;P<w.length;P++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,w.length,w[P]),this.curSegmentNum++}addDisconnectPingFrame(c,l){if((0,yt.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const p={dframe:"t"};p.id=c,p.pw=l,this.myDisconnFrame.src=this.urlFn(p),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(c){const l=(0,yt.Pz)(c).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class b{constructor(c,l,p,w){if(this.onDisconnect=p,this.urlFn=w,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,yt.Yr)())this.commandCB=c,this.onMessageCB=l;else{this.uniqueCallbackIdentifier=ze(),window["pLPCommand"+this.uniqueCallbackIdentifier]=c,window["pRTLPCB"+this.uniqueCallbackIdentifier]=l,this.myIFrame=b.createIFrame_();let P="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(P='<script>document.domain="'+document.domain+'";<\/script>');const H="<html><body>"+P+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(H),this.myIFrame.doc.close()}catch(be){un("frame writing exception"),be.stack&&un(be.stack),un(be)}}}static createIFrame_(){const c=document.createElement("iframe");if(c.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(c);try{c.contentWindow.document||un("No IE domain setting required")}catch(l){const p=document.domain;c.src="javascript:void((function(){document.open();document.domain='"+p+"';document.close();})())"}return c.contentDocument?c.doc=c.contentDocument:c.contentWindow?c.doc=c.contentWindow.document:c.document&&(c.doc=c.document),c}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const c=this.onDisconnect;c&&(this.onDisconnect=null,c())}startLongPoll(c,l){for(this.myID=c,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const c={};c.id=this.myID,c.pw=this.myPW,c.ser=this.currentSerial;let l=this.urlFn(c),p="",w=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+p.length<=1870;){const H=this.pendingSegs.shift();p=p+"&seg"+w+"="+H.seg+"&ts"+w+"="+H.ts+"&d"+w+"="+H.d,w++}return l+=p,this.addLongPollTag_(l,this.currentSerial),!0}return!1}enqueueSegment(c,l,p){this.pendingSegs.push({seg:c,ts:l,d:p}),this.alive&&this.newRequest_()}addLongPollTag_(c,l){this.outstandingRequests.add(l);const p=()=>{this.outstandingRequests.delete(l),this.newRequest_()},w=setTimeout(p,Math.floor(25e3));this.addTag(c,()=>{clearTimeout(w),p()})}addTag(c,l){(0,yt.Yr)()?this.doNodeLongPoll(c,l):setTimeout(()=>{try{if(!this.sendNewPolls)return;const p=this.myIFrame.doc.createElement("script");p.type="text/javascript",p.async=!0,p.src=c,p.onload=p.onreadystatechange=function(){const w=p.readyState;(!w||"loaded"===w||"complete"===w)&&(p.onload=p.onreadystatechange=null,p.parentNode&&p.parentNode.removeChild(p),l())},p.onerror=()=>{un("Long-poll script failed to load: "+c),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(p)}catch(p){}},Math.floor(1))}}let z=null;"undefined"!=typeof MozWebSocket?z=MozWebSocket:"undefined"!=typeof WebSocket&&(z=WebSocket);let ne=(()=>{class d{constructor(l,p,w,P,H,be,Ve){this.connId=l,this.applicationId=w,this.appCheckToken=P,this.authToken=H,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gn(this.connId),this.stats_=ve(p),this.connURL=d.connectionURL_(p,be,Ve,P),this.nodeAdmin=p.nodeAdmin}static connectionURL_(l,p,w,P){const H={v:"5"};return!(0,yt.Yr)()&&"undefined"!=typeof location&&location.hostname&&Vn.test(location.hostname)&&(H.r="f"),p&&(H.s=p),w&&(H.ls=w),P&&(H.ac=P),Si(l,Mr,H)}open(l,p){this.onDisconnect=p,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Y.set("previous_websocket_failure",!0);try{if((0,yt.Yr)()){const P={headers:{"User-Agent":`Firebase/5/${ri}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(P.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(P.headers["X-Firebase-AppCheck"]=this.appCheckToken);const H=process.env,be=0===this.connURL.indexOf("wss://")?H.HTTPS_PROXY||H.https_proxy:H.HTTP_PROXY||H.http_proxy;be&&(P.proxy={origin:be}),this.mySock=new z(this.connURL,[],P)}else this.mySock=new z(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(w){this.log_("Error instantiating WebSocket.");const P=w.message||w.data;return P&&this.log_(P),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=w=>{this.handleIncomingFrame(w)},this.mySock.onerror=w=>{this.log_("WebSocket error.  Closing connection.");const P=w.message||w.data;P&&this.log_(P),this.onClosed_()}}start(){}static forceDisallow(){d.forceDisallow_=!0}static isAvailable(){let l=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const w=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);w&&w.length>1&&parseFloat(w[1])<4.4&&(l=!0)}return!l&&null!==z&&!d.forceDisallow_}static previouslyFailed(){return Y.isInMemoryStorage||!0===Y.get("previous_websocket_failure")}markConnectionHealthy(){Y.remove("previous_websocket_failure")}appendFrame_(l){if(this.frames.push(l),this.frames.length===this.totalFrames){const p=this.frames.join("");this.frames=null;const w=(0,yt.cI)(p);this.onMessage(w)}}handleNewFrameCount_(l){this.totalFrames=l,this.frames=[]}extractFrameCount_(l){if((0,yt.hu)(null===this.frames,"We already have a frame buffer"),l.length<=6){const p=Number(l);if(!isNaN(p))return this.handleNewFrameCount_(p),null}return this.handleNewFrameCount_(1),l}handleIncomingFrame(l){if(null===this.mySock)return;const p=l.data;if(this.bytesReceived+=p.length,this.stats_.incrementCounter("bytes_received",p.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(p);else{const w=this.extractFrameCount_(p);null!==w&&this.appendFrame_(w)}}send(l){this.resetKeepAlive();const p=(0,yt.Pz)(l);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);const w=Ti(p,16384);w.length>1&&this.sendString_(String(w.length));for(let P=0;P<w.length;P++)this.sendString_(w[P])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(l){try{this.mySock.send(l)}catch(p){this.log_("Exception thrown from WebSocket.send():",p.message||p.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return d.responsesRequiredToBeHealthy=2,d.healthyTimeout=3e4,d})();class It{constructor(c){this.initTransports_(c)}static get ALL_TRANSPORTS(){return[Go,ne]}initTransports_(c){const l=ne&&ne.isAvailable();let p=l&&!ne.previouslyFailed();if(c.webSocketOnly&&(l||Qn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),p=!0),p)this.transports_=[ne];else{const w=this.transports_=[];for(const P of It.ALL_TRANSPORTS)P&&P.isAvailable()&&w.push(P)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class es{constructor(c,l,p,w,P,H,be,Ve,rt,Ft){this.id=c,this.repoInfo_=l,this.applicationId_=p,this.appCheckToken_=w,this.authToken_=P,this.onMessage_=H,this.onReady_=be,this.onDisconnect_=Ve,this.onKill_=rt,this.lastSessionId=Ft,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gn("c:"+this.id+":"),this.transportManager_=new It(l),this.log_("Connection created"),this.start_()}start_(){const c=this.transportManager_.initialTransport();this.conn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),p=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,p)},Math.floor(0));const w=c.healthyTimeout||0;w>0&&(this.healthyTimeout_=rr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(w)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(c){return l=>{c===this.conn_?this.onConnectionLost_(l):c===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(c){return l=>{2!==this.state_&&(c===this.rx_?this.onPrimaryMessageReceived_(l):c===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(c){this.sendData_({t:"d",d:c})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(c){if("t"in c){const l=c.t;"a"===l?this.upgradeIfSecondaryHealthy_():"r"===l?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===l&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(c){const l=no("t",c),p=no("d",c);if("c"===l)this.onSecondaryControl_(p);else{if("d"!==l)throw new Error("Unknown protocol layer: "+l);this.pendingDataMessages.push(p)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(c){const l=no("t",c),p=no("d",c);"c"===l?this.onControl_(p):"d"===l&&this.onDataMessage_(p)}onDataMessage_(c){this.onPrimaryResponse_(),this.onMessage_(c)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(c){const l=no("t",c);if("d"in c){const p=c.d;if("h"===l)this.onHandshake_(p);else if("n"===l){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let w=0;w<this.pendingDataMessages.length;++w)this.onDataMessage_(this.pendingDataMessages[w]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===l?this.onConnectionShutdown_(p):"r"===l?this.onReset_(p):"e"===l?vr("Server Error: "+p):"o"===l?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vr("Unknown control packet command: "+l)}}onHandshake_(c){const l=c.ts,p=c.v,w=c.h;this.sessionId=c.s,this.repoInfo_.host=w,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),"5"!==p&&Qn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const c=this.transportManager_.upgradeTransport();c&&this.startUpgrade_(c)}startUpgrade_(c){this.secondaryConn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),p=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,p),rr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(c){this.log_("Reset packet received.  New host: "+c),this.repoInfo_.host=c,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(c,l){this.log_("Realtime connection established."),this.conn_=c,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const c=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===c||this.rx_===c)&&this.close()}onConnectionLost_(c){this.conn_=null,c||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Y.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(c){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(c),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(c){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(c)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class hs{put(c,l,p,w){}merge(c,l,p,w){}refreshAuthToken(c){}refreshAppCheckToken(c){}onDisconnectPut(c,l,p){}onDisconnectMerge(c,l,p){}onDisconnectCancel(c,l){}reportStats(c){}}class va{constructor(c){this.allowedEvents_=c,this.listeners_={},(0,yt.hu)(Array.isArray(c)&&c.length>0,"Requires a non-empty array")}trigger(c,...l){if(Array.isArray(this.listeners_[c])){const p=[...this.listeners_[c]];for(let w=0;w<p.length;w++)p[w].callback.apply(p[w].context,l)}}on(c,l,p){this.validateEventType_(c),this.listeners_[c]=this.listeners_[c]||[],this.listeners_[c].push({callback:l,context:p});const w=this.getInitialEvent(c);w&&l.apply(p,w)}off(c,l,p){this.validateEventType_(c);const w=this.listeners_[c]||[];for(let P=0;P<w.length;P++)if(w[P].callback===l&&(!p||p===w[P].context))return void w.splice(P,1)}validateEventType_(c){(0,yt.hu)(this.allowedEvents_.find(l=>l===c),"Unknown event: "+c)}}class Vs extends va{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,yt.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Vs}getInitialEvent(c){return(0,yt.hu)("online"===c,"Unknown event type: "+c),[this.online_]}currentlyOnline(){return this.online_}}class ui{constructor(c,l){if(void 0===l){this.pieces_=c.split("/");let p=0;for(let w=0;w<this.pieces_.length;w++)this.pieces_[w].length>0&&(this.pieces_[p]=this.pieces_[w],p++);this.pieces_.length=p,this.pieceNum_=0}else this.pieces_=c,this.pieceNum_=l}toString(){let c="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)""!==this.pieces_[l]&&(c+="/"+this.pieces_[l]);return c||"/"}}function hi(){return new ui("")}function Xr(d){return d.pieceNum_>=d.pieces_.length?null:d.pieces_[d.pieceNum_]}function ts(d){return d.pieces_.length-d.pieceNum_}function vi(d){let c=d.pieceNum_;return c<d.pieces_.length&&c++,new ui(d.pieces_,c)}function _a(d){return d.pieceNum_<d.pieces_.length?d.pieces_[d.pieces_.length-1]:null}function ba(d,c=0){return d.pieces_.slice(d.pieceNum_+c)}function za(d){if(d.pieceNum_>=d.pieces_.length)return null;const c=[];for(let l=d.pieceNum_;l<d.pieces_.length-1;l++)c.push(d.pieces_[l]);return new ui(c,0)}function Ci(d,c){const l=[];for(let p=d.pieceNum_;p<d.pieces_.length;p++)l.push(d.pieces_[p]);if(c instanceof ui)for(let p=c.pieceNum_;p<c.pieces_.length;p++)l.push(c.pieces_[p]);else{const p=c.split("/");for(let w=0;w<p.length;w++)p[w].length>0&&l.push(p[w])}return new ui(l,0)}function Jr(d){return d.pieceNum_>=d.pieces_.length}function po(d,c){const l=Xr(d),p=Xr(c);if(null===l)return c;if(l===p)return po(vi(d),vi(c));throw new Error("INTERNAL ERROR: innerPath ("+c+") is not within outerPath ("+d+")")}function ml(d,c){if(ts(d)!==ts(c))return!1;for(let l=d.pieceNum_,p=c.pieceNum_;l<=d.pieces_.length;l++,p++)if(d.pieces_[l]!==c.pieces_[p])return!1;return!0}function Bi(d,c){let l=d.pieceNum_,p=c.pieceNum_;if(ts(d)>ts(c))return!1;for(;l<d.pieces_.length;){if(d.pieces_[l]!==c.pieces_[p])return!1;++l,++p}return!0}class go{constructor(c,l){this.errorPrefix_=l,this.parts_=ba(c,0),this.byteLength_=Math.max(1,this.parts_.length);for(let p=0;p<this.parts_.length;p++)this.byteLength_+=(0,yt.ug)(this.parts_[p]);bs(this)}}function bs(d){if(d.byteLength_>768)throw new Error(d.errorPrefix_+"has a key path longer than 768 bytes ("+d.byteLength_+").");if(d.parts_.length>32)throw new Error(d.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Yo(d))}function Yo(d){return 0===d.parts_.length?"":"in property '"+d.parts_.join(".")+"'"}class Wa extends va{constructor(){let c,l;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(l="visibilitychange",c="hidden"):void 0!==document.mozHidden?(l="mozvisibilitychange",c="mozHidden"):void 0!==document.msHidden?(l="msvisibilitychange",c="msHidden"):void 0!==document.webkitHidden&&(l="webkitvisibilitychange",c="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const p=!document[c];p!==this.visible_&&(this.visible_=p,this.trigger("visible",p))},!1)}static getInstance(){return new Wa}getInitialEvent(c){return(0,yt.hu)("visible"===c,"Unknown event type: "+c),[this.visible_]}}const Ts=1e3;let xs,ki=(()=>{class d extends hs{constructor(l,p,w,P,H,be,Ve,rt){if(super(),this.repoInfo_=l,this.applicationId_=p,this.onDataUpdate_=w,this.onConnectStatus_=P,this.onServerInfoUpdate_=H,this.authTokenProvider_=be,this.appCheckTokenProvider_=Ve,this.authOverride_=rt,this.id=d.nextPersistentConnectionId_++,this.log_=Gn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ts,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,rt&&!(0,yt.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wa.getInstance().on("visible",this.onVisible_,this),-1===l.host.indexOf("fblocal")&&Vs.getInstance().on("online",this.onOnline_,this)}sendRequest(l,p,w){const P=++this.requestNumber_,H={r:P,a:l,b:p};this.log_((0,yt.Pz)(H)),(0,yt.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(H),w&&(this.requestCBHash_[P]=w)}get(l){this.initConnection_();const p=new yt.BH,w={p:l._path.toString(),q:l._queryObject},P={action:"g",request:w,onComplete:be=>{const Ve=be.d;"ok"===be.s?(this.onDataUpdate_(w.p,Ve,!1,null),p.resolve(Ve)):p.reject(Ve)}};this.outstandingGets_.push(P),this.outstandingGetCount_++;const H=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const be=this.outstandingGets_[H];void 0===be||P!==be||(delete this.outstandingGets_[H],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+H+" timed out on connection"),p.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(H),p.promise}listen(l,p,w,P){this.initConnection_();const H=l._queryIdentifier,be=l._path.toString();this.log_("Listen called for "+be+" "+H),this.listens.has(be)||this.listens.set(be,new Map),(0,yt.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,yt.hu)(!this.listens.get(be).has(H),"listen() called twice for same path/queryId.");const Ve={onComplete:P,hashFn:p,query:l,tag:w};this.listens.get(be).set(H,Ve),this.connected_&&this.sendListen_(Ve)}sendGet_(l){const p=this.outstandingGets_[l];this.sendRequest("g",p.request,w=>{delete this.outstandingGets_[l],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),p.onComplete&&p.onComplete(w)})}sendListen_(l){const p=l.query,w=p._path.toString(),P=p._queryIdentifier;this.log_("Listen on "+w+" for "+P);const H={p:w};l.tag&&(H.q=p._queryObject,H.t=l.tag),H.h=l.hashFn(),this.sendRequest("q",H,Ve=>{const rt=Ve.d,Ft=Ve.s;d.warnOnListenWarnings_(rt,p),(this.listens.get(w)&&this.listens.get(w).get(P))===l&&(this.log_("listen response",Ve),"ok"!==Ft&&this.removeListen_(w,P),l.onComplete&&l.onComplete(Ft,rt))})}static warnOnListenWarnings_(l,p){if(l&&"object"==typeof l&&(0,yt.r3)(l,"w")){const w=(0,yt.DV)(l,"w");if(Array.isArray(w)&&~w.indexOf("no_index")){const P='".indexOn": "'+p._queryParams.getIndex().toString()+'"',H=p._path.toString();Qn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${P} at ${H} to your security rules for better performance.`)}}}refreshAuthToken(l){this.authToken_=l,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(l)}reduceReconnectDelayIfAdminCredential_(l){(l&&40===l.length||(0,yt.GJ)(l))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(l){this.appCheckToken_=l,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const l=this.authToken_,p=(0,yt.w9)(l)?"auth":"gauth",w={cred:l};null===this.authOverride_?w.noauth=!0:"object"==typeof this.authOverride_&&(w.authvar=this.authOverride_),this.sendRequest(p,w,P=>{const H=P.s,be=P.d||"error";this.authToken_===l&&("ok"===H?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(H,be))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},l=>{const p=l.s,w=l.d||"error";"ok"===p?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(p,w)})}unlisten(l,p){const w=l._path.toString(),P=l._queryIdentifier;this.log_("Unlisten called for "+w+" "+P),(0,yt.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(w,P)&&this.connected_&&this.sendUnlisten_(w,P,l._queryObject,p)}sendUnlisten_(l,p,w,P){this.log_("Unlisten on "+l+" for "+p);const H={p:l};P&&(H.q=w,H.t=P),this.sendRequest("n",H)}onDisconnectPut(l,p,w){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",l,p,w):this.onDisconnectRequestQueue_.push({pathString:l,action:"o",data:p,onComplete:w})}onDisconnectMerge(l,p,w){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",l,p,w):this.onDisconnectRequestQueue_.push({pathString:l,action:"om",data:p,onComplete:w})}onDisconnectCancel(l,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",l,null,p):this.onDisconnectRequestQueue_.push({pathString:l,action:"oc",data:null,onComplete:p})}sendOnDisconnect_(l,p,w,P){const H={p,d:w};this.log_("onDisconnect "+l,H),this.sendRequest(l,H,be=>{P&&setTimeout(()=>{P(be.s,be.d)},Math.floor(0))})}put(l,p,w,P){this.putInternal("p",l,p,w,P)}merge(l,p,w,P){this.putInternal("m",l,p,w,P)}putInternal(l,p,w,P,H){this.initConnection_();const be={p,d:w};void 0!==H&&(be.h=H),this.outstandingPuts_.push({action:l,request:be,onComplete:P}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+p)}sendPut_(l){const p=this.outstandingPuts_[l].action,w=this.outstandingPuts_[l].request,P=this.outstandingPuts_[l].onComplete;this.outstandingPuts_[l].queued=this.connected_,this.sendRequest(p,w,H=>{this.log_(p+" response",H),delete this.outstandingPuts_[l],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),P&&P(H.s,H.d)})}reportStats(l){if(this.connected_){const p={c:l};this.log_("reportStats",p),this.sendRequest("s",p,w=>{"ok"!==w.s&&this.log_("reportStats","Error sending stats: "+w.d)})}}onDataMessage_(l){if("r"in l){this.log_("from server: "+(0,yt.Pz)(l));const p=l.r,w=this.requestCBHash_[p];w&&(delete this.requestCBHash_[p],w(l.b))}else{if("error"in l)throw"A server-side error has occurred: "+l.error;"a"in l&&this.onDataPush_(l.a,l.b)}}onDataPush_(l,p){this.log_("handleServerMessage",l,p),"d"===l?this.onDataUpdate_(p.p,p.d,!1,p.t):"m"===l?this.onDataUpdate_(p.p,p.d,!0,p.t):"c"===l?this.onListenRevoked_(p.p,p.q):"ac"===l?this.onAuthRevoked_(p.s,p.d):"apc"===l?this.onAppCheckRevoked_(p.s,p.d):"sd"===l?this.onSecurityDebugPacket_(p):vr("Unrecognized action received from server: "+(0,yt.Pz)(l)+"\nAre you using the latest client?")}onReady_(l,p){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(l),this.lastSessionId=p,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(l){(0,yt.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(l))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(l){l&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ts,this.realtime_||this.scheduleConnect_(0)),this.visible_=l}onOnline_(l){l?(this.log_("Browser went online."),this.reconnectDelay_=Ts,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ts),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const l=(new Date).getTime()-this.lastConnectionAttemptTime_;let p=Math.max(0,this.reconnectDelay_-l);p=Math.random()*p,this.log_("Trying to reconnect in "+p+"ms"),this.scheduleConnect_(p),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var l=this;return(0,tr.Z)(function*(){if(l.shouldReconnect_()){l.log_("Making a connection attempt"),l.lastConnectionAttemptTime_=(new Date).getTime(),l.lastConnectionEstablishedTime_=null;const p=l.onDataMessage_.bind(l),w=l.onReady_.bind(l),P=l.onRealtimeDisconnect_.bind(l),H=l.id+":"+d.nextConnectionId_++,be=l.lastSessionId;let Ve=!1,rt=null;const Ft=function(){rt?rt.close():(Ve=!0,P())};l.realtime_={close:Ft,sendRequest:function(Kn){(0,yt.hu)(rt,"sendRequest call when we're not connected not allowed."),rt.sendRequest(Kn)}};const en=l.forceTokenRefresh_;l.forceTokenRefresh_=!1;try{const[Kn,Nr]=yield Promise.all([l.authTokenProvider_.getToken(en),l.appCheckTokenProvider_.getToken(en)]);Ve?un("getToken() completed but was canceled"):(un("getToken() completed. Creating connection."),l.authToken_=Kn&&Kn.accessToken,l.appCheckToken_=Nr&&Nr.token,rt=new es(H,l.repoInfo_,l.applicationId_,l.appCheckToken_,l.authToken_,p,w,P,qi=>{Qn(qi+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")},be))}catch(Kn){l.log_("Failed to get token: "+Kn),Ve||(l.repoInfo_.nodeAdmin&&Qn(Kn),Ft())}}})()}interrupt(l){un("Interrupting connection for reason: "+l),this.interruptReasons_[l]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(l){un("Resuming connection for reason: "+l),delete this.interruptReasons_[l],(0,yt.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ts,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(l){const p=l-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:p})}cancelSentTransactions_(){for(let l=0;l<this.outstandingPuts_.length;l++){const p=this.outstandingPuts_[l];p&&"h"in p.request&&p.queued&&(p.onComplete&&p.onComplete("disconnect"),delete this.outstandingPuts_[l],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(l,p){let w;w=p?p.map(H=>Qi(H)).join("$"):"default";const P=this.removeListen_(l,w);P&&P.onComplete&&P.onComplete("permission_denied")}removeListen_(l,p){const w=new ui(l).toString();let P;if(this.listens.has(w)){const H=this.listens.get(w);P=H.get(p),H.delete(p),0===H.size&&this.listens.delete(w)}else P=void 0;return P}onAuthRevoked_(l,p){un("Auth token revoked: "+l+"/"+p),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===l||"permission_denied"===l)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(l,p){un("App check token revoked: "+l+"/"+p),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===l||"permission_denied"===l)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(l){this.securityDebugCallback_?this.securityDebugCallback_(l):"msg"in l&&console.log("FIREBASE: "+l.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const l of this.listens.values())for(const p of l.values())this.sendListen_(p);for(let l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){const l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}for(let l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)}sendConnectStats_(){const l={};let p="js";(0,yt.Yr)()&&(p=this.repoInfo_.nodeAdmin?"admin_node":"node"),l["sdk."+p+"."+ri.replace(/\./g,"-")]=1,(0,yt.uI)()?l["framework.cordova"]=1:(0,yt.b$)()&&(l["framework.reactnative"]=1),this.reportStats(l)}shouldReconnect_(){const l=Vs.getInstance().currentlyOnline();return(0,yt.xb)(this.interruptReasons_)&&l}}return d.nextPersistentConnectionId_=0,d.nextConnectionId_=0,d})();class hr{constructor(c,l){this.name=c,this.node=l}static Wrap(c,l){return new hr(c,l)}}class fs{getCompare(){return this.compare.bind(this)}indexedValueChanged(c,l){const p=new hr(wi,c),w=new hr(wi,l);return 0!==this.compare(p,w)}minPost(){return hr.MIN}}class Hs extends fs{static get __EMPTY_NODE(){return xs}static set __EMPTY_NODE(c){xs=c}compare(c,l){return Di(c.name,l.name)}isDefinedOn(c){throw(0,yt.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(c,l){return!1}minPost(){return hr.MIN}maxPost(){return new hr(Li,xs)}makePost(c,l){return(0,yt.hu)("string"==typeof c,"KeyIndex indexValue must always be a string."),new hr(c,xs)}toString(){return".key"}}const mn=new Hs;class Vi{constructor(c,l,p,w,P=null){this.isReverse_=w,this.resultGenerator_=P,this.nodeStack_=[];let H=1;for(;!c.isEmpty();)if(c=c,H=l?p(c.key,l):1,w&&(H*=-1),H<0)c=this.isReverse_?c.left:c.right;else{if(0===H){this.nodeStack_.push(c);break}this.nodeStack_.push(c),c=this.isReverse_?c.right:c.left}}getNext(){if(0===this.nodeStack_.length)return null;let l,c=this.nodeStack_.pop();if(l=this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value},this.isReverse_)for(c=c.left;!c.isEmpty();)this.nodeStack_.push(c),c=c.right;else for(c=c.right;!c.isEmpty();)this.nodeStack_.push(c),c=c.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const c=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value}}}let bn,bo=(()=>{class d{constructor(l,p,w,P,H){this.key=l,this.value=p,this.color=null!=w?w:d.RED,this.left=null!=P?P:jn.EMPTY_NODE,this.right=null!=H?H:jn.EMPTY_NODE}copy(l,p,w,P,H){return new d(null!=l?l:this.key,null!=p?p:this.value,null!=w?w:this.color,null!=P?P:this.left,null!=H?H:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)}reverseTraversal(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(l,p,w){let P=this;const H=w(l,P.key);return P=H<0?P.copy(null,null,null,P.left.insert(l,p,w),null):0===H?P.copy(null,p,null,null,null):P.copy(null,null,null,null,P.right.insert(l,p,w)),P.fixUp_()}removeMin_(){if(this.left.isEmpty())return jn.EMPTY_NODE;let l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.removeMin_(),null),l.fixUp_()}remove(l,p){let w,P;if(w=this,p(l,w.key)<0)!w.left.isEmpty()&&!w.left.isRed_()&&!w.left.left.isRed_()&&(w=w.moveRedLeft_()),w=w.copy(null,null,null,w.left.remove(l,p),null);else{if(w.left.isRed_()&&(w=w.rotateRight_()),!w.right.isEmpty()&&!w.right.isRed_()&&!w.right.left.isRed_()&&(w=w.moveRedRight_()),0===p(l,w.key)){if(w.right.isEmpty())return jn.EMPTY_NODE;P=w.right.min_(),w=w.copy(P.key,P.value,null,null,w.right.removeMin_())}w=w.copy(null,null,null,null,w.right.remove(l,p))}return w.fixUp_()}isRed_(){return this.color}fixUp_(){let l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l}moveRedLeft_(){let l=this.colorFlip_();return l.right.left.isRed_()&&(l=l.copy(null,null,null,null,l.right.rotateRight_()),l=l.rotateLeft_(),l=l.colorFlip_()),l}moveRedRight_(){let l=this.colorFlip_();return l.left.left.isRed_()&&(l=l.rotateRight_(),l=l.colorFlip_()),l}rotateLeft_(){const l=this.copy(null,null,d.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)}rotateRight_(){const l=this.copy(null,null,d.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)}colorFlip_(){const l=this.left.copy(null,null,!this.left.color,null,null),p=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,p)}checkMaxDepth_(){const l=this.check_();return Math.pow(2,l)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)}}return d.RED=!0,d.BLACK=!1,d})();class jn{constructor(c,l=jn.EMPTY_NODE){this.comparator_=c,this.root_=l}insert(c,l){return new jn(this.comparator_,this.root_.insert(c,l,this.comparator_).copy(null,null,bo.BLACK,null,null))}remove(c){return new jn(this.comparator_,this.root_.remove(c,this.comparator_).copy(null,null,bo.BLACK,null,null))}get(c){let l,p=this.root_;for(;!p.isEmpty();){if(l=this.comparator_(c,p.key),0===l)return p.value;l<0?p=p.left:l>0&&(p=p.right)}return null}getPredecessorKey(c){let l,p=this.root_,w=null;for(;!p.isEmpty();){if(l=this.comparator_(c,p.key),0===l){if(p.left.isEmpty())return w?w.key:null;for(p=p.left;!p.right.isEmpty();)p=p.right;return p.key}l<0?p=p.left:l>0&&(w=p,p=p.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(c){return this.root_.inorderTraversal(c)}reverseTraversal(c){return this.root_.reverseTraversal(c)}getIterator(c){return new Vi(this.root_,null,this.comparator_,!1,c)}getIteratorFrom(c,l){return new Vi(this.root_,c,this.comparator_,!1,l)}getReverseIteratorFrom(c,l){return new Vi(this.root_,c,this.comparator_,!0,l)}getReverseIterator(c){return new Vi(this.root_,null,this.comparator_,!0,c)}}function br(d,c){return Di(d.name,c.name)}function Ga(d,c){return Di(d,c)}jn.EMPTY_NODE=new class{copy(c,l,p,w,P){return this}insert(c,l,p){return new bo(c,l,null)}remove(c,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(c){return!1}reverseTraversal(c){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const vn=function(d){return"number"==typeof d?"number:"+U(d):"string:"+d},ji=function(d){if(d.isLeafNode()){const c=d.val();(0,yt.hu)("string"==typeof c||"number"==typeof c||"object"==typeof c&&(0,yt.r3)(c,".sv"),"Priority must be a string or number.")}else(0,yt.hu)(d===bn||d.isEmpty(),"priority of unexpected type.");(0,yt.hu)(d===bn||d.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ps,ia,qa,Ia=(()=>{class d{constructor(l,p=d.__childrenNodeConstructor.EMPTY_NODE){this.value_=l,this.priorityNode_=p,this.lazyHash_=null,(0,yt.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ji(this.priorityNode_)}static set __childrenNodeConstructor(l){ps=l}static get __childrenNodeConstructor(){return ps}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(l){return new d(this.value_,l)}getImmediateChild(l){return".priority"===l?this.priorityNode_:d.__childrenNodeConstructor.EMPTY_NODE}getChild(l){return Jr(l)?this:".priority"===Xr(l)?this.priorityNode_:d.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(l,p){return null}updateImmediateChild(l,p){return".priority"===l?this.updatePriority(p):p.isEmpty()&&".priority"!==l?this:d.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,p).updatePriority(this.priorityNode_)}updateChild(l,p){const w=Xr(l);return null===w?p:p.isEmpty()&&".priority"!==w?this:((0,yt.hu)(".priority"!==w||1===ts(l),".priority must be the last token in a path"),this.updateImmediateChild(w,d.__childrenNodeConstructor.EMPTY_NODE.updateChild(vi(l),p)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(l,p){return!1}val(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let l="";this.priorityNode_.isEmpty()||(l+="priority:"+vn(this.priorityNode_.val())+":");const p=typeof this.value_;l+=p+":",l+="number"===p?U(this.value_):this.value_,this.lazyHash_=vt(l)}return this.lazyHash_}getValue(){return this.value_}compareTo(l){return l===d.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof d.__childrenNodeConstructor?-1:((0,yt.hu)(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))}compareToLeafNode_(l){const p=typeof l.value_,w=typeof this.value_,P=d.VALUE_TYPE_ORDER.indexOf(p),H=d.VALUE_TYPE_ORDER.indexOf(w);return(0,yt.hu)(P>=0,"Unknown leaf type: "+p),(0,yt.hu)(H>=0,"Unknown leaf type: "+w),P===H?"object"===w?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:H-P}withIndex(){return this}isIndexed(){return!0}equals(l){if(l===this)return!0;if(l.isLeafNode()){const p=l;return this.value_===p.value_&&this.priorityNode_.equals(p.priorityNode_)}return!1}}return d.VALUE_TYPE_ORDER=["object","boolean","number","string"],d})();const Ii=new class extends fs{compare(c,l){const p=c.node.getPriority(),w=l.node.getPriority(),P=p.compareTo(w);return 0===P?Di(c.name,l.name):P}isDefinedOn(c){return!c.getPriority().isEmpty()}indexedValueChanged(c,l){return!c.getPriority().equals(l.getPriority())}minPost(){return hr.MIN}maxPost(){return new hr(Li,new Ia("[PRIORITY-POST]",qa))}makePost(c,l){const p=ia(c);return new hr(l,new Ia("[PRIORITY-POST]",p))}toString(){return".priority"}},Zl=Math.log(2);class Ko{constructor(c){this.count=parseInt(Math.log(c+1)/Zl,10),this.current_=this.count-1;const w=(P=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=c+1&w}nextBitIsOne(){const c=!(this.bits_&1<<this.current_);return this.current_--,c}}const ws=function(d,c,l,p){d.sort(c);const w=function(Ve,rt){const Ft=rt-Ve;let Nt,en;if(0===Ft)return null;if(1===Ft)return Nt=d[Ve],en=l?l(Nt):Nt,new bo(en,Nt.node,bo.BLACK,null,null);{const Kn=parseInt(Ft/2,10)+Ve,Nr=w(Ve,Kn),qi=w(Kn+1,rt);return Nt=d[Kn],en=l?l(Nt):Nt,new bo(en,Nt.node,bo.BLACK,Nr,qi)}},be=function(Ve){let rt=null,Ft=null,Nt=d.length;const en=function(Nr,qi){const Po=Nt-Nr,ah=Nt;Nt-=Nr;const lh=w(Po+1,ah),Ha=d[Po],ch=l?l(Ha):Ha;Kn(new bo(ch,Ha.node,qi,null,lh))},Kn=function(Nr){rt?(rt.left=Nr,rt=Nr):(Ft=Nr,rt=Nr)};for(let Nr=0;Nr<Ve.count;++Nr){const qi=Ve.nextBitIsOne(),Po=Math.pow(2,Ve.count-(Nr+1));qi?en(Po,bo.BLACK):(en(Po,bo.BLACK),en(Po,bo.RED))}return Ft}(new Ko(d.length));return new jn(p||c,be)};let Ss;const Yr={};class Io{constructor(c,l){this.indexes_=c,this.indexSet_=l}static get Default(){return(0,yt.hu)(Yr&&Ii,"ChildrenNode.ts has not been loaded"),Ss=Ss||new Io({".priority":Yr},{".priority":Ii}),Ss}get(c){const l=(0,yt.DV)(this.indexes_,c);if(!l)throw new Error("No index defined for "+c);return l instanceof jn?l:null}hasIndex(c){return(0,yt.r3)(this.indexSet_,c.toString())}addIndex(c,l){(0,yt.hu)(c!==mn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const p=[];let w=!1;const P=l.getIterator(hr.Wrap);let be,H=P.getNext();for(;H;)w=w||c.isDefinedOn(H.node),p.push(H),H=P.getNext();be=w?ws(p,c.getCompare()):Yr;const Ve=c.toString(),rt=Object.assign({},this.indexSet_);rt[Ve]=c;const Ft=Object.assign({},this.indexes_);return Ft[Ve]=be,new Io(Ft,rt)}addToIndexes(c,l){const p=(0,yt.UI)(this.indexes_,(w,P)=>{const H=(0,yt.DV)(this.indexSet_,P);if((0,yt.hu)(H,"Missing index implementation for "+P),w===Yr){if(H.isDefinedOn(c.node)){const be=[],Ve=l.getIterator(hr.Wrap);let rt=Ve.getNext();for(;rt;)rt.name!==c.name&&be.push(rt),rt=Ve.getNext();return be.push(c),ws(be,H.getCompare())}return Yr}{const be=l.get(c.name);let Ve=w;return be&&(Ve=Ve.remove(new hr(c.name,be))),Ve.insert(c,c.node)}});return new Io(p,this.indexSet_)}removeFromIndexes(c,l){const p=(0,yt.UI)(this.indexes_,w=>{if(w===Yr)return w;{const P=l.get(c.name);return P?w.remove(new hr(c.name,P)):w}});return new Io(p,this.indexSet_)}}let ns,dr=(()=>{class d{constructor(l,p,w){this.children_=l,this.priorityNode_=p,this.indexMap_=w,this.lazyHash_=null,this.priorityNode_&&ji(this.priorityNode_),this.children_.isEmpty()&&(0,yt.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ns||(ns=new d(new jn(Ga),null,Io.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ns}updatePriority(l){return this.children_.isEmpty()?this:new d(this.children_,l,this.indexMap_)}getImmediateChild(l){if(".priority"===l)return this.getPriority();{const p=this.children_.get(l);return null===p?ns:p}}getChild(l){const p=Xr(l);return null===p?this:this.getImmediateChild(p).getChild(vi(l))}hasChild(l){return null!==this.children_.get(l)}updateImmediateChild(l,p){if((0,yt.hu)(p,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(p);{const w=new hr(l,p);let P,H;p.isEmpty()?(P=this.children_.remove(l),H=this.indexMap_.removeFromIndexes(w,this.children_)):(P=this.children_.insert(l,p),H=this.indexMap_.addToIndexes(w,this.children_));const be=P.isEmpty()?ns:this.priorityNode_;return new d(P,be,H)}}updateChild(l,p){const w=Xr(l);if(null===w)return p;{(0,yt.hu)(".priority"!==Xr(l)||1===ts(l),".priority must be the last token in a path");const P=this.getImmediateChild(w).updateChild(vi(l),p);return this.updateImmediateChild(w,P)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(l){if(this.isEmpty())return null;const p={};let w=0,P=0,H=!0;if(this.forEachChild(Ii,(be,Ve)=>{p[be]=Ve.val(l),w++,H&&d.INTEGER_REGEXP_.test(be)?P=Math.max(P,Number(be)):H=!1}),!l&&H&&P<2*w){const be=[];for(const Ve in p)be[Ve]=p[Ve];return be}return l&&!this.getPriority().isEmpty()&&(p[".priority"]=this.getPriority().val()),p}hash(){if(null===this.lazyHash_){let l="";this.getPriority().isEmpty()||(l+="priority:"+vn(this.getPriority().val())+":"),this.forEachChild(Ii,(p,w)=>{const P=w.hash();""!==P&&(l+=":"+p+":"+P)}),this.lazyHash_=""===l?"":vt(l)}return this.lazyHash_}getPredecessorChildName(l,p,w){const P=this.resolveIndex_(w);if(P){const H=P.getPredecessorKey(new hr(l,p));return H?H.name:null}return this.children_.getPredecessorKey(l)}getFirstChildName(l){const p=this.resolveIndex_(l);if(p){const w=p.minKey();return w&&w.name}return this.children_.minKey()}getFirstChild(l){const p=this.getFirstChildName(l);return p?new hr(p,this.children_.get(p)):null}getLastChildName(l){const p=this.resolveIndex_(l);if(p){const w=p.maxKey();return w&&w.name}return this.children_.maxKey()}getLastChild(l){const p=this.getLastChildName(l);return p?new hr(p,this.children_.get(p)):null}forEachChild(l,p){const w=this.resolveIndex_(l);return w?w.inorderTraversal(P=>p(P.name,P.node)):this.children_.inorderTraversal(p)}getIterator(l){return this.getIteratorFrom(l.minPost(),l)}getIteratorFrom(l,p){const w=this.resolveIndex_(p);if(w)return w.getIteratorFrom(l,P=>P);{const P=this.children_.getIteratorFrom(l.name,hr.Wrap);let H=P.peek();for(;null!=H&&p.compare(H,l)<0;)P.getNext(),H=P.peek();return P}}getReverseIterator(l){return this.getReverseIteratorFrom(l.maxPost(),l)}getReverseIteratorFrom(l,p){const w=this.resolveIndex_(p);if(w)return w.getReverseIteratorFrom(l,P=>P);{const P=this.children_.getReverseIteratorFrom(l.name,hr.Wrap);let H=P.peek();for(;null!=H&&p.compare(H,l)>0;)P.getNext(),H=P.peek();return P}}compareTo(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===k?-1:0}withIndex(l){if(l===mn||this.indexMap_.hasIndex(l))return this;{const p=this.indexMap_.addIndex(l,this.children_);return new d(this.children_,this.priorityNode_,p)}}isIndexed(l){return l===mn||this.indexMap_.hasIndex(l)}equals(l){if(l===this)return!0;if(l.isLeafNode())return!1;{const p=l;if(this.getPriority().equals(p.getPriority())){if(this.children_.count()===p.children_.count()){const w=this.getIterator(Ii),P=p.getIterator(Ii);let H=w.getNext(),be=P.getNext();for(;H&&be;){if(H.name!==be.name||!H.node.equals(be.node))return!1;H=w.getNext(),be=P.getNext()}return null===H&&null===be}return!1}return!1}}resolveIndex_(l){return l===mn?null:this.indexMap_.get(l.toString())}}return d.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,d})();const k=new class extends dr{constructor(){super(new jn(Ga),dr.EMPTY_NODE,Io.Default)}compareTo(c){return c===this?0:1}equals(c){return c===this}getPriority(){return this}getImmediateChild(c){return dr.EMPTY_NODE}isEmpty(){return!1}};function I(d,c=null){if(null===d)return dr.EMPTY_NODE;if("object"==typeof d&&".priority"in d&&(c=d[".priority"]),(0,yt.hu)(null===c||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c,"Invalid priority type found: "+typeof c),"object"==typeof d&&".value"in d&&null!==d[".value"]&&(d=d[".value"]),"object"!=typeof d||".sv"in d)return new Ia(d,I(c));if(d instanceof Array){let l=dr.EMPTY_NODE;return $r(d,(p,w)=>{if((0,yt.r3)(d,p)&&"."!==p.substring(0,1)){const P=I(w);(P.isLeafNode()||!P.isEmpty())&&(l=l.updateImmediateChild(p,P))}}),l.updatePriority(I(c))}{const l=[];let p=!1;if($r(d,(H,be)=>{if("."!==H.substring(0,1)){const Ve=I(be);Ve.isEmpty()||(p=p||!Ve.getPriority().isEmpty(),l.push(new hr(H,Ve)))}}),0===l.length)return dr.EMPTY_NODE;const P=ws(l,br,H=>H.name,Ga);if(p){const H=ws(l,Ii.getCompare());return new dr(P,I(c),new Io({".priority":H},{".priority":Ii}))}return new dr(P,I(c),Io.Default)}}Object.defineProperties(hr,{MIN:{value:new hr(wi,dr.EMPTY_NODE)},MAX:{value:new hr(Li,k)}}),Hs.__EMPTY_NODE=dr.EMPTY_NODE,Ia.__childrenNodeConstructor=dr,bn=k,qa=k,function(d){ia=d}(I);class B extends fs{constructor(c){super(),this.indexPath_=c,(0,yt.hu)(!Jr(c)&&".priority"!==Xr(c),"Can't create PathIndex with empty path or .priority key")}extractChild(c){return c.getChild(this.indexPath_)}isDefinedOn(c){return!c.getChild(this.indexPath_).isEmpty()}compare(c,l){const p=this.extractChild(c.node),w=this.extractChild(l.node),P=p.compareTo(w);return 0===P?Di(c.name,l.name):P}makePost(c,l){const p=I(c),w=dr.EMPTY_NODE.updateChild(this.indexPath_,p);return new hr(l,w)}maxPost(){const c=dr.EMPTY_NODE.updateChild(this.indexPath_,k);return new hr(Li,c)}toString(){return ba(this.indexPath_,0).join("/")}}const me=new class extends fs{compare(c,l){const p=c.node.compareTo(l.node);return 0===p?Di(c.name,l.name):p}isDefinedOn(c){return!0}indexedValueChanged(c,l){return!c.equals(l)}minPost(){return hr.MIN}maxPost(){return hr.MAX}makePost(c,l){const p=I(c);return new hr(l,p)}toString(){return".value"}};function Hi(d,c,l){return{type:"child_changed",snapshotNode:c,childName:d,oldSnap:l}}class As{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ii}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,yt.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,yt.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wi}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,yt.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,yt.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Li}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,yt.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ii}copy(){const c=new As;return c.limitSet_=this.limitSet_,c.limit_=this.limit_,c.startSet_=this.startSet_,c.indexStartValue_=this.indexStartValue_,c.startNameSet_=this.startNameSet_,c.indexStartName_=this.indexStartName_,c.endSet_=this.endSet_,c.indexEndValue_=this.indexEndValue_,c.endNameSet_=this.endNameSet_,c.indexEndName_=this.indexEndName_,c.index_=this.index_,c.viewFrom_=this.viewFrom_,c}}function zs(d){const c={};if(d.isDefault())return c;let l;return d.index_===Ii?l="$priority":d.index_===me?l="$value":d.index_===mn?l="$key":((0,yt.hu)(d.index_ instanceof B,"Unrecognized index type!"),l=d.index_.toString()),c.orderBy=(0,yt.Pz)(l),d.startSet_&&(c.startAt=(0,yt.Pz)(d.indexStartValue_),d.startNameSet_&&(c.startAt+=","+(0,yt.Pz)(d.indexStartName_))),d.endSet_&&(c.endAt=(0,yt.Pz)(d.indexEndValue_),d.endNameSet_&&(c.endAt+=","+(0,yt.Pz)(d.indexEndName_))),d.limitSet_&&(d.isViewFromLeft()?c.limitToFirst=d.limit_:c.limitToLast=d.limit_),c}function dd(d){const c={};if(d.startSet_&&(c.sp=d.indexStartValue_,d.startNameSet_&&(c.sn=d.indexStartName_)),d.endSet_&&(c.ep=d.indexEndValue_,d.endNameSet_&&(c.en=d.indexEndName_)),d.limitSet_){c.l=d.limit_;let l=d.viewFrom_;""===l&&(l=d.isViewFromLeft()?"l":"r"),c.vf=l}return d.index_!==Ii&&(c.i=d.index_.toString()),c}class eo extends hs{constructor(c,l,p,w){super(),this.repoInfo_=c,this.onDataUpdate_=l,this.authTokenProvider_=p,this.appCheckTokenProvider_=w,this.log_=Gn("p:rest:"),this.listens_={}}reportStats(c){throw new Error("Method not implemented.")}static getListenId_(c,l){return void 0!==l?"tag$"+l:((0,yt.hu)(c._queryParams.isDefault(),"should have a tag if it's not a default query."),c._path.toString())}listen(c,l,p,w){const P=c._path.toString();this.log_("Listen called for "+P+" "+c._queryIdentifier);const H=eo.getListenId_(c,p),be={};this.listens_[H]=be;const Ve=zs(c._queryParams);this.restRequest_(P+".json",Ve,(rt,Ft)=>{let Nt=Ft;if(404===rt&&(Nt=null,rt=null),null===rt&&this.onDataUpdate_(P,Nt,!1,p),(0,yt.DV)(this.listens_,H)===be){let en;en=rt?401===rt?"permission_denied":"rest_error:"+rt:"ok",w(en,null)}})}unlisten(c,l){const p=eo.getListenId_(c,l);delete this.listens_[p]}get(c){const l=zs(c._queryParams),p=c._path.toString(),w=new yt.BH;return this.restRequest_(p+".json",l,(P,H)=>{let be=H;404===P&&(be=null,P=null),null===P?(this.onDataUpdate_(p,be,!1,null),w.resolve(be)):w.reject(new Error(be))}),w.promise}refreshAuthToken(c){}restRequest_(c,l={},p){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([w,P])=>{w&&w.accessToken&&(l.auth=w.accessToken),P&&P.token&&(l.ac=P.token);const H=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+c+"?ns="+this.repoInfo_.namespace+(0,yt.xO)(l);this.log_("Sending REST request for "+H);const be=new XMLHttpRequest;be.onreadystatechange=()=>{if(p&&4===be.readyState){this.log_("REST Response for "+H+" received. status:",be.status,"response:",be.responseText);let Ve=null;if(be.status>=200&&be.status<300){try{Ve=(0,yt.cI)(be.responseText)}catch(rt){Qn("Failed to parse JSON response for "+H+": "+be.responseText)}p(null,Ve)}else 401!==be.status&&404!==be.status&&Qn("Got unsuccessful REST response for "+H+" Status: "+be.status),p(be.status);p=null}},be.open("GET",H,!0),be.send()})}}class oa{constructor(){this.rootNode_=dr.EMPTY_NODE}getNode(c){return this.rootNode_.getChild(c)}updateSnapshot(c,l){this.rootNode_=this.rootNode_.updateChild(c,l)}}function is(){return{value:null,children:new Map}}function wo(d,c,l){if(Jr(c))d.value=l,d.children.clear();else if(null!==d.value)d.value=d.value.updateChild(c,l);else{const p=Xr(c);d.children.has(p)||d.children.set(p,is()),wo(d.children.get(p),c=vi(c),l)}}function mi(d,c,l){null!==d.value?l(c,d.value):function(d,c){d.children.forEach((l,p)=>{c(p,l)})}(d,(p,w)=>{mi(w,new ui(c.toString()+"/"+p),l)})}class tc{constructor(c){this.collection_=c,this.last_=null}get(){const c=this.collection_.get(),l=Object.assign({},c);return this.last_&&$r(this.last_,(p,w)=>{l[p]=l[p]-w}),this.last_=c,l}}class wl{constructor(c,l){this.server_=l,this.statsToReport_={},this.statsListener_=new tc(c);const p=1e4+2e4*Math.random();rr(this.reportStats_.bind(this),Math.floor(p))}reportStats_(){const c=this.statsListener_.get(),l={};let p=!1;$r(c,(w,P)=>{P>0&&(0,yt.r3)(this.statsToReport_,w)&&(l[w]=P,p=!0)}),p&&this.server_.reportStats(l),rr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Wi=(()=>(function(d){d[d.OVERWRITE=0]="OVERWRITE",d[d.MERGE=1]="MERGE",d[d.ACK_USER_WRITE=2]="ACK_USER_WRITE",d[d.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Wi||(Wi={})),Wi))();function El(d){return{fromUser:!1,fromServer:!0,queryId:d,tagged:!0}}class Uo{constructor(c,l,p){this.path=c,this.affectedTree=l,this.revert=p,this.type=Wi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(c){if(Jr(this.path)){if(null!=this.affectedTree.value)return(0,yt.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new ui(c));return new Uo(hi(),l,this.revert)}}return(0,yt.hu)(Xr(this.path)===c,"operationForChild called for unrelated child."),new Uo(vi(this.path),this.affectedTree,this.revert)}}class Es{constructor(c,l,p){this.source=c,this.path=l,this.snap=p,this.type=Wi.OVERWRITE}operationForChild(c){return Jr(this.path)?new Es(this.source,hi(),this.snap.getImmediateChild(c)):new Es(this.source,vi(this.path),this.snap)}}class Ya{constructor(c,l,p){this.source=c,this.path=l,this.children=p,this.type=Wi.MERGE}operationForChild(c){if(Jr(this.path)){const l=this.children.subtree(new ui(c));return l.isEmpty()?null:l.value?new Es(this.source,hi(),l.value):new Ya(this.source,hi(),l)}return(0,yt.hu)(Xr(this.path)===c,"Can't get a merge for a child not on the path of the operation"),new Ya(this.source,vi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ks{constructor(c,l,p){this.node_=c,this.fullyInitialized_=l,this.filtered_=p}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(c){if(Jr(c))return this.isFullyInitialized()&&!this.filtered_;const l=Xr(c);return this.isCompleteForChild(l)}isCompleteForChild(c){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(c)}getNode(){return this.node_}}function Ta(d,c,l,p,w,P){const H=p.filter(be=>be.type===l);H.sort((be,Ve)=>function(d,c,l){if(null==c.childName||null==l.childName)throw(0,yt.g5)("Should only compare child_ events.");const p=new hr(c.childName,c.snapshotNode),w=new hr(l.childName,l.snapshotNode);return d.index_.compare(p,w)}(d,be,Ve)),H.forEach(be=>{const Ve=function(d,c,l){return"value"===c.type||"child_removed"===c.type||(c.prevName=l.getPredecessorChildName(c.childName,c.snapshotNode,d.index_)),c}(d,be,P);w.forEach(rt=>{rt.respondsTo(be.type)&&c.push(rt.createEvent(Ve,d.query_))})})}function xa(d,c){return{eventCache:d,serverCache:c}}function Gs(d,c,l,p){return xa(new ks(c,l,p),d.serverCache)}function gs(d,c,l,p){return xa(d.eventCache,new ks(c,l,p))}function ic(d){return d.eventCache.isFullyInitialized()?d.eventCache.getNode():null}function Lo(d){return d.serverCache.isFullyInitialized()?d.serverCache.getNode():null}let Sa;class $i{constructor(c,l=(()=>(Sa||(Sa=new jn($o)),Sa))()){this.value=c,this.children=l}static fromObject(c){let l=new $i(null);return $r(c,(p,w)=>{l=l.set(new ui(p),w)}),l}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(c,l){if(null!=this.value&&l(this.value))return{path:hi(),value:this.value};if(Jr(c))return null;{const p=Xr(c),w=this.children.get(p);if(null!==w){const P=w.findRootMostMatchingPathAndValue(vi(c),l);return null!=P?{path:Ci(new ui(p),P.path),value:P.value}:null}return null}}findRootMostValueAndPath(c){return this.findRootMostMatchingPathAndValue(c,()=>!0)}subtree(c){if(Jr(c))return this;{const l=Xr(c),p=this.children.get(l);return null!==p?p.subtree(vi(c)):new $i(null)}}set(c,l){if(Jr(c))return new $i(l,this.children);{const p=Xr(c),P=(this.children.get(p)||new $i(null)).set(vi(c),l),H=this.children.insert(p,P);return new $i(this.value,H)}}remove(c){if(Jr(c))return this.children.isEmpty()?new $i(null):new $i(null,this.children);{const l=Xr(c),p=this.children.get(l);if(p){const w=p.remove(vi(c));let P;return P=w.isEmpty()?this.children.remove(l):this.children.insert(l,w),null===this.value&&P.isEmpty()?new $i(null):new $i(this.value,P)}return this}}get(c){if(Jr(c))return this.value;{const l=Xr(c),p=this.children.get(l);return p?p.get(vi(c)):null}}setTree(c,l){if(Jr(c))return l;{const p=Xr(c),P=(this.children.get(p)||new $i(null)).setTree(vi(c),l);let H;return H=P.isEmpty()?this.children.remove(p):this.children.insert(p,P),new $i(this.value,H)}}fold(c){return this.fold_(hi(),c)}fold_(c,l){const p={};return this.children.inorderTraversal((w,P)=>{p[w]=P.fold_(Ci(c,w),l)}),l(c,this.value,p)}findOnPath(c,l){return this.findOnPath_(c,hi(),l)}findOnPath_(c,l,p){const w=!!this.value&&p(l,this.value);if(w)return w;if(Jr(c))return null;{const P=Xr(c),H=this.children.get(P);return H?H.findOnPath_(vi(c),Ci(l,P),p):null}}foreachOnPath(c,l){return this.foreachOnPath_(c,hi(),l)}foreachOnPath_(c,l,p){if(Jr(c))return this;{this.value&&p(l,this.value);const w=Xr(c),P=this.children.get(w);return P?P.foreachOnPath_(vi(c),Ci(l,w),p):new $i(null)}}foreach(c){this.foreach_(hi(),c)}foreach_(c,l){this.children.inorderTraversal((p,w)=>{w.foreach_(Ci(c,p),l)}),this.value&&l(c,this.value)}foreachChild(c){this.children.inorderTraversal((l,p)=>{p.value&&c(l,p.value)})}}class ms{constructor(c){this.writeTree_=c}static empty(){return new ms(new $i(null))}}function Za(d,c,l){if(Jr(c))return new ms(new $i(l));{const p=d.writeTree_.findRootMostValueAndPath(c);if(null!=p){const w=p.path;let P=p.value;const H=po(w,c);return P=P.updateChild(H,l),new ms(d.writeTree_.set(w,P))}{const w=new $i(l),P=d.writeTree_.setTree(c,w);return new ms(P)}}}function Ms(d,c,l){let p=d;return $r(l,(w,P)=>{p=Za(p,Ci(c,w),P)}),p}function ys(d,c){if(Jr(c))return ms.empty();{const l=d.writeTree_.setTree(c,new $i(null));return new ms(l)}}function Aa(d,c){return null!=os(d,c)}function os(d,c){const l=d.writeTree_.findRootMostValueAndPath(c);return null!=l?d.writeTree_.get(l.path).getChild(po(l.path,c)):null}function _u(d){const c=[],l=d.writeTree_.value;return null!=l?l.isLeafNode()||l.forEachChild(Ii,(p,w)=>{c.push(new hr(p,w))}):d.writeTree_.children.inorderTraversal((p,w)=>{null!=w.value&&c.push(new hr(p,w.value))}),c}function zi(d,c){if(Jr(c))return d;{const l=os(d,c);return new ms(null!=l?new $i(l):d.writeTree_.subtree(c))}}function qs(d){return d.writeTree_.isEmpty()}function ka(d,c){return oc(hi(),d.writeTree_,c)}function oc(d,c,l){if(null!=c.value)return l.updateChild(d,c.value);{let p=null;return c.children.inorderTraversal((w,P)=>{".priority"===w?((0,yt.hu)(null!==P.value,"Priority writes must always be leaf nodes"),p=P.value):l=oc(Ci(d,w),P,l)}),!l.getChild(d).isEmpty()&&null!==p&&(l=l.updateChild(Ci(d,".priority"),p)),l}}function Rs(d,c){return yd(c,d)}function Qa(d,c){if(d.snap)return Bi(d.path,c);for(const l in d.children)if(d.children.hasOwnProperty(l)&&Bi(Ci(d.path,l),c))return!0;return!1}function vs(d){return d.visible}function Ma(d,c,l){let p=ms.empty();for(let w=0;w<d.length;++w){const P=d[w];if(c(P)){const H=P.path;let be;if(P.snap)Bi(l,H)?(be=po(l,H),p=Za(p,be,P.snap)):Bi(H,l)&&(be=po(H,l),p=Za(p,hi(),P.snap.getChild(be)));else{if(!P.children)throw(0,yt.g5)("WriteRecord should have .snap or .children");if(Bi(l,H))be=po(l,H),p=Ms(p,be,P.children);else if(Bi(H,l))if(be=po(H,l),Jr(be))p=Ms(p,hi(),P.children);else{const Ve=(0,yt.DV)(P.children,Xr(be));if(Ve){const rt=Ve.getChild(vi(be));p=Za(p,hi(),rt)}}}}}return p}function Lc(d,c,l,p,w){if(p||w){const P=zi(d.visibleWrites,c);return!w&&qs(P)?l:w||null!=l||Aa(P,hi())?ka(Ma(d.allWrites,function(rt){return(rt.visible||w)&&(!p||!~p.indexOf(rt.writeId))&&(Bi(rt.path,c)||Bi(c,rt.path))},c),l||dr.EMPTY_NODE):null}{const P=os(d.visibleWrites,c);if(null!=P)return P;{const H=zi(d.visibleWrites,c);return qs(H)?l:null!=l||Aa(H,hi())?ka(H,l||dr.EMPTY_NODE):null}}}function Ps(d,c,l,p){return Lc(d.writeTree,d.treePath,c,l,p)}function Eu(d,c){return function(d,c,l){let p=dr.EMPTY_NODE;const w=os(d.visibleWrites,c);if(w)return w.isLeafNode()||w.forEachChild(Ii,(P,H)=>{p=p.updateImmediateChild(P,H)}),p;if(l){const P=zi(d.visibleWrites,c);return l.forEachChild(Ii,(H,be)=>{const Ve=ka(zi(P,new ui(H)),be);p=p.updateImmediateChild(H,Ve)}),_u(P).forEach(H=>{p=p.updateImmediateChild(H.name,H.node)}),p}return _u(zi(d.visibleWrites,c)).forEach(H=>{p=p.updateImmediateChild(H.name,H.node)}),p}(d.writeTree,d.treePath,c)}function Eo(d,c,l,p){return function(d,c,l,p,w){(0,yt.hu)(p||w,"Either existingEventSnap or existingServerSnap must exist");const P=Ci(c,l);if(Aa(d.visibleWrites,P))return null;{const H=zi(d.visibleWrites,P);return qs(H)?w.getChild(l):ka(H,w.getChild(l))}}(d.writeTree,d.treePath,c,l,p)}function Ra(d,c){return function(d,c){return os(d.visibleWrites,c)}(d.writeTree,Ci(d.treePath,c))}function md(d,c,l){return function(d,c,l,p){const w=Ci(c,l),P=os(d.visibleWrites,w);return null!=P?P:p.isCompleteForChild(l)?ka(zi(d.visibleWrites,w),p.getNode().getImmediateChild(l)):null}(d.writeTree,d.treePath,c,l)}function $c(d,c){return yd(Ci(d.treePath,c),d.writeTree)}function yd(d,c){return{treePath:d,writeTree:c}}class vd{constructor(){this.changeMap=new Map}trackChildChange(c){const l=c.type,p=c.childName;(0,yt.hu)("child_added"===l||"child_changed"===l||"child_removed"===l,"Only child changes supported for tracking"),(0,yt.hu)(".priority"!==p,"Only non-priority child changes can be tracked.");const w=this.changeMap.get(p);if(w){const P=w.type;if("child_added"===l&&"child_removed"===P)this.changeMap.set(p,Hi(p,c.snapshotNode,w.snapshotNode));else if("child_removed"===l&&"child_added"===P)this.changeMap.delete(p);else if("child_removed"===l&&"child_changed"===P)this.changeMap.set(p,function(d,c){return{type:"child_removed",snapshotNode:c,childName:d}}(p,w.oldSnap));else if("child_changed"===l&&"child_added"===P)this.changeMap.set(p,function(d,c){return{type:"child_added",snapshotNode:c,childName:d}}(p,c.snapshotNode));else{if("child_changed"!==l||"child_changed"!==P)throw(0,yt.g5)("Illegal combination of changes: "+c+" occurred after "+w);this.changeMap.set(p,Hi(p,c.snapshotNode,w.oldSnap))}}else this.changeMap.set(p,c)}getChanges(){return Array.from(this.changeMap.values())}}const Pa=new class{getCompleteChild(c){return null}getChildAfterChild(c,l,p){return null}};class Zo{constructor(c,l,p=null){this.writes_=c,this.viewCache_=l,this.optCompleteServerCache_=p}getCompleteChild(c){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(c))return l.getNode().getImmediateChild(c);{const p=null!=this.optCompleteServerCache_?new ks(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return md(this.writes_,c,p)}}getChildAfterChild(c,l,p){const w=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Lo(this.viewCache_),P=function(d,c,l,p,w,P){return function(d,c,l,p,w,P,H){let be;const Ve=zi(d.visibleWrites,c),rt=os(Ve,hi());if(null!=rt)be=rt;else{if(null==l)return[];be=ka(Ve,l)}if(be=be.withIndex(H),be.isEmpty()||be.isLeafNode())return[];{const Ft=[],Nt=H.getCompare(),en=P?be.getReverseIteratorFrom(p,H):be.getIteratorFrom(p,H);let Kn=en.getNext();for(;Kn&&Ft.length<w;)0!==Nt(Kn,p)&&Ft.push(Kn),Kn=en.getNext();return Ft}}(d.writeTree,d.treePath,c,l,p,w,P)}(this.writes_,w,l,1,p,c);return 0===P.length?null:P[0]}}function Dl(d,c,l,p,w,P){const H=c.eventCache;if(null!=Ra(p,l))return c;{let be,Ve;if(Jr(l))if((0,yt.hu)(c.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),c.serverCache.isFiltered()){const rt=Lo(c),Nt=Eu(p,rt instanceof dr?rt:dr.EMPTY_NODE);be=d.filter.updateFullNode(c.eventCache.getNode(),Nt,P)}else{const rt=Ps(p,Lo(c));be=d.filter.updateFullNode(c.eventCache.getNode(),rt,P)}else{const rt=Xr(l);if(".priority"===rt){(0,yt.hu)(1===ts(l),"Can't have a priority with additional path components");const Ft=H.getNode();Ve=c.serverCache.getNode();const Nt=Eo(p,l,Ft,Ve);be=null!=Nt?d.filter.updatePriority(Ft,Nt):H.getNode()}else{const Ft=vi(l);let Nt;if(H.isCompleteForChild(rt)){Ve=c.serverCache.getNode();const en=Eo(p,l,H.getNode(),Ve);Nt=null!=en?H.getNode().getImmediateChild(rt).updateChild(Ft,en):H.getNode().getImmediateChild(rt)}else Nt=md(p,rt,c.serverCache);be=null!=Nt?d.filter.updateChild(H.getNode(),rt,Nt,Ft,w,P):H.getNode()}}return Gs(c,be,H.isFullyInitialized()||Jr(l),d.filter.filtersNodes())}}function ac(d,c,l,p,w,P,H,be){const Ve=c.serverCache;let rt;const Ft=H?d.filter:d.filter.getIndexedFilter();if(Jr(l))rt=Ft.updateFullNode(Ve.getNode(),p,null);else if(Ft.filtersNodes()&&!Ve.isFiltered()){const Kn=Ve.getNode().updateChild(l,p);rt=Ft.updateFullNode(Ve.getNode(),Kn,null)}else{const Kn=Xr(l);if(!Ve.isCompleteForPath(l)&&ts(l)>1)return c;const Nr=vi(l),Po=Ve.getNode().getImmediateChild(Kn).updateChild(Nr,p);rt=".priority"===Kn?Ft.updatePriority(Ve.getNode(),Po):Ft.updateChild(Ve.getNode(),Kn,Po,Nr,Pa,null)}const Nt=gs(c,rt,Ve.isFullyInitialized()||Jr(l),Ft.filtersNodes());return Dl(d,Nt,l,w,new Zo(w,Nt,P),be)}function ao(d,c,l,p,w,P,H){const be=c.eventCache;let Ve,rt;const Ft=new Zo(w,c,P);if(Jr(l))rt=d.filter.updateFullNode(c.eventCache.getNode(),p,H),Ve=Gs(c,rt,!0,d.filter.filtersNodes());else{const Nt=Xr(l);if(".priority"===Nt)rt=d.filter.updatePriority(c.eventCache.getNode(),p),Ve=Gs(c,rt,be.isFullyInitialized(),be.isFiltered());else{const en=vi(l),Kn=be.getNode().getImmediateChild(Nt);let Nr;if(Jr(en))Nr=p;else{const qi=Ft.getCompleteChild(Nt);Nr=null!=qi?".priority"===_a(en)&&qi.getChild(za(en)).isEmpty()?qi:qi.updateChild(en,p):dr.EMPTY_NODE}Ve=Kn.equals(Nr)?c:Gs(c,d.filter.updateChild(be.getNode(),Nt,Nr,en,Ft,H),be.isFullyInitialized(),d.filter.filtersNodes())}}return Ve}function _i(d,c){return d.eventCache.isCompleteForChild(c)}function Cu(d,c,l){return l.foreach((p,w)=>{c=c.updateChild(p,w)}),c}function lo(d,c,l,p,w,P,H,be){if(c.serverCache.getNode().isEmpty()&&!c.serverCache.isFullyInitialized())return c;let rt,Ve=c;rt=Jr(l)?p:new $i(null).setTree(l,p);const Ft=c.serverCache.getNode();return rt.children.inorderTraversal((Nt,en)=>{if(Ft.hasChild(Nt)){const Nr=Cu(0,c.serverCache.getNode().getImmediateChild(Nt),en);Ve=ac(d,Ve,new ui(Nt),Nr,w,P,H,be)}}),rt.children.inorderTraversal((Nt,en)=>{const Kn=!c.serverCache.isCompleteForChild(Nt)&&void 0===en.value;if(!Ft.hasChild(Nt)&&!Kn){const qi=Cu(0,c.serverCache.getNode().getImmediateChild(Nt),en);Ve=ac(d,Ve,new ui(Nt),qi,w,P,H,be)}}),Ve}function ph(d,c){const l=Lo(d.viewCache_);return l&&(d.query._queryParams.loadsAllData()||!Jr(c)&&!l.getImmediateChild(Xr(c)).isEmpty())?l.getChild(c):null}function Cf(d,c,l,p){c.type===Wi.MERGE&&null!==c.source.queryId&&((0,yt.hu)(Lo(d.viewCache_),"We should always have a full cache before handling merges"),(0,yt.hu)(ic(d.viewCache_),"Missing event cache, even though we have a server cache"));const w=d.viewCache_,P=function(d,c,l,p,w){const P=new vd;let H,be;if(l.type===Wi.OVERWRITE){const rt=l;rt.source.fromUser?H=ao(d,c,rt.path,rt.snap,p,w,P):((0,yt.hu)(rt.source.fromServer,"Unknown source."),be=rt.source.tagged||c.serverCache.isFiltered()&&!Jr(rt.path),H=ac(d,c,rt.path,rt.snap,p,w,be,P))}else if(l.type===Wi.MERGE){const rt=l;rt.source.fromUser?H=function(d,c,l,p,w,P,H){let be=c;return p.foreach((Ve,rt)=>{const Ft=Ci(l,Ve);_i(c,Xr(Ft))&&(be=ao(d,be,Ft,rt,w,P,H))}),p.foreach((Ve,rt)=>{const Ft=Ci(l,Ve);_i(c,Xr(Ft))||(be=ao(d,be,Ft,rt,w,P,H))}),be}(d,c,rt.path,rt.children,p,w,P):((0,yt.hu)(rt.source.fromServer,"Unknown source."),be=rt.source.tagged||c.serverCache.isFiltered(),H=lo(d,c,rt.path,rt.children,p,w,be,P))}else if(l.type===Wi.ACK_USER_WRITE){const rt=l;H=rt.revert?function(d,c,l,p,w,P){let H;if(null!=Ra(p,l))return c;{const be=new Zo(p,c,w),Ve=c.eventCache.getNode();let rt;if(Jr(l)||".priority"===Xr(l)){let Ft;if(c.serverCache.isFullyInitialized())Ft=Ps(p,Lo(c));else{const Nt=c.serverCache.getNode();(0,yt.hu)(Nt instanceof dr,"serverChildren would be complete if leaf node"),Ft=Eu(p,Nt)}Ft=Ft,rt=d.filter.updateFullNode(Ve,Ft,P)}else{const Ft=Xr(l);let Nt=md(p,Ft,c.serverCache);null==Nt&&c.serverCache.isCompleteForChild(Ft)&&(Nt=Ve.getImmediateChild(Ft)),rt=null!=Nt?d.filter.updateChild(Ve,Ft,Nt,vi(l),be,P):c.eventCache.getNode().hasChild(Ft)?d.filter.updateChild(Ve,Ft,dr.EMPTY_NODE,vi(l),be,P):Ve,rt.isEmpty()&&c.serverCache.isFullyInitialized()&&(H=Ps(p,Lo(c)),H.isLeafNode()&&(rt=d.filter.updateFullNode(rt,H,P)))}return H=c.serverCache.isFullyInitialized()||null!=Ra(p,hi()),Gs(c,rt,H,d.filter.filtersNodes())}}(d,c,rt.path,p,w,P):function(d,c,l,p,w,P,H){if(null!=Ra(w,l))return c;const be=c.serverCache.isFiltered(),Ve=c.serverCache;if(null!=p.value){if(Jr(l)&&Ve.isFullyInitialized()||Ve.isCompleteForPath(l))return ac(d,c,l,Ve.getNode().getChild(l),w,P,be,H);if(Jr(l)){let rt=new $i(null);return Ve.getNode().forEachChild(mn,(Ft,Nt)=>{rt=rt.set(new ui(Ft),Nt)}),lo(d,c,l,rt,w,P,be,H)}return c}{let rt=new $i(null);return p.foreach((Ft,Nt)=>{const en=Ci(l,Ft);Ve.isCompleteForPath(en)&&(rt=rt.set(Ft,Ve.getNode().getChild(en)))}),lo(d,c,l,rt,w,P,be,H)}}(d,c,rt.path,rt.affectedTree,p,w,P)}else{if(l.type!==Wi.LISTEN_COMPLETE)throw(0,yt.g5)("Unknown operation type: "+l.type);H=function(d,c,l,p,w){const P=c.serverCache;return Dl(d,gs(c,P.getNode(),P.isFullyInitialized()||Jr(l),P.isFiltered()),l,p,Pa,w)}(d,c,l.path,p,P)}const Ve=P.getChanges();return function(d,c,l){const p=c.eventCache;if(p.isFullyInitialized()){const w=p.getNode().isLeafNode()||p.getNode().isEmpty(),P=ic(d);(l.length>0||!d.eventCache.isFullyInitialized()||w&&!p.getNode().equals(P)||!p.getNode().getPriority().equals(P.getPriority()))&&l.push(function(d){return{type:"value",snapshotNode:d}}(ic(c)))}}(c,H,Ve),{viewCache:H,changes:Ve}}(d.processor_,w,c,l,p);return function(d,c){(0,yt.hu)(c.eventCache.getNode().isIndexed(d.filter.getIndex()),"Event snap not indexed"),(0,yt.hu)(c.serverCache.getNode().isIndexed(d.filter.getIndex()),"Server snap not indexed")}(d.processor_,P.viewCache),(0,yt.hu)(P.viewCache.serverCache.isFullyInitialized()||!w.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),d.viewCache_=P.viewCache,function(d,c,l,p){return function(d,c,l,p){const w=[],P=[];return c.forEach(H=>{"child_changed"===H.type&&d.index_.indexedValueChanged(H.oldSnap,H.snapshotNode)&&P.push(function(d,c){return{type:"child_moved",snapshotNode:c,childName:d}}(H.childName,H.snapshotNode))}),Ta(d,w,"child_removed",c,p,l),Ta(d,w,"child_added",c,p,l),Ta(d,w,"child_moved",P,p,l),Ta(d,w,"child_changed",c,p,l),Ta(d,w,"value",c,p,l),w}(d.eventGenerator_,c,l,p?[p]:d.eventRegistrations_)}(d,P.changes,P.viewCache.eventCache.getNode(),null)}let v,tl;function ln(d,c,l,p){const w=c.source.queryId;if(null!==w){const P=d.views.get(w);return(0,yt.hu)(null!=P,"SyncTree gave us an op for an invalid query."),Cf(P,c,l,p)}{let P=[];for(const H of d.views.values())P=P.concat(Cf(H,c,l,p));return P}}function Mo(d,c){let l=null;for(const p of d.views.values())l=l||ph(p,c);return l}class xl{constructor(c){this.listenProvider_=c,this.syncPointTree_=new $i(null),this.pendingWriteTree_={visibleWrites:ms.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Qo(d,c,l,p,w){return function(d,c,l,p,w){(0,yt.hu)(p>d.lastWriteId,"Stacking an older write on top of newer ones"),void 0===w&&(w=!0),d.allWrites.push({path:c,snap:l,writeId:p,visible:w}),w&&(d.visibleWrites=Za(d.visibleWrites,c,l)),d.lastWriteId=p}(d.pendingWriteTree_,c,l,p,w),w?rl(d,new Es({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,l)):[]}function ca(d,c,l=!1){const p=function(d,c){for(let l=0;l<d.allWrites.length;l++){const p=d.allWrites[l];if(p.writeId===c)return p}return null}(d.pendingWriteTree_,c);if(function(d,c){const l=d.allWrites.findIndex(be=>be.writeId===c);(0,yt.hu)(l>=0,"removeWrite called with nonexistent writeId.");const p=d.allWrites[l];d.allWrites.splice(l,1);let w=p.visible,P=!1,H=d.allWrites.length-1;for(;w&&H>=0;){const be=d.allWrites[H];be.visible&&(H>=l&&Qa(be,p.path)?w=!1:Bi(p.path,be.path)&&(P=!0)),H--}return!!w&&(P?(function(d){d.visibleWrites=Ma(d.allWrites,vs,hi()),d.lastWriteId=d.allWrites.length>0?d.allWrites[d.allWrites.length-1].writeId:-1}(d),!0):(p.snap?d.visibleWrites=ys(d.visibleWrites,p.path):$r(p.children,Ve=>{d.visibleWrites=ys(d.visibleWrites,Ci(p.path,Ve))}),!0))}(d.pendingWriteTree_,c)){let P=new $i(null);return null!=p.snap?P=P.set(hi(),!0):$r(p.children,H=>{P=P.set(new ui(H),!0)}),rl(d,new Uo(p.path,P,l))}return[]}function Ns(d,c,l){return rl(d,new Es({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,l))}function Dd(d,c,l){const w=d.pendingWriteTree_,P=d.syncPointTree_.findOnPath(c,(H,be)=>{const rt=Mo(be,po(H,c));if(rt)return rt});return Lc(w,c,P,l,!0)}function rl(d,c){return Td(c,d.syncPointTree_,null,Rs(d.pendingWriteTree_,hi()))}function Td(d,c,l,p){if(Jr(d.path))return Df(d,c,l,p);{const w=c.get(hi());null==l&&null!=w&&(l=Mo(w,hi()));let P=[];const H=Xr(d.path),be=d.operationForChild(H),Ve=c.children.get(H);if(Ve&&be){const rt=l?l.getImmediateChild(H):null,Ft=$c(p,H);P=P.concat(Td(be,Ve,rt,Ft))}return w&&(P=P.concat(ln(w,d,p,l))),P}}function Df(d,c,l,p){const w=c.get(hi());null==l&&null!=w&&(l=Mo(w,hi()));let P=[];return c.children.inorderTraversal((H,be)=>{const Ve=l?l.getImmediateChild(H):null,rt=$c(p,H),Ft=d.operationForChild(H);Ft&&(P=P.concat(Df(Ft,be,Ve,rt)))}),w&&(P=P.concat(ln(w,d,p,l))),P}function _h(d,c){return d.tagToQueryMap.get(c)}function Tf(d){const c=d.indexOf("$");return(0,yt.hu)(-1!==c&&c<d.length-1,"Bad queryKey."),{queryId:d.substr(c+1),path:new ui(d.substr(0,c))}}function uc(d,c,l){const p=d.syncPointTree_.get(c);return(0,yt.hu)(p,"Missing sync point for query tag that we're tracking"),ln(p,l,Rs(d.pendingWriteTree_,c),null)}class Yi{constructor(c){this.node_=c}getImmediateChild(c){const l=this.node_.getImmediateChild(c);return new Yi(l)}node(){return this.node_}}class dc{constructor(c,l){this.syncTree_=c,this.path_=l}getImmediateChild(c){const l=Ci(this.path_,c);return new dc(this.syncTree_,l)}node(){return Dd(this.syncTree_,this.path_)}}const Na=function(d,c,l){return d&&"object"==typeof d?((0,yt.hu)(".sv"in d,"Unexpected leaf node or priority contents"),"string"==typeof d[".sv"]?Bp(d[".sv"],c,l):"object"==typeof d[".sv"]?Is(d[".sv"],c):void(0,yt.hu)(!1,"Unexpected server value: "+JSON.stringify(d,null,2))):d},Bp=function(d,c,l){if("timestamp"===d)return l.timestamp;(0,yt.hu)(!1,"Unexpected server value: "+d)},Is=function(d,c,l){d.hasOwnProperty("increment")||(0,yt.hu)(!1,"Unexpected server value: "+JSON.stringify(d,null,2));const p=d.increment;"number"!=typeof p&&(0,yt.hu)(!1,"Unexpected increment value: "+p);const w=c.node();if((0,yt.hu)(null!=w,"Expected ChildrenNode.EMPTY_NODE for nulls"),!w.isLeafNode())return p;const H=w.getValue();return"number"!=typeof H?p:H+p},Ki=function(d,c,l){return jo(d,new Yi(c),l)};function jo(d,c,l){const p=d.getPriority().val(),w=Na(p,c.getImmediateChild(".priority"),l);let P;if(d.isLeafNode()){const H=d,be=Na(H.getValue(),c,l);return be!==H.getValue()||w!==H.getPriority().val()?new Ia(be,I(w)):d}{const H=d;return P=H,w!==H.getPriority().val()&&(P=P.updatePriority(new Ia(w))),H.forEachChild(Ii,(be,Ve)=>{const rt=jo(Ve,c.getImmediateChild(be),l);rt!==Ve&&(P=P.updateImmediateChild(be,rt))}),P}}class Sd{constructor(c="",l=null,p={children:{},childCount:0}){this.name=c,this.parent=l,this.node=p}}function Ad(d,c){let l=c instanceof ui?c:new ui(c),p=d,w=Xr(l);for(;null!==w;){const P=(0,yt.DV)(p.node.children,w)||{children:{},childCount:0};p=new Sd(w,p,P),l=vi(l),w=Xr(l)}return p}function Zi(d){return d.node.value}function Zs(d,c){d.node.value=c,Sl(d)}function Xo(d){return d.node.childCount>0}function ss(d,c){$r(d.node.children,(l,p)=>{c(new Sd(l,d,p))})}function hc(d,c,l,p){l&&!p&&c(d),ss(d,w=>{hc(w,c,!0,p)}),l&&p&&c(d)}function Fa(d){return new ui(null===d.parent?d.name:Fa(d.parent)+"/"+d.name)}function Sl(d){null!==d.parent&&function(d,c,l){const p=function(d){return void 0===Zi(d)&&!Xo(d)}(l),w=(0,yt.r3)(d.node.children,c);p&&w?(delete d.node.children[c],d.node.childCount--,Sl(d)):!p&&!w&&(d.node.children[c]=l.node,d.node.childCount++,Sl(d))}(d.parent,d.name,d)}const Sf=/[\[\].#$\/\u0000-\u001F\u007F]/,Af=/[\[\].#$\u0000-\u001F\u007F]/,pn=10485760,fc=function(d){return"string"==typeof d&&0!==d.length&&!Sf.test(d)},Au=function(d,c,l){const p=l instanceof ui?new go(l,d):l;if(void 0===c)throw new Error(d+"contains undefined "+Yo(p));if("function"==typeof c)throw new Error(d+"contains a function "+Yo(p)+" with contents = "+c.toString());if(Ni(c))throw new Error(d+"contains "+c.toString()+" "+Yo(p));if("string"==typeof c&&c.length>pn/3&&(0,yt.ug)(c)>pn)throw new Error(d+"contains a string greater than "+pn+" utf8 bytes "+Yo(p)+" ('"+c.substring(0,50)+"...')");if(c&&"object"==typeof c){let w=!1,P=!1;if($r(c,(H,be)=>{if(".value"===H)w=!0;else if(".priority"!==H&&".sv"!==H&&(P=!0,!fc(H)))throw new Error(d+" contains an invalid key ("+H+") "+Yo(p)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(d,c){d.parts_.length>0&&(d.byteLength_+=1),d.parts_.push(c),d.byteLength_+=(0,yt.ug)(c),bs(d)})(p,H),Au(d,be,p),function(d){const c=d.parts_.pop();d.byteLength_-=(0,yt.ug)(c),d.parts_.length>0&&(d.byteLength_-=1)}(p)}),w&&P)throw new Error(d+' contains ".value" child '+Yo(p)+" in addition to actual children.")}},kl=function(d,c){const l=c.path.toString();if("string"!=typeof c.repoInfo.host||0===c.repoInfo.host.length||!fc(c.repoInfo.namespace)&&"localhost"!==c.repoInfo.host.split(":")[0]||0!==l.length&&!function(d){return d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),function(d){return"string"==typeof d&&0!==d.length&&!Af.test(d)}(d)}(l))throw new Error((0,yt.gK)(d,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class $p{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yo(d,c,l){(function(d,c){let l=null;for(let p=0;p<c.length;p++){const w=c[p],P=w.getPath();null!==l&&!ml(P,l.path)&&(d.eventLists_.push(l),l=null),null===l&&(l={events:[],path:P}),l.events.push(w)}l&&d.eventLists_.push(l)})(d,l),function(d,c){d.recursionDepth_++;let l=!0;for(let p=0;p<d.eventLists_.length;p++){const w=d.eventLists_[p];w&&(c(w.path)?(Ml(d.eventLists_[p]),d.eventLists_[p]=null):l=!1)}l&&(d.eventLists_=[]),d.recursionDepth_--}(d,p=>Bi(p,c)||Bi(c,p))}function Ml(d){for(let c=0;c<d.events.length;c++){const l=d.events[c];if(null!==l){d.events[c]=null;const p=l.getEventRunner();bt&&un("event: "+l.toString()),sn(p)}}}class sl{constructor(c,l,p,w){this.repoInfo_=c,this.forceRestClient_=l,this.authTokenProvider_=p,this.appCheckProvider_=w,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $p,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=is(),this.transactionQueueTree_=new Sd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ru(d){const l=d.infoData_.getNode(new ui(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+l}function vc(d){return function(d){return(d=d||{}).timestamp=d.timestamp||(new Date).getTime(),d}({timestamp:Ru(d)})}function Pu(d,c,l,p,w){d.dataUpdateCount++;const P=new ui(c);l=d.interceptServerDataCallback_?d.interceptServerDataCallback_(c,l):l;let H=[];if(w)if(p){const Ve=(0,yt.UI)(l,rt=>I(rt));H=function(d,c,l,p){const w=_h(d,p);if(w){const P=Tf(w),H=P.path,be=P.queryId,Ve=po(H,c),rt=$i.fromObject(l);return uc(d,H,new Ya(El(be),Ve,rt))}return[]}(d.serverSyncTree_,P,Ve,w)}else{const Ve=I(l);H=function(d,c,l,p){const w=_h(d,p);if(null!=w){const P=Tf(w),H=P.path,be=P.queryId,Ve=po(H,c);return uc(d,H,new Es(El(be),Ve,l))}return[]}(d.serverSyncTree_,P,Ve,w)}else if(p){const Ve=(0,yt.UI)(l,rt=>I(rt));H=function(d,c,l){const p=$i.fromObject(l);return rl(d,new Ya({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,p))}(d.serverSyncTree_,P,Ve)}else{const Ve=I(l);H=Ns(d.serverSyncTree_,P,Ve)}let be=P;H.length>0&&(be=bc(d,P)),yo(d.eventQueue_,be,H)}function Md(d,c){La(d,"connected",c),!1===c&&function(d){Fs(d,"onDisconnectEvents");const c=vc(d),l=is();mi(d.onDisconnect_,hi(),(w,P)=>{const H=function(d,c,l,p){return jo(c,new dc(l,d),p)}(w,P,d.serverSyncTree_,c);wo(l,w,H)});let p=[];mi(l,hi(),(w,P)=>{p=p.concat(Ns(d.serverSyncTree_,w,P));const H=function(d,c){const l=Fa(Nf(d,c)),p=Ad(d.transactionQueueTree_,c);return function(d,c,l){let p=void 0?d:d.parent;for(;null!==p;){if(c(p))return!0;p=p.parent}}(p,w=>{Nd(d,w)}),Nd(d,p),hc(p,w=>{Nd(d,w)}),l}(d,w);bc(d,H)}),d.onDisconnect_=is(),yo(d.eventQueue_,hi(),p)}(d)}function La(d,c,l){const p=new ui("/.info/"+c),w=I(l);d.infoData_.updateSnapshot(p,w);const P=Ns(d.infoSyncTree_,p,w);yo(d.eventQueue_,p,P)}function zc(d){return d.nextWriteId_++}function Fs(d,...c){let l="";d.persistentConnection_&&(l=d.persistentConnection_.id+":"),un(l,...c)}function $a(d,c,l){return Dd(d.serverSyncTree_,c,l)||dr.EMPTY_NODE}function _c(d,c=d.transactionQueueTree_){if(c||Va(d,c),Zi(c)){const l=Nu(d,c);(0,yt.hu)(l.length>0,"Sending zero length transaction queue"),l.every(w=>0===w.status)&&function(d,c,l){const p=l.map(rt=>rt.currentWriteId),w=$a(d,c,p);let P=w;const H=w.hash();for(let rt=0;rt<l.length;rt++){const Ft=l[rt];(0,yt.hu)(0===Ft.status,"tryToSendTransactionQueue_: items in queue should all be run."),Ft.status=1,Ft.retryCount++;const Nt=po(c,Ft.path);P=P.updateChild(Nt,Ft.currentOutputSnapshotRaw)}const be=P.val(!0),Ve=c;d.server_.put(Ve.toString(),be,rt=>{Fs(d,"transaction put response",{path:Ve.toString(),status:rt});let Ft=[];if("ok"===rt){const Nt=[];for(let en=0;en<l.length;en++)l[en].status=2,Ft=Ft.concat(ca(d.serverSyncTree_,l[en].currentWriteId)),l[en].onComplete&&Nt.push(()=>l[en].onComplete(null,!0,l[en].currentOutputSnapshotResolved)),l[en].unwatcher();Va(d,Ad(d.transactionQueueTree_,c)),_c(d,d.transactionQueueTree_),yo(d.eventQueue_,c,Ft);for(let en=0;en<Nt.length;en++)sn(Nt[en])}else{if("datastale"===rt)for(let Nt=0;Nt<l.length;Nt++)l[Nt].status=3===l[Nt].status?4:0;else{Qn("transaction at "+Ve.toString()+" failed: "+rt);for(let Nt=0;Nt<l.length;Nt++)l[Nt].status=4,l[Nt].abortReason=rt}bc(d,c)}},H)}(d,Fa(c),l)}else Xo(c)&&ss(c,l=>{_c(d,l)})}function bc(d,c){const l=Nf(d,c),p=Fa(l);return function(d,c,l){if(0===c.length)return;const p=[];let w=[];const H=c.filter(be=>0===be.status).map(be=>be.currentWriteId);for(let be=0;be<c.length;be++){const Ve=c[be],rt=po(l,Ve.path);let Nt,Ft=!1;if((0,yt.hu)(null!==rt,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Ve.status)Ft=!0,Nt=Ve.abortReason,w=w.concat(ca(d.serverSyncTree_,Ve.currentWriteId,!0));else if(0===Ve.status)if(Ve.retryCount>=25)Ft=!0,Nt="maxretry",w=w.concat(ca(d.serverSyncTree_,Ve.currentWriteId,!0));else{const en=$a(d,Ve.path,H);Ve.currentInputSnapshot=en;const Kn=c[be].update(en.val());if(void 0!==Kn){Au("transaction failed: Data returned ",Kn,Ve.path);let Nr=I(Kn);"object"==typeof Kn&&null!=Kn&&(0,yt.r3)(Kn,".priority")||(Nr=Nr.updatePriority(en.getPriority()));const Po=Ve.currentWriteId,ah=vc(d),lh=Ki(Nr,en,ah);Ve.currentOutputSnapshotRaw=Nr,Ve.currentOutputSnapshotResolved=lh,Ve.currentWriteId=zc(d),H.splice(H.indexOf(Po),1),w=w.concat(Qo(d.serverSyncTree_,Ve.path,lh,Ve.currentWriteId,Ve.applyLocally)),w=w.concat(ca(d.serverSyncTree_,Po,!0))}else Ft=!0,Nt="nodata",w=w.concat(ca(d.serverSyncTree_,Ve.currentWriteId,!0))}yo(d.eventQueue_,l,w),w=[],Ft&&(c[be].status=2,setTimeout(c[be].unwatcher,Math.floor(0)),c[be].onComplete&&p.push("nodata"===Nt?()=>c[be].onComplete(null,!1,c[be].currentInputSnapshot):()=>c[be].onComplete(new Error(Nt),!1,null)))}Va(d,d.transactionQueueTree_);for(let be=0;be<p.length;be++)sn(p[be]);_c(d,d.transactionQueueTree_)}(d,Nu(d,l),p),p}function Nf(d,c){let l,p=d.transactionQueueTree_;for(l=Xr(c);null!==l&&void 0===Zi(p);)p=Ad(p,l),l=Xr(c=vi(c));return p}function Nu(d,c){const l=[];return Fu(d,c,l),l.sort((p,w)=>p.order-w.order),l}function Fu(d,c,l){const p=Zi(c);if(p)for(let w=0;w<p.length;w++)l.push(p[w]);ss(c,w=>{Fu(d,w,l)})}function Va(d,c){const l=Zi(c);if(l){let p=0;for(let w=0;w<l.length;w++)2!==l[w].status&&(l[p]=l[w],p++);l.length=p,Zs(c,l.length>0?l:void 0)}ss(c,p=>{Va(d,p)})}function Nd(d,c){const l=Zi(c);if(l){const p=[];let w=[],P=-1;for(let H=0;H<l.length;H++)3===l[H].status||(1===l[H].status?((0,yt.hu)(P===H-1,"All SENT items should be at beginning of queue."),P=H,l[H].status=3,l[H].abortReason="set"):((0,yt.hu)(0===l[H].status,"Unexpected transaction status in abort"),l[H].unwatcher(),w=w.concat(ca(d.serverSyncTree_,l[H].currentWriteId,!0)),l[H].onComplete&&p.push(l[H].onComplete.bind(null,new Error("set"),!1,null))));-1===P?Zs(c,void 0):l.length=P+1,yo(d.eventQueue_,Fa(c),w);for(let H=0;H<p.length;H++)sn(p[H])}}const Ls=function(d,c){const l=wc(d),p=l.namespace;return"firebase.com"===l.domain&&oi(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!p||"undefined"===p)&&"localhost"!==l.domain&&oi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Qn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Hr(l.host,l.secure,p,c,"ws"===l.scheme||"wss"===l.scheme,"",p!==l.subdomain),path:new ui(l.pathString)}},wc=function(d){let c="",l="",p="",w="",P="",H=!0,be="https",Ve=443;if("string"==typeof d){let rt=d.indexOf("//");rt>=0&&(be=d.substring(0,rt-1),d=d.substring(rt+2));let Ft=d.indexOf("/");-1===Ft&&(Ft=d.length);let Nt=d.indexOf("?");-1===Nt&&(Nt=d.length),c=d.substring(0,Math.min(Ft,Nt)),Ft<Nt&&(w=function(d){let c="";const l=d.split("/");for(let p=0;p<l.length;p++)if(l[p].length>0){let w=l[p];try{w=decodeURIComponent(w.replace(/\+/g," "))}catch(P){}c+="/"+w}return c}(d.substring(Ft,Nt)));const en=function(d){const c={};"?"===d.charAt(0)&&(d=d.substring(1));for(const l of d.split("&")){if(0===l.length)continue;const p=l.split("=");2===p.length?c[decodeURIComponent(p[0])]=decodeURIComponent(p[1]):Qn(`Invalid query segment '${l}' in query '${d}'`)}return c}(d.substring(Math.min(d.length,Nt)));rt=c.indexOf(":"),rt>=0?(H="https"===be||"wss"===be,Ve=parseInt(c.substring(rt+1),10)):rt=c.length;const Kn=c.slice(0,rt);if("localhost"===Kn.toLowerCase())l="localhost";else if(Kn.split(".").length<=2)l=Kn;else{const Nr=c.indexOf(".");p=c.substring(0,Nr).toLowerCase(),l=c.substring(Nr+1),P=p}"ns"in en&&(P=en.ns)}return{host:c,port:Ve,domain:l,subdomain:p,secure:H,scheme:be,pathString:w,namespace:P}};class xo{constructor(c,l,p,w){this._repo=c,this._path=l,this._queryParams=p,this._orderByCalled=w}get key(){return Jr(this._path)?null:_a(this._path)}get ref(){return new Xs(this._repo,this._path)}get _queryIdentifier(){const c=dd(this._queryParams),l=Qi(c);return"{}"===l?"default":l}get _queryObject(){return dd(this._queryParams)}isEqual(c){if(!((c=(0,yt.m9)(c))instanceof xo))return!1;const l=this._repo===c._repo,p=ml(this._path,c._path);return l&&p&&this._queryIdentifier===c._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(d){let c="";for(let l=d.pieceNum_;l<d.pieces_.length;l++)""!==d.pieces_[l]&&(c+="/"+encodeURIComponent(String(d.pieces_[l])));return c||"/"}(this._path)}}class Xs extends xo{constructor(c,l){super(c,l,new As,!1)}get parent(){const c=za(this._path);return null===c?null:new Xs(this._repo,c)}get root(){let c=this;for(;null!==c.parent;)c=c.parent;return c}}(function(d){(0,yt.hu)(!v,"__referenceConstructor has already been defined"),v=d})(Xs),function(d){(0,yt.hu)(!tl,"__referenceConstructor has already been defined"),tl=d}(Xs);const $d={};class Oh{constructor(c,l){this._repoInternal=c,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(d,c,l){if(d.stats_=ve(d.repoInfo_),d.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)d.server_=new eo(d.repoInfo_,(p,w,P,H)=>{Pu(d,p,w,P,H)},d.authTokenProvider_,d.appCheckProvider_),setTimeout(()=>Md(d,!0),0);else{if(null!=l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,yt.Pz)(l)}catch(p){throw new Error("Invalid authOverride provided: "+p)}}d.persistentConnection_=new ki(d.repoInfo_,c,(p,w,P,H)=>{Pu(d,p,w,P,H)},p=>{Md(d,p)},p=>{!function(d,c){$r(c,(l,p)=>{La(d,l,p)})}(d,p)},d.authTokenProvider_,d.appCheckProvider_,l),d.server_=d.persistentConnection_}d.authTokenProvider_.addTokenChangeListener(p=>{d.server_.refreshAuthToken(p)}),d.appCheckProvider_.addTokenChangeListener(p=>{d.server_.refreshAppCheckToken(p.token)}),d.statsReporter_=function(d,c){const l=d.toString();return $[l]||($[l]=c()),$[l]}(d.repoInfo_,()=>new wl(d.stats_,d.server_)),d.infoData_=new oa,d.infoSyncTree_=new xl({startListening:(p,w,P,H)=>{let be=[];const Ve=d.infoData_.getNode(p._path);return Ve.isEmpty()||(be=Ns(d.infoSyncTree_,p._path,Ve),setTimeout(()=>{H("ok")},0)),be},stopListening:()=>{}}),La(d,"connected",!1),d.serverSyncTree_=new xl({startListening:(p,w,P,H)=>(d.server_.listen(p,P,w,(be,Ve)=>{const rt=H(be,Ve);yo(d.eventQueue_,p._path,rt)}),[]),stopListening:(p,w)=>{d.server_.unlisten(p,w)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xs(this._repo,hi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(d,c){const l=$d[c];(!l||l[d.key]!==d)&&oi(`Database ${c}(${d.repoInfo_}) has already been deleted.`),function(d){d.persistentConnection_&&d.persistentConnection_.interrupt("repo_interrupt")}(d),delete l[d.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(c){null===this._rootInternal&&oi("Cannot call "+c+" on a deleted database.")}}function sm(d=(0,Sn.getApp)(),c){return(0,Sn._getProvider)(d,"database").getImmediate({identifier:c})}ki.prototype.simpleListen=function(d,c){this.sendRequest("q",{p:d},c)},ki.prototype.echo=function(d,c){this.sendRequest("echo",{d},c)},function(d){ri=d}(Sn.SDK_VERSION),(0,Sn._registerComponent)(new li.wA("database",(c,{instanceIdentifier:l})=>function(d,c,l,p,w){let P=p||d.options.databaseURL;void 0===P&&(d.options.projectId||oi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),un("Using default host for project ",d.options.projectId),P=`${d.options.projectId}-default-rtdb.firebaseio.com`);let Ve,rt,H=Ls(P,w),be=H.repoInfo;"undefined"!=typeof process&&(rt=process.env.FIREBASE_DATABASE_EMULATOR_HOST),rt?(Ve=!0,P=`http://${rt}?ns=${be.namespace}`,H=Ls(P,w),be=H.repoInfo):Ve=!H.repoInfo.secure;const Ft=w&&Ve?new Se(Se.OWNER):new Re(d.name,d.options,c);kl("Invalid Firebase Database URL",H),Jr(H.path)||oi("Database URL must point to the root of a Firebase Database (not including a child path).");const Nt=function(d,c,l,p){let w=$d[c.name];w||(w={},$d[c.name]=w);let P=w[d.toURLString()];return P&&oi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),P=new sl(d,!1,l,p),w[d.toURLString()]=P,P}(be,d,Ft,new Yn(d.name,l));return new Oh(Nt,d)}(c.getProvider("app").getImmediate(),c.getProvider("auth-internal"),c.getProvider("app-check-internal"),l),"PUBLIC").setMultipleInstances(!0)),(0,Sn.registerVersion)(di,"0.12.4",void 0),(0,Sn.registerVersion)(di,"0.12.4","esm2017");class Xc{constructor(c){return c}}const fa="database",Wu=new C.OlP("angularfire2.database-instances");function jd(d){return(c,l)=>{const p=c.runOutsideAngular(()=>d(l));return new Xc(p)}}const Qp={provide:class{constructor(){return(0,Zt.vb)(fa)}},deps:[[new C.FiY,Wu]]},Gu={provide:Xc,useFactory:function(d,c){const l=(0,Zt.JM)(fa,d,c);return l&&new Xc(l)},deps:[[new C.FiY,Wu],Ye.Ot]};let Hd=(()=>{class d{constructor(){(0,fn.KN)("angularfire",Zt.q4.full,"rtdb")}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=C.oAB({type:d}),d.\u0275inj=C.cJS({providers:[Gu,Qp]}),d})();function zd(d,...c){return{ngModule:Hd,providers:[{provide:Wu,useFactory:jd(d),multi:!0,deps:[C.R0b,C.zs3,Zt.HU,Ye.z6,[new C.FiY,On.dh],[new C.FiY,zn.nm],...c]}]}}const $h=(0,Zt.u3)(sm,!0);var ea=F(5023);class Dc{constructor(c){return c}}const Yd="firestore",Kd=new C.OlP("angularfire2.firestore-instances");function ep(d){return(c,l)=>{const p=c.runOutsideAngular(()=>d(l));return new Dc(p)}}const Wh={provide:class{constructor(){return(0,Zt.vb)(Yd)}},deps:[[new C.FiY,Kd]]},Zd={provide:Dc,useFactory:function(d,c){const l=(0,Zt.JM)(Yd,d,c);return l&&new Dc(l)},deps:[[new C.FiY,Kd],Ye.Ot]};let dg=(()=>{class d{constructor(){(0,fn.KN)("angularfire",Zt.q4.full,"fst")}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=C.oAB({type:d}),d.\u0275inj=C.cJS({providers:[Zd,Wh]}),d})();function Gh(d,...c){return{ngModule:dg,providers:[{provide:Kd,useFactory:ep(d),multi:!0,deps:[C.R0b,C.zs3,Zt.HU,Ye.z6,[new C.FiY,On.dh],[new C.FiY,zn.nm],...c]}]}}const mg=(0,Zt.u3)(ea.ad,!0),cf="functions";class bm{constructor(c,l,p){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=c.getImmediate({optional:!0}),this.messaging=l.getImmediate({optional:!0}),this.auth||c.get().then(w=>this.auth=w,()=>{}),this.messaging||l.get().then(w=>this.messaging=w,()=>{}),this.appCheck||p.get().then(w=>this.appCheck=w,()=>{})}getAuthToken(){var c=this;return(0,tr.Z)(function*(){if(c.auth)try{const l=yield c.auth.getToken();return null==l?void 0:l.accessToken}catch(l){return}})()}getMessagingToken(){var c=this;return(0,tr.Z)(function*(){if(c.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield c.messaging.getToken()}catch(l){return}})()}getAppCheckToken(){var c=this;return(0,tr.Z)(function*(){if(c.appCheck){const l=yield c.appCheck.getToken();return l.error?null:l.token}return null})()}getContext(){var c=this;return(0,tr.Z)(function*(){return{authToken:yield c.getAuthToken(),messagingToken:yield c.getMessagingToken(),appCheckToken:yield c.getAppCheckToken()}})()}}const yp="us-central1";class _p{constructor(c,l,p,w,P=yp,H){this.app=c,this.fetchImpl=H,this.emulatorOrigin=null,this.contextProvider=new bm(l,p,w),this.cancelAllRequests=new Promise(be=>{this.deleteService=()=>Promise.resolve(be())});try{const be=new URL(P);this.customDomain=be.origin,this.region=yp}catch(be){this.customDomain=null,this.region=P}}_delete(){return this.deleteService()}_url(c){const l=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${l}/${this.region}/${c}`:null!==this.customDomain?`${this.customDomain}/${c}`:`https://${this.region}-${l}.cloudfunctions.net/${c}`}}const td="@firebase/functions";function Cg(d=(0,Sn.getApp)(),c=yp){return(0,Sn._getProvider)((0,yt.m9)(d),cf).getImmediate({identifier:c})}!function(d,c){(0,Sn._registerComponent)(new li.wA(cf,(p,{instanceIdentifier:w})=>{const P=p.getProvider("app").getImmediate(),H=p.getProvider("auth-internal"),be=p.getProvider("messaging-internal"),Ve=p.getProvider("app-check-internal");return new _p(P,H,be,Ve,w,d)},"PUBLIC").setMultipleInstances(!0)),(0,Sn.registerVersion)(td,"0.7.6",void 0),(0,Sn.registerVersion)(td,"0.7.6","esm2017")}(fetch.bind(self));class na{constructor(c){return c}}const su="functions",id=new C.OlP("angularfire2.functions-instances");function od(d){return(c,l)=>{const p=c.runOutsideAngular(()=>d(l));return new na(p)}}const Ho={provide:class{constructor(){return(0,Zt.vb)(su)}},deps:[[new C.FiY,id]]},Sc={provide:na,useFactory:function(d,c){const l=(0,Zt.JM)(su,d,c);return l&&new na(l)},deps:[[new C.FiY,id],Ye.Ot]};let sh=(()=>{class d{constructor(){(0,fn.KN)("angularfire",Zt.q4.full,"fn")}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=C.oAB({type:d}),d.\u0275inj=C.cJS({providers:[Sc,Ho]}),d})();function Oi(d,...c){return{ngModule:sh,providers:[{provide:id,useFactory:od(d),multi:!0,deps:[C.R0b,C.zs3,Zt.HU,Ye.z6,[new C.FiY,On.dh],[new C.FiY,zn.nm],...c]}]}}const ho=(0,Zt.u3)(Cg,!0);var lu=F(470);class Vl{constructor(c){return c}}const Ul="messaging",jl=new C.OlP("angularfire2.messaging-instances");function xg(d){return(c,l)=>{if(!Zt.n1.sync())return null;const p=c.runOutsideAngular(()=>d(l));return new Vl(p)}}const Ip={provide:class{constructor(){return(0,Zt.vb)(Ul)}},deps:[[new C.FiY,jl]]},Dp={provide:Vl,useFactory:function(d,c){if(!Zt.n1.sync())return null;const l=(0,Zt.JM)(Ul,d,c);return l&&new Vl(l)},deps:[[new C.FiY,jl],Ye.Ot]};let df=(()=>{class d{constructor(){(0,fn.KN)("angularfire",Zt.q4.full,"fcm")}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=C.oAB({type:d}),d.\u0275inj=C.cJS({providers:[Dp,Ip,{provide:C.ip1,useValue:Zt.n1.async,multi:!0}]}),d})();function dl(d,...c){return{ngModule:df,providers:[{provide:jl,useFactory:xg(d),multi:!0,deps:[C.R0b,C.zs3,Zt.HU,Ye.z6,...c]}]}}const zl=(0,Zt.u3)(lu.KL,!0);var Ag=F(3584),ff=F(7905);let pf=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=C.oAB({type:d,bootstrap:[J]}),d.\u0275inj=C.cJS({providers:[{provide:cn.wN,useClass:In.r4}],imports:[[Dr,In.Pc.forRoot(),De,(0,Ye.hX)(()=>(0,Ye.ZF)(wt.N.firebase)),ff.hO.initializeApp(wt.N.firebase),Ag.yb.enablePersistence(),(0,On.AR)(()=>(0,On.uJ)((0,Ye.Mq)(),{persistence:Lr.AP,popupRedirectResolver:Lr.n0})),zd(()=>$h()),Gh(()=>mg()),Oi(()=>ho()),dl(()=>zl())]]}),d})();wt.N.production&&(0,C.G48)(),lr().bootstrapModule(pf).catch(d=>console.log(d))},863:(rn,ht,F)=>{var a={"./ion-accordion_2.entry.js":[9134,5023],"./ion-action-sheet.entry.js":[7572,7572],"./ion-alert.entry.js":[1360,1360],"./ion-app_8.entry.js":[4705,4705],"./ion-avatar_3.entry.js":[9871,9871],"./ion-back-button.entry.js":[2430,2430],"./ion-backdrop.entry.js":[3206,3206],"./ion-breadcrumb_2.entry.js":[8954,8592,8954],"./ion-button_2.entry.js":[9092,9092],"./ion-card_5.entry.js":[1259,1259],"./ion-checkbox.entry.js":[663,663],"./ion-chip.entry.js":[1014,1014],"./ion-col_3.entry.js":[5127,5127],"./ion-datetime_3.entry.js":[5847,8592,5847],"./ion-fab_3.entry.js":[4956,4956],"./ion-img.entry.js":[3800,1915],"./ion-infinite-scroll_2.entry.js":[2259,2259],"./ion-input.entry.js":[3148,3148],"./ion-item-option_3.entry.js":[2753,2753],"./ion-item_8.entry.js":[7446,7446],"./ion-loading.entry.js":[8739,8739],"./ion-menu_3.entry.js":[2473,2473],"./ion-modal.entry.js":[9797,9797],"./ion-nav_2.entry.js":[4138,4138],"./ion-picker-column-internal.entry.js":[6607,6607],"./ion-picker-internal.entry.js":[7881,7881],"./ion-popover.entry.js":[1678,1678],"./ion-progress-bar.entry.js":[2485,2485],"./ion-radio_2.entry.js":[2787,2787],"./ion-range.entry.js":[9009,9009],"./ion-refresher_2.entry.js":[5570,8592,5570],"./ion-reorder_2.entry.js":[8953,8953],"./ion-ripple-effect.entry.js":[5651,5651],"./ion-route_4.entry.js":[7957,7957],"./ion-searchbar.entry.js":[4784,4784],"./ion-segment_2.entry.js":[1662,1662],"./ion-select_3.entry.js":[7668,4099],"./ion-slide_2.entry.js":[170,170],"./ion-spinner.entry.js":[2691,8592,2691],"./ion-split-pane.entry.js":[7245,7245],"./ion-tab-bar_2.entry.js":[9500,9500],"./ion-tab_2.entry.js":[167,167],"./ion-text.entry.js":[1454,1454],"./ion-textarea.entry.js":[8113,8113],"./ion-toast.entry.js":[4269,4269],"./ion-toggle.entry.js":[1772,1772],"./ion-virtual-scroll.entry.js":[7014,7014]};function C(X){if(!F.o(a,X))return Promise.resolve().then(()=>{var he=new Error("Cannot find module '"+X+"'");throw he.code="MODULE_NOT_FOUND",he});var He=a[X],Te=He[0];return Promise.all(He.slice(1).map(F.e)).then(()=>F(Te))}C.keys=()=>Object.keys(a),C.id=863,rn.exports=C},4762:(rn,ht,F)=>{"use strict";function He(qe,it){var Me={};for(var Ue in qe)Object.prototype.hasOwnProperty.call(qe,Ue)&&it.indexOf(Ue)<0&&(Me[Ue]=qe[Ue]);if(null!=qe&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(Ue=Object.getOwnPropertySymbols(qe);ut<Ue.length;ut++)it.indexOf(Ue[ut])<0&&Object.prototype.propertyIsEnumerable.call(qe,Ue[ut])&&(Me[Ue[ut]]=qe[Ue[ut]])}return Me}function Te(qe,it,Me,Ue){var Ht,ut=arguments.length,nt=ut<3?it:null===Ue?Ue=Object.getOwnPropertyDescriptor(it,Me):Ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nt=Reflect.decorate(qe,it,Me,Ue);else for(var tn=qe.length-1;tn>=0;tn--)(Ht=qe[tn])&&(nt=(ut<3?Ht(nt):ut>3?Ht(it,Me,nt):Ht(it,Me))||nt);return ut>3&&nt&&Object.defineProperty(it,Me,nt),nt}function Q(qe,it,Me,Ue){return new(Me||(Me=Promise))(function(nt,Ht){function tn(_t){try{pt(Ue.next(_t))}catch(Et){Ht(Et)}}function Dt(_t){try{pt(Ue.throw(_t))}catch(Et){Ht(Et)}}function pt(_t){_t.done?nt(_t.value):function(nt){return nt instanceof Me?nt:new Me(function(Ht){Ht(nt)})}(_t.value).then(tn,Dt)}pt((Ue=Ue.apply(qe,it||[])).next())})}F.d(ht,{_T:()=>He,gn:()=>Te,mG:()=>Q})},6019:(rn,ht,F)=>{"use strict";F.d(ht,{mr:()=>Ne,Ov:()=>Ui,ez:()=>Re,K0:()=>fe,Do:()=>Ie,V_:()=>ee,Ye:()=>st,S$:()=>Ee,sg:()=>ri,O5:()=>L,tP:()=>un,b0:()=>_e,lw:()=>Q,EM:()=>nr,JF:()=>Si,PM:()=>an,w_:()=>he,bD:()=>Se,q:()=>X,Mx:()=>yt,HT:()=>Te});var a=F(9619);let C=null;function X(){return C}function Te(V){C||(C=V)}class he{}const fe=new a.OlP("DocumentToken");let Q=(()=>{class V{historyGo($){throw new Error("Not implemented")}}return V.\u0275fac=function($){return new($||V)},V.\u0275prov=a.Yz7({token:V,factory:function(){return(0,a.LFG)(de)},providedIn:"platform"}),V})();const ee=new a.OlP("Location Initialized");let de=(()=>{class V extends Q{constructor($){super(),this._doc=$,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState($){const ve=X().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("popstate",$,!1),()=>ve.removeEventListener("popstate",$)}onHashChange($){const ve=X().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("hashchange",$,!1),()=>ve.removeEventListener("hashchange",$)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname($){this.location.pathname=$}pushState($,ve,ct){we()?this._history.pushState($,ve,ct):this.location.hash=ct}replaceState($,ve,ct){we()?this._history.replaceState($,ve,ct):this.location.hash=ct}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return V.\u0275fac=function($){return new($||V)(a.LFG(fe))},V.\u0275prov=a.Yz7({token:V,factory:function(){return new de((0,a.LFG)(fe))},providedIn:"platform"}),V})();function we(){return!!window.history.pushState}function Ce(V,ae){if(0==V.length)return ae;if(0==ae.length)return V;let $=0;return V.endsWith("/")&&$++,ae.startsWith("/")&&$++,2==$?V+ae.substring(1):1==$?V+ae:V+"/"+ae}function We(V){const ae=V.match(/#|\?|$/),$=ae&&ae.index||V.length;return V.slice(0,$-("/"===V[$-1]?1:0))+V.slice($)}function ye(V){return V&&"?"!==V[0]?"?"+V:V}let Ee=(()=>{class V{historyGo($){throw new Error("Not implemented")}}return V.\u0275fac=function($){return new($||V)},V.\u0275prov=a.Yz7({token:V,factory:function(){return function(V){const ae=(0,a.LFG)(fe).location;return new _e((0,a.LFG)(Q),ae&&ae.origin||"")}()},providedIn:"root"}),V})();const Ne=new a.OlP("appBaseHref");let _e=(()=>{class V extends Ee{constructor($,ve){if(super(),this._platformLocation=$,this._removeListenerFns=[],null==ve&&(ve=this._platformLocation.getBaseHrefFromDOM()),null==ve)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ve}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return Ce(this._baseHref,$)}path($=!1){const ve=this._platformLocation.pathname+ye(this._platformLocation.search),ct=this._platformLocation.hash;return ct&&$?`${ve}${ct}`:ve}pushState($,ve,ct,O){const M=this.prepareExternalUrl(ct+ye(O));this._platformLocation.pushState($,ve,M)}replaceState($,ve,ct,O){const M=this.prepareExternalUrl(ct+ye(O));this._platformLocation.replaceState($,ve,M)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var ve,ct;null==(ct=(ve=this._platformLocation).historyGo)||ct.call(ve,$)}}return V.\u0275fac=function($){return new($||V)(a.LFG(Q),a.LFG(Ne,8))},V.\u0275prov=a.Yz7({token:V,factory:V.\u0275fac}),V})(),Ie=(()=>{class V extends Ee{constructor($,ve){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=ve&&(this._baseHref=ve)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let ve=this._platformLocation.hash;return null==ve&&(ve="#"),ve.length>0?ve.substring(1):ve}prepareExternalUrl($){const ve=Ce(this._baseHref,$);return ve.length>0?"#"+ve:ve}pushState($,ve,ct,O){let M=this.prepareExternalUrl(ct+ye(O));0==M.length&&(M=this._platformLocation.pathname),this._platformLocation.pushState($,ve,M)}replaceState($,ve,ct,O){let M=this.prepareExternalUrl(ct+ye(O));0==M.length&&(M=this._platformLocation.pathname),this._platformLocation.replaceState($,ve,M)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var ve,ct;null==(ct=(ve=this._platformLocation).historyGo)||ct.call(ve,$)}}return V.\u0275fac=function($){return new($||V)(a.LFG(Q),a.LFG(Ne,8))},V.\u0275prov=a.Yz7({token:V,factory:V.\u0275fac}),V})(),st=(()=>{class V{constructor($,ve){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=$;const ct=this._platformStrategy.getBaseHref();this._platformLocation=ve,this._baseHref=We(Je(ct)),this._platformStrategy.onPopState(O=>{this._subject.emit({url:this.path(!0),pop:!0,state:O.state,type:O.type})})}path($=!1){return this.normalize(this._platformStrategy.path($))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo($,ve=""){return this.path()==this.normalize($+ye(ve))}normalize($){return V.stripTrailingSlash(function(V,ae){return V&&ae.startsWith(V)?ae.substring(V.length):ae}(this._baseHref,Je($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._platformStrategy.prepareExternalUrl($)}go($,ve="",ct=null){this._platformStrategy.pushState(ct,"",$,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl($+ye(ve)),ct)}replaceState($,ve="",ct=null){this._platformStrategy.replaceState(ct,"",$,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl($+ye(ve)),ct)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo($=0){var ve,ct;null==(ct=(ve=this._platformStrategy).historyGo)||ct.call(ve,$)}onUrlChange($){this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ve=>{this._notifyUrlChangeListeners(ve.url,ve.state)}))}_notifyUrlChangeListeners($="",ve){this._urlChangeListeners.forEach(ct=>ct($,ve))}subscribe($,ve,ct){return this._subject.subscribe({next:$,error:ve,complete:ct})}}return V.normalizeQueryParams=ye,V.joinWithSlash=Ce,V.stripTrailingSlash=We,V.\u0275fac=function($){return new($||V)(a.LFG(Ee),a.LFG(Q))},V.\u0275prov=a.Yz7({token:V,factory:function(){return new st((0,a.LFG)(Ee),(0,a.LFG)(Q))},providedIn:"root"}),V})();function Je(V){return V.replace(/\/index.html$/,"")}var it=(()=>((it=it||{})[it.Zero=0]="Zero",it[it.One=1]="One",it[it.Two=2]="Two",it[it.Few=3]="Few",it[it.Many=4]="Many",it[it.Other=5]="Other",it))();const Jn=a.kL8;class zn{}let Sn=(()=>{class V extends zn{constructor($){super(),this.locale=$}getPluralCategory($,ve){switch(Jn(ve||this.locale)($)){case it.Zero:return"zero";case it.One:return"one";case it.Two:return"two";case it.Few:return"few";case it.Many:return"many";default:return"other"}}}return V.\u0275fac=function($){return new($||V)(a.LFG(a.soG))},V.\u0275prov=a.Yz7({token:V,factory:V.\u0275fac}),V})();function yt(V,ae){ae=encodeURIComponent(ae);for(const $ of V.split(";")){const ve=$.indexOf("="),[ct,O]=-1==ve?[$,""]:[$.slice(0,ve),$.slice(ve+1)];if(ct.trim()===ae)return decodeURIComponent(O)}return null}class jr{constructor(ae,$,ve,ct){this.$implicit=ae,this.ngForOf=$,this.index=ve,this.count=ct}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ri=(()=>{class V{constructor($,ve,ct){this._viewContainer=$,this._template=ve,this._differs=ct,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;if(!this._differ&&$)try{this._differ=this._differs.find($).create(this.ngForTrackBy)}catch(ve){throw new Error(`Cannot find a differ supporting object '${$}' of type '${function(V){return V.name||typeof V}($)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const ve=[];$.forEachOperation((ct,O,M)=>{if(null==ct.previousIndex){const R=this._viewContainer.createEmbeddedView(this._template,new jr(null,this._ngForOf,-1,-1),null===M?void 0:M),ce=new gi(ct,R);ve.push(ce)}else if(null==M)this._viewContainer.remove(null===O?void 0:O);else if(null!==O){const R=this._viewContainer.get(O);this._viewContainer.move(R,M);const ce=new gi(ct,R);ve.push(ce)}});for(let ct=0;ct<ve.length;ct++)this._perViewChange(ve[ct].view,ve[ct].record);for(let ct=0,O=this._viewContainer.length;ct<O;ct++){const M=this._viewContainer.get(ct);M.context.index=ct,M.context.count=O,M.context.ngForOf=this._ngForOf}$.forEachIdentityChange(ct=>{this._viewContainer.get(ct.currentIndex).context.$implicit=ct.item})}_perViewChange($,ve){$.context.$implicit=ve.item}static ngTemplateContextGuard($,ve){return!0}}return V.\u0275fac=function($){return new($||V)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},V.\u0275dir=a.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),V})();class gi{constructor(ae,$){this.record=ae,this.view=$}}let L=(()=>{class V{constructor($,ve){this._viewContainer=$,this._context=new Z,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ve}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){Y("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){Y("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,ve){return!0}}return V.\u0275fac=function($){return new($||V)(a.Y36(a.s_b),a.Y36(a.Rgc))},V.\u0275dir=a.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V})();class Z{constructor(){this.$implicit=null,this.ngIf=null}}function Y(V,ae){if(ae&&!ae.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,a.AaK)(ae)}'.`)}let un=(()=>{class V{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges($){if($.ngTemplateOutlet){const ve=this._viewContainerRef;this._viewRef&&ve.remove(ve.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ve.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&$.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return V.\u0275fac=function($){return new($||V)(a.Y36(a.s_b))},V.\u0275dir=a.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[a.TTD]}),V})();class oi{createSubscription(ae,$){return ae.subscribe({next:$,error:ve=>{throw ve}})}dispose(ae){ae.unsubscribe()}onDestroy(ae){ae.unsubscribe()}}class Qn{createSubscription(ae,$){return ae.then($,ve=>{throw ve})}dispose(ae){}onDestroy(ae){}}const bi=new Qn,Ni=new oi;let Ui=(()=>{class V{constructor($){this._ref=$,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,ve=>this._updateLatestValue($,ve))}_selectStrategy($){if((0,a.QGY)($))return bi;if((0,a.F4k)($))return Ni;throw function(V,ae){return Error(`InvalidPipeArgument: '${ae}' for pipe '${(0,a.AaK)(V)}'`)}(V,$)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,ve){$===this._obj&&(this._latestValue=ve,this._ref.markForCheck())}}return V.\u0275fac=function($){return new($||V)(a.Y36(a.sBO,16))},V.\u0275pipe=a.Yjl({name:"async",type:V,pure:!1}),V})(),Re=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=a.oAB({type:V}),V.\u0275inj=a.cJS({providers:[{provide:zn,useClass:Sn}]}),V})();const Se="browser";function an(V){return"server"===V}let nr=(()=>{class V{}return V.\u0275prov=(0,a.Yz7)({token:V,providedIn:"root",factory:()=>new Mr((0,a.LFG)(fe),window)}),V})();class Mr{constructor(ae,$){this.document=ae,this.window=$,this.offset=()=>[0,0]}setOffset(ae){this.offset=Array.isArray(ae)?()=>ae:ae}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ae){this.supportsScrolling()&&this.window.scrollTo(ae[0],ae[1])}scrollToAnchor(ae){if(!this.supportsScrolling())return;const $=function(V,ae){const $=V.getElementById(ae)||V.getElementsByName(ae)[0];if($)return $;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const ve=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let ct=ve.currentNode;for(;ct;){const O=ct.shadowRoot;if(O){const M=O.getElementById(ae)||O.querySelector(`[name="${ae}"]`);if(M)return M}ct=ve.nextNode()}}return null}(this.document,ae);$&&(this.scrollToElement($),this.attemptFocus($))}setHistoryScrollRestoration(ae){if(this.supportScrollRestoration()){const $=this.window.history;$&&$.scrollRestoration&&($.scrollRestoration=ae)}}scrollToElement(ae){const $=ae.getBoundingClientRect(),ve=$.left+this.window.pageXOffset,ct=$.top+this.window.pageYOffset,O=this.offset();this.window.scrollTo(ve-O[0],ct-O[1])}attemptFocus(ae){return ae.focus(),this.document.activeElement===ae}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ae=Vr(this.window.history)||Vr(Object.getPrototypeOf(this.window.history));return!(!ae||!ae.writable&&!ae.set)}catch(ae){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ae){return!1}}}function Vr(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class Si{}},9619:(rn,ht,F)=>{"use strict";F.d(ht,{deG:()=>Ql,tb:()=>g0,AFp:()=>h0,ip1:()=>qy,CZH:()=>Lp,hGG:()=>vC,z2F:()=>Qg,sBO:()=>qE,Sil:()=>Ky,_Vd:()=>zg,EJc:()=>y0,SBq:()=>Wg,qLn:()=>Su,vpe:()=>gu,tBr:()=>Il,XFs:()=>Yt,OlP:()=>Ri,zs3:()=>pa,ZZ4:()=>oy,aQg:()=>sy,soG:()=>ry,YKP:()=>E_,h0i:()=>Op,PXZ:()=>$E,R0b:()=>hl,FiY:()=>Qa,Lbi:()=>p0,g9A:()=>f0,Qsj:()=>ww,FYo:()=>y_,JOm:()=>yo,tp0:()=>vs,Rgc:()=>Kg,dDg:()=>b0,q4F:()=>__,GfV:()=>v_,s_b:()=>Jm,ifc:()=>Fr,eFA:()=>C0,G48:()=>GE,Gpc:()=>ye,X6Q:()=>WE,_c5:()=>dC,VLi:()=>NE,c2e:()=>m0,zSh:()=>eh,wAp:()=>Qr,vHH:()=>_e,cg1:()=>Iy,kL8:()=>Uv,dqk:()=>je,sIi:()=>su,CqO:()=>du,QGY:()=>Wl,F4k:()=>Am,RDi:()=>Si,AaK:()=>re,qOj:()=>ih,TTD:()=>Oe,_Bn:()=>p_,xp6:()=>jp,uIk:()=>Tg,ekj:()=>fu,Suo:()=>j_,Xpm:()=>Lt,lG2:()=>Bn,Yz7:()=>Dn,cJS:()=>lr,oAB:()=>Lr,Yjl:()=>Or,Y36:()=>dh,_UZ:()=>Og,GkF:()=>Sm,qZA:()=>Sp,TgZ:()=>Pg,EpF:()=>Ng,n5z:()=>fr,LFG:()=>zi,$8M:()=>si,$Z:()=>Tm,NdJ:()=>Fg,CRH:()=>H_,oxw:()=>Pm,ALo:()=>R_,lcZ:()=>P_,xi3:()=>O_,Hsn:()=>Nm,F$t:()=>Om,Q6J:()=>Rg,s9C:()=>Bg,VKq:()=>T_,iGM:()=>V_,MAs:()=>ff,CHM:()=>xn,LSH:()=>rl,YNc:()=>Sg,W1O:()=>q_,_uU:()=>Ev,Oqu:()=>Ey,hij:()=>Wm,AsE:()=>Cy,Gf:()=>U_});var a=F(3405),C=F(1346),X=F(5548),He=F(8526),Te=F(5783);var Q=F(5234);function pe(){return new a.xQ}function de(t){for(let n in t)if(t[n]===de)return n;throw Error("Could not find renamed property on target object.")}function we(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function Ce(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const We=de({__forward_ref__:de});function ye(t){return t.__forward_ref__=ye,t.toString=function(){return re(this())},t}function Ee(t){return Be(t)?t():t}function Be(t){return"function"==typeof t&&t.hasOwnProperty(We)&&t.__forward_ref__===ye}class _e extends Error{constructor(n,o){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,o)),this.code=n}}function lt(t){return"string"==typeof t?t:null==t?"":String(t)}function Bt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():lt(t)}function it(t,n){const o=n?` in ${n}`:"";throw new _e("201",`No provider for ${Bt(t)} found${o}`)}function _n(t,n){null==t&&function(t,n,o,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${o} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function Dn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jn(t){return Dr(t,Zn)||Dr(t,Ur)}function Dr(t,n){return t.hasOwnProperty(n)?t[n]:null}function Tr(t){return t&&(t.hasOwnProperty(qn)||t.hasOwnProperty(Rn))?t[qn]:null}const Zn=de({\u0275prov:de}),qn=de({\u0275inj:de}),Ur=de({ngInjectableDef:de}),Rn=de({ngInjectorDef:de});var Yt=(()=>((Yt=Yt||{})[Yt.Default=0]="Default",Yt[Yt.Host=1]="Host",Yt[Yt.Self=2]="Self",Yt[Yt.SkipSelf=4]="SkipSelf",Yt[Yt.Optional=8]="Optional",Yt))();let hn;function Mt(t){const n=hn;return hn=t,n}function Hn(t,n,o){const u=Jn(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Yt.Optional?null:void 0!==n?n:void it(re(t),"Injector")}function yn(t){return{toString:t}.toString()}var Er=(()=>((Er=Er||{})[Er.OnPush=0]="OnPush",Er[Er.Default=1]="Default",Er))(),Fr=(()=>{return(t=Fr||(Fr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Fr;var t})();const gn="undefined"!=typeof globalThis&&globalThis,ti="undefined"!=typeof window&&window,Ke="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,je=gn||"undefined"!=typeof global&&global||ti||Ke,Jt={},Xt=[],er=de({\u0275cmp:de}),Cr=de({\u0275dir:de}),mr=de({\u0275pipe:de}),xr=de({\u0275mod:de}),Ge=de({\u0275fac:de}),$e=de({__NG_ELEMENT_ID__:de});let Xe=0;function Lt(t){return yn(()=>{const o={},u={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Er.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Xt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Fr.Emulated,id:"c",styles:t.styles||Xt,_:null,setInput:null,schemas:t.schemas||null,tView:null},h=t.directives,g=t.features,E=t.pipes;return u.id+=Xe++,u.inputs=kr(t.inputs,o),u.outputs=kr(t.outputs),g&&g.forEach(S=>S(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(In):null,u.pipeDefs=E?()=>("function"==typeof E?E():E).map(Wn):null,u})}function In(t){return Fn(t)||function(t){return t[Cr]||null}(t)}function Wn(t){return function(t){return t[mr]||null}(t)}const On={};function Lr(t){return yn(()=>{const n={type:t.type,bootstrap:t.bootstrap||Xt,declarations:t.declarations||Xt,imports:t.imports||Xt,exports:t.exports||Xt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(On[t.id]=t.type),n})}function kr(t,n){if(null==t)return Jt;const o={};for(const u in t)if(t.hasOwnProperty(u)){let h=t[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),o[h]=u,n&&(n[h]=g)}return o}const Bn=Lt;function Or(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Fn(t){return t[er]||null}function Ct(t,n){const o=t[xr]||null;if(!o&&!0===n)throw new Error(`Type ${re(t)} does not have '\u0275mod' property.`);return o}const L=20;function En(t){return Array.isArray(t)&&"object"==typeof t[1]}function un(t){return Array.isArray(t)&&!0===t[1]}function Gn(t){return 0!=(8&t.flags)}function vr(t){return 2==(2&t.flags)}function oi(t){return 1==(1&t.flags)}function Qn(t){return null!==t.template}function bi(t){return 0!=(512&t[2])}function Re(t,n){return t.hasOwnProperty(Ge)?t[Ge]:null}class Se{constructor(n,o,u){this.previousValue=n,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Oe(){return gt}function gt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ut),kt}function kt(){const t=Vn(this),n=null==t?void 0:t.current;if(n){const o=t.previous;if(o===Jt)t.previous=n;else for(let u in n)o[u]=n[u];t.current=null,this.ngOnChanges(n)}}function Ut(t,n,o,u){const h=Vn(t)||function(t,n){return t[an]=n}(t,{previous:Jt,current:null}),g=h.current||(h.current={}),E=h.previous,S=this.declaredInputs[o],N=E[S];g[S]=new Se(N&&N.currentValue,n,E===Jt),t[u]=n}Oe.ngInherit=!0;const an="__ngSimpleChanges__";function Vn(t){return t[an]||null}let xi;function Si(t){xi=t}function $(t){return!!t.listen}const ve={createRenderer:(t,n)=>void 0!==xi?xi:"undefined"!=typeof document?document:void 0};function O(t){for(;Array.isArray(t);)t=t[0];return t}function ce(t,n){return O(n[t])}function Tt(t,n){return O(n[t.index])}function Xn(t,n){return t.data[n]}function zr(t,n){return t[n]}function Ar(t,n){const o=n[t];return En(o)?o:o[0]}function Ai(t){return 4==(4&t[2])}function fo(t){return 128==(128&t[2])}function oo(t,n){return null==n?null:t[n]}function vo(t){t[18]=0}function Wo(t,n){t[5]+=n;let o=t,u=t[3];for(;null!==u&&(1===n&&1===o[5]||-1===n&&0===o[5]);)u[5]+=n,o=u,u=u[3]}const ur={lFrame:za(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function K(){return ur.bindingsEnabled}function ne(){return ur.lFrame.lView}function It(){return ur.lFrame.tView}function xn(t){return ur.lFrame.contextLView=t,t[8]}function Pn(){let t=Zr();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zr(){return ur.lFrame.currentTNode}function yi(t,n){const o=ur.lFrame;o.currentTNode=t,o.isParent=n}function Mi(){return ur.lFrame.isParent}function _o(){ur.lFrame.isParent=!1}function No(){return ur.isInCheckNoChangesMode}function Fo(t){ur.isInCheckNoChangesMode=t}function ro(){const t=ur.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function es(){return ur.lFrame.bindingIndex++}function hs(t){const n=ur.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}function gl(t,n){const o=ur.lFrame;o.bindingIndex=o.bindingRootIndex=t,ui(n)}function ui(t){ur.lFrame.currentDirectiveIndex=t}function Xr(){return ur.lFrame.currentQueryIndex}function ts(t){ur.lFrame.currentQueryIndex=t}function vi(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function _a(t,n,o){if(o&Yt.SkipSelf){let h=n,g=t;for(;!(h=h.parent,null!==h||o&Yt.Host||(h=vi(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;n=h,t=g}const u=ur.lFrame=ba();return u.currentTNode=n,u.lView=t,!0}function Us(t){const n=ba(),o=t[1];ur.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function ba(){const t=ur.lFrame,n=null===t?null:t.child;return null===n?za(t):n}function za(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ci(){const t=ur.lFrame;return ur.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Jr=Ci;function po(){const t=Ci();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bi(){return ur.lFrame.selectedIndex}function go(t){ur.lFrame.selectedIndex=t}function Ji(){const t=ur.lFrame;return Xn(t.tView,t.selectedIndex)}function yl(t,n){for(let o=n.directiveStart,u=n.directiveEnd;o<u;o++){const g=t.data[o].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:S,ngAfterViewInit:N,ngAfterViewChecked:te,ngOnDestroy:ue}=g;E&&(t.contentHooks||(t.contentHooks=[])).push(-o,E),S&&((t.contentHooks||(t.contentHooks=[])).push(o,S),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(o,S)),N&&(t.viewHooks||(t.viewHooks=[])).push(-o,N),te&&((t.viewHooks||(t.viewHooks=[])).push(o,te),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(o,te)),null!=ue&&(t.destroyHooks||(t.destroyHooks=[])).push(o,ue)}}function wa(t,n,o){Yl(t,n,3,o)}function Ea(t,n,o,u){(3&t[2])===o&&Yl(t,n,o,u)}function js(t,n){let o=t[2];(3&o)===n&&(o&=2047,o+=1,t[2]=o)}function Yl(t,n,o,u){const g=null!=u?u:-1,E=n.length-1;let S=0;for(let N=void 0!==u?65535&t[18]:0;N<E;N++)if("number"==typeof n[N+1]){if(S=n[N],null!=u&&S>=u)break}else n[N]<0&&(t[18]+=65536),(S<g||-1==g)&&(Ca(t,o,n,N),t[18]=(4294901760&t[18])+N+2),N++}function Ca(t,n,o,u){const h=o[u]<0,g=o[u+1],S=t[h?-o[u]:o[u]];if(h){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{g.call(S)}finally{}}}else try{g.call(S)}finally{}}class hr{constructor(n,o,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function br(t,n,o){const u=$(t);let h=0;for(;h<o.length;){const g=o[h];if("number"==typeof g){if(0!==g)break;h++;const E=o[h++],S=o[h++],N=o[h++];u?t.setAttribute(n,S,N,E):n.setAttributeNS(E,S,N)}else{const E=g,S=o[++h];bn(E)?u&&t.setProperty(n,E,S):u?t.setAttribute(n,E,S):n.setAttribute(E,S),h++}}return h}function Ga(t){return 3===t||4===t||6===t}function bn(t){return 64===t.charCodeAt(0)}function $t(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let u=0;u<n.length;u++){const h=n[u];"number"==typeof h?o=h:0===o||vn(t,o,h,null,-1===o||2===o?n[++u]:null)}}return t}function vn(t,n,o,u,h){let g=0,E=t.length;if(-1===n)E=-1;else for(;g<t.length;){const S=t[g++];if("number"==typeof S){if(S===n){E=-1;break}if(S>n){E=g-1;break}}}for(;g<t.length;){const S=t[g];if("number"==typeof S)break;if(S===o){if(null===u)return void(null!==h&&(t[g+1]=h));if(u===t[g+1])return void(t[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==E&&(t.splice(E,0,n),g=E+1),t.splice(g++,0,o),null!==u&&t.splice(g++,0,u),null!==h&&t.splice(g++,0,h)}function ji(t){return-1!==t}function ps(t){return 32767&t}function ia(t,n){let o=function(t){return t>>16}(t),u=n;for(;o>0;)u=u[15],o--;return u}let qa=!0;function vl(t){const n=qa;return qa=t,n}let Zl=0;function ws(t,n){const o=Yr(t,n);if(-1!==o)return o;const u=n[1];u.firstCreatePass&&(t.injectorIndex=n.length,Ss(u.data,t),Ss(n,null),Ss(u.blueprint,null));const h=Io(t,n),g=t.injectorIndex;if(ji(h)){const E=ps(h),S=ia(h,n),N=S[1].data;for(let te=0;te<8;te++)n[g+te]=S[E+te]|N[E+te]}return n[g+8]=h,g}function Ss(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Yr(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Io(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,u=null,h=n;for(;null!==h;){const g=h[1],E=g.type;if(u=2===E?g.declTNode:1===E?h[6]:null,null===u)return-1;if(o++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function ns(t,n,o){!function(t,n,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty($e)&&(u=o[$e]),null==u&&(u=o[$e]=Zl++);const h=255&u;n.data[t+(h>>5)]|=1<<h}(t,n,o)}function ei(t,n,o){if(o&Yt.Optional)return t;it(n,"NodeInjector")}function k(t,n,o,u){if(o&Yt.Optional&&void 0===u&&(u=null),0==(o&(Yt.Self|Yt.Host))){const h=t[9],g=Mt(void 0);try{return h?h.get(n,u,o&Yt.Optional):Hn(n,u,o&Yt.Optional)}finally{Mt(g)}}return ei(u,n,o)}function T(t,n,o,u=Yt.Default,h){if(null!==t){const g=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty($e)?t[$e]:void 0;return"number"==typeof n?n>=0?255&n:B:n}(o);if("function"==typeof g){if(!_a(n,t,u))return u&Yt.Host?ei(h,o,u):k(n,o,u,h);try{const E=g(u);if(null!=E||u&Yt.Optional)return E;it(o)}finally{Jr()}}else if("number"==typeof g){let E=null,S=Yr(t,n),N=-1,te=u&Yt.Host?n[16][6]:null;for((-1===S||u&Yt.SkipSelf)&&(N=-1===S?Io(t,n):n[S+8],-1!==N&&kn(u,!1)?(E=n[1],S=ps(N),n=ia(N,n)):S=-1);-1!==S;){const ue=n[1];if(Gt(g,S,ue.data)){const Le=q(S,n,o,E,u,te);if(Le!==I)return Le}N=n[S+8],-1!==N&&kn(u,n[1].data[S+8]===te)&&Gt(g,S,n)?(E=ue,S=ps(N),n=ia(N,n)):S=-1}}}return k(n,o,u,h)}const I={};function B(){return new fi(Pn(),ne())}function q(t,n,o,u,h,g){const E=n[1],S=E.data[t+8],ue=me(S,E,o,null==u?vr(S)&&qa:u!=E&&0!=(3&S.type),h&Yt.Host&&g===S);return null!==ue?Fe(n,E,ue,S):I}function me(t,n,o,u,h){const g=t.providerIndexes,E=n.data,S=1048575&g,N=t.directiveStart,ue=g>>20,dt=h?S+ue:t.directiveEnd;for(let xt=u?S:S+ue;xt<dt;xt++){const Qt=E[xt];if(xt<N&&o===Qt||xt>=N&&Qt.type===o)return xt}if(h){const xt=E[N];if(xt&&Qn(xt)&&xt.type===o)return N}return null}function Fe(t,n,o,u){let h=t[o];const g=n.data;if(function(t){return t instanceof hr}(h)){const E=h;E.resolving&&function(t,n){throw new _e("200",`Circular dependency in DI detected for ${t}`)}(Bt(g[o]));const S=vl(E.canSeeViewProviders);E.resolving=!0;const N=E.injectImpl?Mt(E.injectImpl):null;_a(t,u,Yt.Default);try{h=t[o]=E.factory(void 0,g,t,u),n.firstCreatePass&&o>=u.directiveStart&&function(t,n,o){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=n.type.prototype;if(u){const E=gt(n);(o.preOrderHooks||(o.preOrderHooks=[])).push(t,E),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(t,E)}h&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-t,h),g&&((o.preOrderHooks||(o.preOrderHooks=[])).push(t,g),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(t,g))}(o,g[o],n)}finally{null!==N&&Mt(N),vl(S),E.resolving=!1,Jr()}}return h}function Gt(t,n,o){return!!(o[n+(t>>5)]&1<<t)}function kn(t,n){return!(t&Yt.Self||t&Yt.Host&&n)}class fi{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,u){return T(this._tNode,this._lView,n,u,o)}}function fr(t){return yn(()=>{const n=t.prototype.constructor,o=n[Ge]||Ir(n),u=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==u;){const g=h[Ge]||Ir(h);if(g&&g!==o)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Ir(t){return Be(t)?()=>{const n=Ir(Ee(t));return n&&n()}:Re(t)}function si(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const u=o.length;let h=0;for(;h<u;){const g=o[h];if(Ga(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof o[h];)h++;else{if(g===n)return o[h+1];h+=2}}}return null}(Pn(),t)}const Do="__parameters__";function Ao(t,n,o){return yn(()=>{const u=function(t){return function(...o){if(t){const u=t(...o);for(const h in u)this[h]=u[h]}}}(n);function h(...g){if(this instanceof h)return u.apply(this,g),this;const E=new h(...g);return S.annotation=E,S;function S(N,te,ue){const Le=N.hasOwnProperty(Do)?N[Do]:Object.defineProperty(N,Do,{value:[]})[Do];for(;Le.length<=ue;)Le.push(null);return(Le[ue]=Le[ue]||[]).push(E),N}}return o&&(h.prototype=Object.create(o.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}class Ri{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Dn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ql=new Ri("AnalyzeForEntryComponents");function mi(t,n){void 0===n&&(n=t);for(let o=0;o<t.length;o++){let u=t[o];Array.isArray(u)?(n===t&&(n=t.slice(0,o)),mi(u,n)):n!==t&&n.push(u)}return n}function Vo(t,n){t.forEach(o=>Array.isArray(o)?Vo(o,n):n(o))}function tc(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function sa(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function nc(t,n){const o=[];for(let u=0;u<t;u++)o.push(n);return o}function Uo(t,n,o){let u=Es(t,n);return u>=0?t[1|u]=o:(u=~u,function(t,n,o,u){let h=t.length;if(h==n)t.push(o,u);else if(1===h)t.push(u,t[0]),t[0]=o;else{for(h--,t.push(t[h-1],t[h]);h>n;)t[h]=t[h-2],h--;t[n]=o,t[n+1]=u}}(t,u,n,o)),u}function Ws(t,n){const o=Es(t,n);if(o>=0)return t[1|o]}function Es(t,n){return function(t,n,o){let u=0,h=t.length>>o;for(;h!==u;){const g=u+(h-u>>1),E=t[g<<o];if(n===E)return g<<o;E>n?h=g:u=g+1}return~(h<<o)}(t,n,1)}const Lo={},Sa="__NG_DI_FLAG__",Ka="ngTempTokenPath",ms=/\n/gm,Ms="__source",ys=de({provide:String,useValue:de});let Aa;function os(t){const n=Aa;return Aa=t,n}function _u(t,n=Yt.Default){if(void 0===Aa)throw new Error("inject() must be called from an injection context");return null===Aa?Hn(t,void 0,n):Aa.get(t,n&Yt.Optional?null:void 0,n)}function zi(t,n=Yt.Default){return(hn||_u)(Ee(t),n)}function oc(t){const n=[];for(let o=0;o<t.length;o++){const u=Ee(t[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let h,g=Yt.Default;for(let E=0;E<u.length;E++){const S=u[E],N=pd(S);"number"==typeof N?-1===N?h=S.token:g|=N:h=S}n.push(zi(h,g))}else n.push(zi(u))}return n}function Rs(t,n){return t[Sa]=n,t.prototype[Sa]=n,t}function pd(t){return t[Sa]}const Il=Rs(Ao("Inject",t=>({token:t})),-1),Qa=Rs(Ao("Optional"),8),vs=Rs(Ao("SkipSelf"),4);class lc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Os(t){return t instanceof lc?t.changingThisBreaksApplicationSecurity:t}const le=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Rt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Co=(()=>((Co=Co||{})[Co.NONE=0]="NONE",Co[Co.HTML=1]="HTML",Co[Co.STYLE=2]="STYLE",Co[Co.SCRIPT=3]="SCRIPT",Co[Co.URL=4]="URL",Co[Co.RESOURCE_URL=5]="RESOURCE_URL",Co))();function rl(t){const n=function(){const t=ne();return t&&t[12]}();return n?n.sanitize(Co.URL,t)||"":function(t,n){const o=function(t){return t instanceof lc&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===n}(t,"URL")?Os(t):function(t){return(t=String(t)).match(le)||t.match(Rt)?t:"unsafe:"+t}(lt(t))}const wh="__ngContext__";function Yi(t,n){t[wh]=n}function xd(t){const n=function(t){return t[wh]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function ua(t){return t.ngOriginalError}function Sl(t,...n){t.error(...n)}class Su{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n),u=(t=n)&&t.ngErrorLogger||Sl;var t;u(this._console,"ERROR",n),o&&u(this._console,"ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&ua(n);for(;o&&ua(o);)o=ua(o);return o||null}}const kd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(je))();function To(t){return t instanceof Function?t():t}var yo=(()=>((yo=yo||{})[yo.Important=1]="Important",yo[yo.DashCase=2]="DashCase",yo))();function Ml(t,n){return undefined(t,n)}function sl(t){const n=t[3];return un(n)?n[3]:n}function vc(t){return Md(t[13])}function Pu(t){return Md(t[4])}function Md(t){for(;null!==t&&!un(t);)t=t[4];return t}function La(t,n,o,u,h){if(null!=u){let g,E=!1;un(u)?g=u:En(u)&&(E=!0,u=u[0]);const S=O(u);0===t&&null!==o?null==h?bc(n,o,S):Ol(n,o,S,h||null,!0):1===t&&null!==o?Ol(n,o,S,h||null,!0):2===t?function(t,n,o){const u=Nu(t,n);u&&function(t,n,o,u){$(t)?t.removeChild(n,o,u):n.removeChild(o)}(t,u,n,o)}(n,S,E):3===t&&n.destroyNode(S),null!=g&&function(t,n,o,u,h){const g=o[7];g!==O(o)&&La(n,t,u,g,h);for(let S=10;S<o.length;S++){const N=o[S];xo(N[1],N,t,n,u,g)}}(n,t,g,o,h)}}function cs(t,n,o){return $(t)?t.createElement(n,o):null===o?t.createElement(n):t.createElementNS(o,n)}function Ou(t,n){const o=t[9],u=o.indexOf(n),h=n[3];1024&n[2]&&(n[2]&=-1025,Wo(h,-1)),o.splice(u,1)}function Ba(t,n){if(t.length<=10)return;const o=10+n,u=t[o];if(u){const h=u[17];null!==h&&h!==t&&Ou(h,u),n>0&&(t[o-1][4]=u[4]);const g=sa(t,10+n);!function(t,n){xo(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(u[1],u);const E=g[19];null!==E&&E.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Pf(t,n){if(!(256&n[2])){const o=n[11];$(o)&&o.destroyNode&&xo(t,n,o,3,null,null),function(t){let n=t[13];if(!n)return Fs(t[1],t);for(;n;){let o=null;if(En(n))o=n[13];else{const u=n[10];u&&(o=u)}if(!o){for(;n&&!n[4]&&n!==t;)En(n)&&Fs(n[1],n),n=n[3];null===n&&(n=t),En(n)&&Fs(n[1],n),o=n&&n[4]}n=o}}(n)}}function Fs(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let u=0;u<o.length;u+=2){const h=n[o[u]];if(!(h instanceof hr)){const g=o[u+1];if(Array.isArray(g))for(let E=0;E<g.length;E+=2){const S=h[g[E]],N=g[E+1];try{N.call(S)}finally{}}else try{g.call(h)}finally{}}}}(t,n),function(t,n){const o=t.cleanup,u=n[7];let h=-1;if(null!==o)for(let g=0;g<o.length-1;g+=2)if("string"==typeof o[g]){const E=o[g+1],S="function"==typeof E?E(n):O(n[E]),N=u[h=o[g+2]],te=o[g+3];"boolean"==typeof te?S.removeEventListener(o[g],N,te):te>=0?u[h=te]():u[h=-te].unsubscribe(),g+=2}else{const E=u[h=o[g+1]];o[g].call(E)}if(null!==u){for(let g=h+1;g<u.length;g++)u[g]();n[7]=null}}(t,n),1===n[1].type&&$(n[11])&&n[11].destroy();const o=n[17];if(null!==o&&un(n[3])){o!==n[3]&&Ou(o,n);const u=n[19];null!==u&&u.detachView(t)}}}function $a(t,n,o){return function(t,n,o){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return o[0];if(2&u.flags){const h=t.data[u.directiveStart].encapsulation;if(h===Fr.None||h===Fr.Emulated)return null}return Tt(u,o)}(t,n.parent,o)}function Ol(t,n,o,u,h){$(t)?t.insertBefore(n,o,u,h):n.insertBefore(o,u,h)}function bc(t,n,o){$(t)?t.appendChild(n,o):n.appendChild(o)}function Of(t,n,o,u,h){null!==u?Ol(t,n,o,u,h):bc(t,n,o)}function Nu(t,n){return $(t)?t.parentNode(n):n.parentNode}function Va(t,n,o){return Nd(t,n,o)}let Nd=function(t,n,o){return 40&t.type?Tt(t,o):null};function Ls(t,n,o,u){const h=$a(t,u,n),g=n[11],S=Va(u.parent||n[6],u,n);if(null!=h)if(Array.isArray(o))for(let N=0;N<o.length;N++)Of(g,h,o[N],S,!1);else Of(g,h,o,S,!1)}function wc(t,n){if(null!==n){const o=n.type;if(3&o)return Tt(n,t);if(4&o)return Bu(-1,t[n.index]);if(8&o){const u=n.child;if(null!==u)return wc(t,u);{const h=t[n.index];return un(h)?Bu(-1,h):O(h)}}if(32&o)return Ml(n,t)()||O(t[n.index]);{const u=xh(t,n);return null!==u?Array.isArray(u)?u[0]:wc(sl(t[16]),u):wc(t,n.next)}}return null}function xh(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Bu(t,n){const o=10+t+1;if(o<n.length){const u=n[o],h=u[1].firstChild;if(null!==h)return wc(u,h)}return n[7]}function Vu(t,n,o,u,h,g,E){for(;null!=o;){const S=u[o.index],N=o.type;if(E&&0===n&&(S&&Yi(O(S),u),o.flags|=4),64!=(64&o.flags))if(8&N)Vu(t,n,o.child,u,h,g,!1),La(n,t,h,S,g);else if(32&N){const te=Ml(o,u);let ue;for(;ue=te();)La(n,t,h,ue,g);La(n,t,h,S,g)}else 16&N?da(t,n,u,o,h,g):La(n,t,h,S,g);o=E?o.projectionNext:o.next}}function xo(t,n,o,u,h,g){Vu(o,u,t.firstChild,n,h,g,!1)}function da(t,n,o,u,h,g){const E=o[16],N=E[6].projection[u.projection];if(Array.isArray(N))for(let te=0;te<N.length;te++)La(n,t,h,N[te],g);else Vu(t,n,N,E[3],h,g,!0)}function Ua(t,n,o){$(t)?t.setAttribute(n,"style",o):n.style.cssText=o}function Ld(t,n,o){$(t)?""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o):n.className=o}function Vp(t,n,o){let u=t.length;for(;;){const h=t.indexOf(n,o);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const g=n.length;if(h+g===u||t.charCodeAt(h+g)<=32)return h}o=h+1}}const Ff="ng-template";function Lf(t,n,o){let u=0;for(;u<t.length;){let h=t[u++];if(o&&"class"===h){if(h=t[u],-1!==Vp(h.toLowerCase(),n,0))return!0}else if(1===h){for(;u<t.length&&"string"==typeof(h=t[u++]);)if(h.toLowerCase()===n)return!0;return!1}}return!1}function Up(t){return 4===t.type&&t.value!==Ff}function Sh(t,n,o){return n===(4!==t.type||o?t.value:Ff)}function Jg(t,n,o){let u=4;const h=t.attrs||[],g=function(t){for(let n=0;n<t.length;n++)if(Ga(t[n]))return n;return t.length}(h);let E=!1;for(let S=0;S<n.length;S++){const N=n[S];if("number"!=typeof N){if(!E)if(4&u){if(u=2|1&u,""!==N&&!Sh(t,N,o)||""===N&&1===n.length){if(ha(u))return!1;E=!0}}else{const te=8&u?N:n[++S];if(8&u&&null!==t.attrs){if(!Lf(t.attrs,te,o)){if(ha(u))return!1;E=!0}continue}const Le=em(8&u?"class":N,h,Up(t),o);if(-1===Le){if(ha(u))return!1;E=!0;continue}if(""!==te){let dt;dt=Le>g?"":h[Le+1].toLowerCase();const xt=8&u?dt:null;if(xt&&-1!==Vp(xt,te,0)||2&u&&te!==dt){if(ha(u))return!1;E=!0}}}}else{if(!E&&!ha(u)&&!ha(N))return!1;if(E&&ha(N))continue;E=!1,u=N|1&u}}return ha(u)||E}function ha(t){return 0==(1&t)}function em(t,n,o,u){if(null===n)return-1;let h=0;if(u||!o){let g=!1;for(;h<n.length;){const E=n[h];if(E===t)return h;if(3===E||6===E)g=!0;else{if(1===E||2===E){let S=n[++h];for(;"string"==typeof S;)S=n[++h];continue}if(4===E)break;if(0===E){h+=4;continue}}h+=g?1:2}return-1}return function(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const u=t[o];if("number"==typeof u)return-1;if(u===n)return o;o++}return-1}(n,t)}function qc(t,n,o=!1){for(let u=0;u<n.length;u++)if(Jg(t,n[u],o))return!0;return!1}function Bf(t,n){e:for(let o=0;o<n.length;o++){const u=n[o];if(t.length===u.length){for(let h=0;h<t.length;h++)if(t[h]!==u[h])continue e;return!0}}return!1}function $f(t,n){return t?":not("+n.trim()+")":n}function tm(t){let n=t[0],o=1,u=2,h="",g=!1;for(;o<t.length;){let E=t[o];if("string"==typeof E)if(2&u){const S=t[++o];h+="["+E+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?h+="."+E:4&u&&(h+=" "+E);else""!==h&&!ha(E)&&(n+=$f(g,h),h=""),u=E,g=g||!ha(u);o++}return""!==h&&(n+=$f(g,h)),n}const ni={};function jp(t){Uu(It(),ne(),Bi()+t,No())}function Uu(t,n,o,u){if(!u)if(3==(3&n[2])){const g=t.preOrderCheckHooks;null!==g&&wa(n,g,o)}else{const g=t.preOrderHooks;null!==g&&Ea(n,g,0,o)}go(o)}function Kc(t,n){return t<<17|n<<2}function to(t){return t>>17&32767}function kh(t){return 2|t}function Fl(t){return(131068&t)>>2}function Mh(t,n){return-131069&t|n<<2}function ju(t){return 1|t}function zd(t,n){const o=t.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u],g=o[u+1];if(-1!==g){const E=t.data[g];ts(h),E.contentQueries(2,n[g],g)}}}function Jc(t,n,o,u,h,g,E,S,N,te){const ue=n.blueprint.slice();return ue[0]=h,ue[2]=140|u,vo(ue),ue[3]=ue[15]=t,ue[8]=o,ue[10]=E||t&&t[10],ue[11]=S||t&&t[11],ue[12]=N||t&&t[12]||null,ue[9]=te||t&&t[9]||null,ue[6]=g,ue[16]=2==n.type?t[16]:ue,ue}function Yu(t,n,o,u,h){let g=t.data[n];if(null===g)g=function(t,n,o,u,h){const g=Zr(),E=Mi(),N=t.data[n]=function(t,n,o,u,h,g){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?g:g&&g.parent,o,n,u,h);return null===t.firstChild&&(t.firstChild=N),null!==g&&(E?null==g.child&&null!==N.parent&&(g.child=N):null===g.next&&(g.next=N)),N}(t,n,o,u,h),ur.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=o,g.value=u,g.attrs=h;const E=function(){const t=ur.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===E?-1:E.injectorIndex}return yi(g,!0),g}function eu(t,n,o,u){if(0===o)return-1;const h=n.length;for(let g=0;g<o;g++)n.push(u),t.blueprint.push(u),t.data.push(null);return h}function Ku(t,n,o){Us(n);try{const u=t.viewQuery;null!==u&&Tc(1,u,o);const h=t.template;null!==h&&Jp(t,n,h,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zd(t,n),t.staticViewQueries&&Tc(2,t.viewQuery,o);const g=t.components;null!==g&&function(t,n){for(let o=0;o<n.length;o++)dg(t,n[o])}(n,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[2]&=-5,po()}}function Zu(t,n,o,u){const h=n[2];if(256==(256&h))return;Us(n);const g=No();try{vo(n),function(t){ur.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Jp(t,n,o,2,u);const E=3==(3&h);if(!g)if(E){const te=t.preOrderCheckHooks;null!==te&&wa(n,te,null)}else{const te=t.preOrderHooks;null!==te&&Ea(n,te,0,null),js(n,0)}if(function(t){for(let n=vc(t);null!==n;n=Pu(n)){if(!n[2])continue;const o=n[9];for(let u=0;u<o.length;u++){const h=o[u],g=h[3];0==(1024&h[2])&&Wo(g,1),h[2]|=1024}}}(n),function(t){for(let n=vc(t);null!==n;n=Pu(n))for(let o=10;o<n.length;o++){const u=n[o],h=u[1];fo(u)&&Zu(h,u,h.template,u[8])}}(n),null!==t.contentQueries&&zd(t,n),!g)if(E){const te=t.contentCheckHooks;null!==te&&wa(n,te)}else{const te=t.contentHooks;null!==te&&Ea(n,te,1),js(n,1)}!function(t,n){const o=t.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const h=o[u];if(h<0)go(~h);else{const g=h,E=o[++u],S=o[++u];gl(E,g),S(2,n[g])}}}finally{go(-1)}}(t,n);const S=t.components;null!==S&&function(t,n){for(let o=0;o<n.length;o++)Wh(t,n[o])}(n,S);const N=t.viewQuery;if(null!==N&&Tc(2,N,u),!g)if(E){const te=t.viewCheckHooks;null!==te&&wa(n,te)}else{const te=t.viewHooks;null!==te&&Ea(n,te,2),js(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),g||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Wo(n[3],-1))}finally{po()}}function Kf(t,n,o,u){const h=n[10],g=!No(),E=Ai(n);try{g&&!E&&h.begin&&h.begin(),E&&Ku(t,n,u),Zu(t,n,o,u)}finally{g&&!E&&h.end&&h.end()}}function Jp(t,n,o,u,h){const g=Bi(),E=2&u;try{go(-1),E&&n.length>L&&Uu(t,n,L,No()),o(u,h)}finally{go(g)}}function Bh(t,n,o){if(Gn(n)){const h=n.directiveEnd;for(let g=n.directiveStart;g<h;g++){const E=t.data[g];E.contentQueries&&E.contentQueries(1,o[g],g)}}}function Zf(t,n,o){!K()||(function(t,n,o,u){const h=o.directiveStart,g=o.directiveEnd;t.firstCreatePass||ws(o,n),Yi(u,n);const E=o.initialInputs;for(let S=h;S<g;S++){const N=t.data[S],te=Qn(N);te&&hm(n,o,N);const ue=Fe(n,t,S,o);Yi(ue,n),null!==E&&Yd(0,S-h,ue,N,0,E),te&&(Ar(o.index,n)[8]=ue)}}(t,n,o,Tt(o,n)),128==(128&o.flags)&&function(t,n,o){const u=o.directiveStart,h=o.directiveEnd,E=o.index,S=ur.lFrame.currentDirectiveIndex;try{go(E);for(let N=u;N<h;N++){const te=t.data[N],ue=n[N];ui(N),(null!==te.hostBindings||0!==te.hostVars||null!==te.hostAttrs)&&Xf(te,ue)}}finally{go(-1),ui(S)}}(t,n,o))}function Wd(t,n,o=Tt){const u=n.localNames;if(null!==u){let h=n.index+1;for(let g=0;g<u.length;g+=2){const E=u[g+1],S=-1===E?o(n,t):t[E];t[h++]=S}}}function eg(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Qu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Qu(t,n,o,u,h,g,E,S,N,te){const ue=L+u,Le=ue+h,dt=function(t,n){const o=[];for(let u=0;u<n;u++)o.push(u<t?null:ni);return o}(ue,Le),xt="function"==typeof te?te():te;return dt[1]={type:t,blueprint:dt,template:o,queries:null,viewQuery:S,declTNode:n,data:dt.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:Le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:N,consts:xt,incompleteFirstPass:!1}}function Uh(t,n,o,u){const h=hg(n);null===o?h.push(u):(h.push(o),t.firstCreatePass&&Kh(t).push(u,h.length-1))}function tu(t,n,o){for(let u in t)if(t.hasOwnProperty(u)){const h=t[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(n,h):o[u]=[n,h]}return o}function Js(t,n,o,u,h,g,E,S){const N=Tt(n,o);let ue,te=n.inputs;!S&&null!=te&&(ue=te[u])?(fg(t,o,ue,u,h),vr(n)&&function(t,n){const o=Ar(n,t);16&o[2]||(o[2]|=64)}(o,n.index)):3&n.type&&(u=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),h=null!=E?E(h,n.value||"",u):h,$(g)?g.setProperty(N,u,h):bn(u)||(N.setProperty?N.setProperty(u,h):N[u]=h))}function qd(t,n,o,u){let h=!1;if(K()){const g=function(t,n,o){const u=t.directiveRegistry;let h=null;if(u)for(let g=0;g<u.length;g++){const E=u[g];qc(o,E.selectors,!1)&&(h||(h=[]),ns(ws(o,n),t,E.type),Qn(E)?(Jf(t,o),h.unshift(E)):h.push(E))}return h}(t,n,o),E=null===u?null:{"":-1};if(null!==g){h=!0,ag(o,t.data.length,g.length);for(let ue=0;ue<g.length;ue++){const Le=g[ue];Le.providersResolver&&Le.providersResolver(Le)}let S=!1,N=!1,te=eu(t,n,g.length,null);for(let ue=0;ue<g.length;ue++){const Le=g[ue];o.mergedAttrs=$t(o.mergedAttrs,Le.hostAttrs),lg(t,o,n,te,Le),dm(te,Le,E),null!==Le.contentQueries&&(o.flags|=8),(null!==Le.hostBindings||null!==Le.hostAttrs||0!==Le.hostVars)&&(o.flags|=128);const dt=Le.type.prototype;!S&&(dt.ngOnChanges||dt.ngOnInit||dt.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(o.index),S=!0),!N&&(dt.ngOnChanges||dt.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(o.index),N=!0),te++}!function(t,n){const u=n.directiveEnd,h=t.data,g=n.attrs,E=[];let S=null,N=null;for(let te=n.directiveStart;te<u;te++){const ue=h[te],Le=ue.inputs,dt=null===g||Up(n)?null:cg(Le,g);E.push(dt),S=tu(Le,te,S),N=tu(ue.outputs,te,N)}null!==S&&(S.hasOwnProperty("class")&&(n.flags|=16),S.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=E,n.inputs=S,n.outputs=N}(t,o)}E&&function(t,n,o){if(n){const u=t.localNames=[];for(let h=0;h<n.length;h+=2){const g=o[n[h+1]];if(null==g)throw new _e("301",`Export of name '${n[h+1]}' not found!`);u.push(n[h],g)}}}(o,u,E)}return o.mergedAttrs=$t(o.mergedAttrs,o.attrs),h}function Hh(t,n,o,u,h,g){const E=g.hostBindings;if(E){let S=t.hostBindingOpCodes;null===S&&(S=t.hostBindingOpCodes=[]);const N=~n.index;(function(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(S)!=N&&S.push(N),S.push(u,h,E)}}function Xf(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Jf(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function dm(t,n,o){if(o){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)o[n.exportAs[u]]=t;Qn(n)&&(o[""]=t)}}function ag(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}function lg(t,n,o,u,h){t.data[u]=h;const g=h.factory||(h.factory=Re(h.type)),E=new hr(g,Qn(h),null);t.blueprint[u]=E,o[u]=E,Hh(t,n,0,u,eu(t,o,h.hostVars,ni),h)}function hm(t,n,o){const u=Tt(n,t),h=eg(o),g=t[10],E=qh(t,Jc(t,h,null,o.onPush?64:16,u,n,g,g.createRenderer(u,o),null,null));t[n.index]=E}function ea(t,n,o,u,h,g){const E=Tt(t,n);!function(t,n,o,u,h,g,E){if(null==g)$(t)?t.removeAttribute(n,h,o):n.removeAttribute(h);else{const S=null==E?lt(g):E(g,u||"",h);$(t)?t.setAttribute(n,h,S,o):o?n.setAttributeNS(o,h,S):n.setAttribute(h,S)}}(n[11],E,g,t.value,o,u,h)}function Yd(t,n,o,u,h,g){const E=g[n];if(null!==E){const S=u.setInput;for(let N=0;N<E.length;){const te=E[N++],ue=E[N++],Le=E[N++];null!==S?u.setInput(o,Le,te,ue):o[ue]=Le}}}function cg(t,n){let o=null,u=0;for(;u<n.length;){const h=n[u];if(0!==h)if(5!==h){if("number"==typeof h)break;t.hasOwnProperty(h)&&(null===o&&(o=[]),o.push(h,t[h],n[u+1])),u+=2}else u+=2;else u+=4}return o}function Kd(t,n,o,u){return new Array(t,!0,!1,n,null,0,u,o,null,null)}function Wh(t,n){const o=Ar(n,t);if(fo(o)){const u=o[1];80&o[2]?Zu(u,o,u.template,o[8]):o[5]>0&&Zd(o)}}function Zd(t){for(let u=vc(t);null!==u;u=Pu(u))for(let h=10;h<u.length;h++){const g=u[h];if(1024&g[2]){const E=g[1];Zu(E,g,E.template,g[8])}else g[5]>0&&Zd(g)}const o=t[1].components;if(null!==o)for(let u=0;u<o.length;u++){const h=Ar(o[u],t);fo(h)&&h[5]>0&&Zd(h)}}function dg(t,n){const o=Ar(n,t),u=o[1];(function(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])})(u,o),Ku(u,o,o[8])}function qh(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Qd(t){for(;t;){t[2]|=64;const n=sl(t);if(bi(t)&&!n)return t;t=n}return null}function tp(t,n,o){const u=n[10];u.begin&&u.begin();try{Zu(t,n,t.template,o)}catch(h){throw Zh(n,h),h}finally{u.end&&u.end()}}function Yh(t){!function(t){for(let n=0;n<t.components.length;n++){const o=t.components[n],u=xd(o),h=u[1];Kf(h,u,h.template,o)}}(t[8])}function Tc(t,n,o){ts(0),n(t,o)}const ip=(()=>Promise.resolve(null))();function hg(t){return t[7]||(t[7]=[])}function Kh(t){return t.cleanup||(t.cleanup=[])}function Zh(t,n){const o=t[9],u=o?o.get(Su,null):null;u&&u.handleError(n)}function fg(t,n,o,u,h){for(let g=0;g<o.length;){const E=o[g++],S=o[g++],N=n[E],te=t.data[E];null!==te.setInput?te.setInput(N,h,u,S):N[S]=h}}function ja(t,n,o){const u=ce(n,t);!function(t,n,o){$(t)?t.setValue(n,o):n.textContent=o}(t[11],u,o)}function Qh(t,n,o){let u=o?t.styles:null,h=o?t.classes:null,g=0;if(null!==n)for(let E=0;E<n.length;E++){const S=n[E];"number"==typeof S?g=S:1==g?h=Ce(h,S):2==g&&(u=Ce(u,S+": "+n[++E]+";"))}o?t.styles=u:t.stylesWithoutHost=u,o?t.classes=h:t.classesWithoutHost=h}const Jd=new Ri("INJECTOR",-1);class pg{get(n,o=Lo){if(o===Lo){const u=new Error(`NullInjectorError: No provider for ${re(n)}!`);throw u.name="NullInjectorError",u}return o}}const eh=new Ri("Set Injector scope."),th={},sp={};let Xh;function Jh(){return void 0===Xh&&(Xh=new pg),Xh}function ap(t,n=null,o=null,u){const h=gg(t,n,o,u);return h._resolveInjectorDefTypes(),h}function gg(t,n=null,o=null,u){return new mm(t,o,n||Jh(),u)}class mm{constructor(n,o,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];o&&Vo(o,S=>this.processProvider(S,n,o)),Vo([n],S=>this.processInjectorType(S,[],g)),this.records.set(Jd,xc(void 0,this));const E=this.records.get(eh);this.scope=null!=E?E.value:null,this.source=h||("object"==typeof n?null:re(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,o=Lo,u=Yt.Default){this.assertNotDestroyed();const h=os(this),g=Mt(void 0);try{if(!(u&Yt.SkipSelf)){let S=this.records.get(n);if(void 0===S){const N=("function"==typeof(t=n)||"object"==typeof t&&t instanceof Ri)&&Jn(n);S=N&&this.injectableDefInScope(N)?xc(nh(n),th):null,this.records.set(n,S)}if(null!=S)return this.hydrate(n,S)}return(u&Yt.Self?Jh():this.parent).get(n,o=u&Yt.Optional&&o===Lo?null:o)}catch(E){if("NullInjectorError"===E.name){if((E[Ka]=E[Ka]||[]).unshift(re(n)),h)throw E;return function(t,n,o,u){const h=t[Ka];throw n[Ms]&&h.unshift(n[Ms]),t.message=function(t,n,o,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let h=re(n);if(Array.isArray(n))h=n.map(re).join(" -> ");else if("object"==typeof n){let g=[];for(let E in n)if(n.hasOwnProperty(E)){let S=n[E];g.push(E+":"+("string"==typeof S?JSON.stringify(S):re(S)))}h=`{${g.join(", ")}}`}return`${o}${u?"("+u+")":""}[${h}]: ${t.replace(ms,"\n  ")}`}("\n"+t.message,h,o,u),t.ngTokenPath=h,t[Ka]=null,t}(E,n,"R3InjectorError",this.source)}throw E}finally{Mt(g),os(h)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((u,h)=>n.push(re(h))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,o,u){if(!(n=Ee(n)))return!1;let h=Tr(n);const g=null==h&&n.ngModule||void 0,E=void 0===g?n:g,S=-1!==u.indexOf(E);if(void 0!==g&&(h=Tr(g)),null==h)return!1;if(null!=h.imports&&!S){let ue;u.push(E);try{Vo(h.imports,Le=>{this.processInjectorType(Le,o,u)&&(void 0===ue&&(ue=[]),ue.push(Le))})}finally{}if(void 0!==ue)for(let Le=0;Le<ue.length;Le++){const{ngModule:dt,providers:xt}=ue[Le];Vo(xt,Qt=>this.processProvider(Qt,dt,xt||Xt))}}this.injectorDefTypes.add(E);const N=Re(E)||(()=>new E);this.records.set(E,xc(N,th));const te=h.providers;if(null!=te&&!S){const ue=n;Vo(te,Le=>this.processProvider(Le,ue,te))}return void 0!==g&&void 0!==n.providers}processProvider(n,o,u){let h=ed(n=Ee(n))?n:Ee(n&&n.provide);const g=(t=n,yg(t)?xc(void 0,t.useValue):xc(ef(t),th));var t;if(ed(n)||!0!==n.multi)this.records.get(h);else{let E=this.records.get(h);E||(E=xc(void 0,th,!0),E.factory=()=>oc(E.multi),this.records.set(h,E)),h=n,E.multi.push(n)}this.records.set(h,g)}hydrate(n,o){return o.value===th&&(o.value=sp,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(t=o.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const o=Ee(n.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function nh(t){const n=Jn(t),o=null!==n?n.factory:Re(t);if(null!==o)return o;if(t instanceof Ri)throw new Error(`Token ${re(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const u=nc(n,"?");throw new Error(`Can't resolve all parameters for ${re(t)}: (${u.join(", ")}).`)}const o=function(t){const n=t&&(t[Zn]||t[Ur]);if(n){const o=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),n}return null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Error("unreachable")}function ef(t,n,o){let u;if(ed(t)){const h=Ee(t);return Re(h)||nh(h)}if(yg(t))u=()=>Ee(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...oc(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))u=()=>zi(Ee(t.useExisting));else{const h=Ee(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Re(h)||nh(h);u=()=>new h(...oc(t.deps))}return u}function xc(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function yg(t){return null!==t&&"object"==typeof t&&ys in t}function ed(t){return"function"==typeof t}let pa=(()=>{class t{static create(o,u){var h;if(Array.isArray(o))return ap({name:""},u,o,"");{const g=null!=(h=o.name)?h:"";return ap({name:g},o.parent,o.providers,g)}}}return t.THROW_IF_NOT_FOUND=Lo,t.NULL=new pg,t.\u0275prov=Dn({token:t,providedIn:"any",factory:()=>zi(Jd)}),t.__NG_ELEMENT_ID__=-1,t})();function iu(t,n){yl(xd(t)[1],Pn())}function ih(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const u=[t];for(;n;){let h;if(Qn(t))h=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");h=n.\u0275dir}if(h){if(o){u.push(h);const E=t;E.inputs=td(t.inputs),E.declaredInputs=td(t.declaredInputs),E.outputs=td(t.outputs);const S=h.hostBindings;S&&wp(t,S);const N=h.viewQuery,te=h.contentQueries;if(N&&nd(t,N),te&&Pi(t,te),we(t.inputs,h.inputs),we(t.declaredInputs,h.declaredInputs),we(t.outputs,h.outputs),Qn(h)&&h.data.animation){const ue=t.data;ue.animation=(ue.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let E=0;E<g.length;E++){const S=g[E];S&&S.ngInherit&&S(t),S===ih&&(o=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,o=null;for(let u=t.length-1;u>=0;u--){const h=t[u];h.hostVars=n+=h.hostVars,h.hostAttrs=$t(h.hostAttrs,o=$t(o,h.hostAttrs))}}(u)}function td(t){return t===Jt?{}:t===Xt?[]:t}function nd(t,n){const o=t.viewQuery;t.viewQuery=o?(u,h)=>{n(u,h),o(u,h)}:n}function Pi(t,n){const o=t.contentQueries;t.contentQueries=o?(u,h,g)=>{n(u,h,g),o(u,h,g)}:n}function wp(t,n){const o=t.hostBindings;t.hostBindings=o?(u,h)=>{n(u,h),o(u,h)}:n}let uo=null;function Ro(){if(!uo){const t=je.Symbol;if(t&&t.iterator)uo=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<n.length;++o){const u=n[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(uo=u)}}}return uo}function su(t){return!!id(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ro()in t)}function id(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ga(t,n,o){return t[n]=o}function Ho(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function Sc(t,n,o,u){const h=Ho(t,n,o);return Ho(t,n+1,u)||h}function Tg(t,n,o,u){const h=ne();return Ho(h,es(),n)&&(It(),ea(Ji(),h,t,n,o,u)),Tg}function ho(t,n,o,u){return Ho(t,es(),o)?n+lt(o)+u:ni}function au(t,n,o,u,h,g){const S=Sc(t,ur.lFrame.bindingIndex,o,h);return hs(2),S?n+lt(o)+u+lt(h)+g:ni}function Sg(t,n,o,u,h,g,E,S){const N=ne(),te=It(),ue=t+L,Le=te.firstCreatePass?function(t,n,o,u,h,g,E,S,N){const te=n.consts,ue=Yu(n,t,4,E||null,oo(te,S));qd(n,o,ue,oo(te,N)),yl(n,ue);const Le=ue.tViews=Qu(2,ue,u,h,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,te);return null!==n.queries&&(n.queries.template(n,ue),Le.queries=n.queries.embeddedTView(ue)),ue}(ue,te,N,n,o,u,h,g,E):te.data[ue];yi(Le,!1);const dt=N[11].createComment("");Ls(te,N,dt,Le),Yi(dt,N),qh(N,N[ue]=Kd(dt,N,dt,Le)),oi(Le)&&Zf(te,N,Le),null!=E&&Wd(N,Le,S)}function ff(t){return zr(ur.lFrame.contextLView,L+t)}function dh(t,n=Yt.Default){const o=ne();return null===o?zi(t,n):T(Pn(),o,Ee(t),n)}function Tm(){throw new Error("invalid")}function Rg(t,n,o){const u=ne();return Ho(u,es(),n)&&Js(It(),Ji(),u,t,n,u[11],o,!1),Rg}function xp(t,n,o,u,h){const E=h?"class":"style";fg(t,o,n.inputs[E],E,u)}function Pg(t,n,o,u){const h=ne(),g=It(),E=L+t,S=h[11],N=h[E]=cs(S,n,ur.lFrame.currentNamespace),te=g.firstCreatePass?function(t,n,o,u,h,g,E){const S=n.consts,te=Yu(n,t,2,h,oo(S,g));return qd(n,o,te,oo(S,E)),null!==te.attrs&&Qh(te,te.attrs,!1),null!==te.mergedAttrs&&Qh(te,te.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,te),te}(E,g,h,0,n,o,u):g.data[E];yi(te,!0);const ue=te.mergedAttrs;null!==ue&&br(S,N,ue);const Le=te.classes;null!==Le&&Ld(S,N,Le);const dt=te.styles;null!==dt&&Ua(S,N,dt),64!=(64&te.flags)&&Ls(g,h,N,te),0===ur.lFrame.elementDepthCount&&Yi(N,h),ur.lFrame.elementDepthCount++,oi(te)&&(Zf(g,h,te),Bh(g,te,h)),null!==u&&Wd(h,te)}function Sp(){let t=Pn();Mi()?_o():(t=t.parent,yi(t,!1));const n=t;ur.lFrame.elementDepthCount--;const o=It();o.firstCreatePass&&(yl(o,t),Gn(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&xp(o,n,ne(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&xp(o,n,ne(),n.stylesWithoutHost,!1)}function Og(t,n,o,u){Pg(t,n,o,u),Sp()}function Sm(t,n,o){(function(t,n,o){const u=ne(),h=It(),g=t+L,E=h.firstCreatePass?function(t,n,o,u,h){const g=n.consts,E=oo(g,u),S=Yu(n,t,8,"ng-container",E);return null!==E&&Qh(S,E,!0),qd(n,o,S,oo(g,h)),null!==n.queries&&n.queries.elementStart(n,S),S}(g,h,u,n,o):h.data[g];yi(E,!0);const S=u[g]=u[11].createComment("");Ls(h,u,S,E),Yi(S,u),oi(E)&&(Zf(h,u,E),Bh(h,E,u)),null!=o&&Wd(u,E)})(t,n,o),function(){let t=Pn();const n=It();Mi()?_o():(t=t.parent,yi(t,!1)),n.firstCreatePass&&(yl(n,t),Gn(t)&&n.queries.elementEnd(t))}()}function Ng(){return ne()}function Wl(t){return!!t&&"function"==typeof t.then}function Am(t){return!!t&&"function"==typeof t.subscribe}const du=Am;function Fg(t,n,o,u){const h=ne(),g=It(),E=Pn();return function(t,n,o,u,h,g,E,S){const N=oi(u),ue=t.firstCreatePass&&Kh(t),Le=n[8],dt=hg(n);let xt=!0;if(3&u.type||S){const Un=Tt(u,n),yr=S?S(Un):Un,dn=dt.length,Wr=S?Fi=>S(O(Fi[u.index])):u.index;if($(o)){let Fi=null;if(!S&&N&&(Fi=function(t,n,o,u){const h=t.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const E=h[g];if(E===o&&h[g+1]===u){const S=n[7],N=h[g+2];return S.length>N?S[N]:null}"string"==typeof E&&(g+=2)}return null}(t,n,h,u.index)),null!==Fi)(Fi.__ngLastListenerFn__||Fi).__ngNextListenerFn__=g,Fi.__ngLastListenerFn__=g,xt=!1;else{g=Lg(u,n,Le,g,!1);const io=o.listen(yr,h,g);dt.push(g,io),ue&&ue.push(h,Wr,dn,dn+1)}}else g=Lg(u,n,Le,g,!0),yr.addEventListener(h,g,E),dt.push(g),ue&&ue.push(h,Wr,dn,E)}else g=Lg(u,n,Le,g,!1);const Qt=u.outputs;let Mn;if(xt&&null!==Qt&&(Mn=Qt[h])){const Un=Mn.length;if(Un)for(let yr=0;yr<Un;yr+=2){const fl=n[Mn[yr]][Mn[yr+1]].subscribe(g),wf=dt.length;dt.push(g,fl),ue&&ue.push(h,u.index,wf,-(wf+1))}}}(g,h,h[11],E,t,n,!!o,u),Fg}function Rm(t,n,o,u){try{return!1!==o(u)}catch(h){return Zh(t,h),!1}}function Lg(t,n,o,u,h){return function g(E){if(E===Function)return u;const S=2&t.flags?Ar(t.index,n):n;0==(32&n[2])&&Qd(S);let N=Rm(n,0,u,E),te=g.__ngNextListenerFn__;for(;te;)N=Rm(n,0,te,E)&&N,te=te.__ngNextListenerFn__;return h&&!1===N&&(E.preventDefault(),E.returnValue=!1),N}}function Pm(t=1){return function(t){return(ur.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,ur.lFrame.contextLView))[8]}(t)}function _y(t,n){let o=null;const u=function(t){const n=t.attrs;if(null!=n){const o=n.indexOf(5);if(0==(1&o))return n[o+1]}return null}(t);for(let h=0;h<n.length;h++){const g=n[h];if("*"!==g){if(null===u?qc(t,g,!0):Bf(u,g))return h}else o=h}return o}function Om(t){const n=ne()[16][6];if(!n.projection){const u=n.projection=nc(t?t.length:1,null),h=u.slice();let g=n.child;for(;null!==g;){const E=t?_y(g,t):0;null!==E&&(h[E]?h[E].projectionNext=g:u[E]=g,h[E]=g),g=g.next}}}function Nm(t,n=0,o){const u=ne(),h=It(),g=Yu(h,L+t,16,null,o||null);null===g.projection&&(g.projection=n),_o(),64!=(64&g.flags)&&function(t,n,o){da(n[11],0,n,o,$a(t,o,n),Va(o.parent||n[6],o,n))}(h,u,g)}function Bg(t,n,o){return hu(t,"",n,"",o),Bg}function hu(t,n,o,u,h){const g=ne(),E=ho(g,n,o,u);return E!==ni&&Js(It(),Ji(),g,t,E,g[11],h,!1),hu}function r(t,n,o,u,h){const g=t[o+1],E=null===n;let S=u?to(g):Fl(g),N=!1;for(;0!==S&&(!1===N||E);){const ue=t[S+1];s(t[S],n)&&(N=!0,t[S+1]=u?ju(ue):kh(ue)),S=u?to(ue):Fl(ue)}N&&(t[o+1]=u?kh(g):ju(g))}function s(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Es(t,n)>=0}function fu(t,n){return function(t,n,o,u){const h=ne(),g=It(),E=hs(2);g.firstUpdatePass&&function(t,n,o,u){const h=t.data;if(null===h[o+1]){const g=h[Bi()],E=function(t,n){return n>=t.expandoStartIndex}(t,o);(function(t,n){return 0!=(t.flags&(n?16:32))})(g,u)&&null===n&&!E&&(n=!1),n=function(t,n,o,u){const h=function(t){const n=ur.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let g=u?n.residualClasses:n.residualStyles;if(null===h)0===(u?n.classBindings:n.styleBindings)&&(o=$g(o=wy(null,t,n,o,u),n.attrs,u),g=null);else{const E=n.directiveStylingLast;if(-1===E||t[E]!==h)if(o=wy(h,t,n,o,u),null===g){let N=function(t,n,o){const u=o?n.classBindings:n.styleBindings;if(0!==Fl(u))return t[to(u)]}(t,n,u);void 0!==N&&Array.isArray(N)&&(N=wy(null,t,n,N[1],u),N=$g(N,n.attrs,u),function(t,n,o,u){t[to(o?n.classBindings:n.styleBindings)]=u}(t,n,u,N))}else g=function(t,n,o){let u;const h=n.directiveEnd;for(let g=1+n.directiveStylingLast;g<h;g++)u=$g(u,t[g].hostAttrs,o);return $g(u,n.attrs,o)}(t,n,u)}return void 0!==g&&(u?n.residualClasses=g:n.residualStyles=g),o}(h,g,n,u),function(t,n,o,u,h,g){let E=g?n.classBindings:n.styleBindings,S=to(E),N=Fl(E);t[u]=o;let ue,te=!1;if(Array.isArray(o)){const Le=o;ue=Le[1],(null===ue||Es(Le,ue)>0)&&(te=!0)}else ue=o;if(h)if(0!==N){const dt=to(t[S+1]);t[u+1]=Kc(dt,S),0!==dt&&(t[dt+1]=Mh(t[dt+1],u)),t[S+1]=function(t,n){return 131071&t|n<<17}(t[S+1],u)}else t[u+1]=Kc(S,0),0!==S&&(t[S+1]=Mh(t[S+1],u)),S=u;else t[u+1]=Kc(N,0),0===S?S=u:t[N+1]=Mh(t[N+1],u),N=u;te&&(t[u+1]=kh(t[u+1])),r(t,ue,u,!0),r(t,ue,u,!1),function(t,n,o,u,h){const g=h?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof n&&Es(g,n)>=0&&(o[u+1]=ju(o[u+1]))}(n,ue,t,u,g),E=Kc(S,N),g?n.classBindings=E:n.styleBindings=E}(h,g,n,o,E,u)}}(g,t,E,u),n!==ni&&Ho(h,E,n)&&function(t,n,o,u,h,g,E,S){if(!(3&n.type))return;const N=t.data,te=N[S+1];zm(function(t){return 1==(1&t)}(te)?bv(N,n,o,h,Fl(te),E):void 0)||(zm(g)||function(t){return 2==(2&t)}(te)&&(g=bv(N,null,o,h,S,E)),function(t,n,o,u,h){const g=$(t);if(n)h?g?t.addClass(o,u):o.classList.add(u):g?t.removeClass(o,u):o.classList.remove(u);else{let E=-1===u.indexOf("-")?void 0:yo.DashCase;if(null==h)g?t.removeStyle(o,u,E):o.style.removeProperty(u);else{const S="string"==typeof h&&h.endsWith("!important");S&&(h=h.slice(0,-10),E|=yo.Important),g?t.setStyle(o,u,h,E):o.style.setProperty(u,h,S?"important":"")}}}(u,E,ce(Bi(),o),h,g))}(g,g.data[Bi()],h,h[11],t,h[E+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=re(Os(t)))),t}(n,o),u,E)}(t,n,null,!0),fu}function wy(t,n,o,u,h){let g=null;const E=o.directiveEnd;let S=o.directiveStylingLast;for(-1===S?S=o.directiveStart:S++;S<E&&(g=n[S],u=$g(u,g.hostAttrs,h),g!==t);)S++;return null!==t&&(o.directiveStylingLast=S),u}function $g(t,n,o){const u=o?1:2;let h=-1;if(null!==n)for(let g=0;g<n.length;g++){const E=n[g];"number"==typeof E?h=E:h===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Uo(t,E,!!o||n[++g]))}return void 0===t?null:t}function bv(t,n,o,u,h,g){const E=null===n;let S;for(;h>0;){const N=t[h],te=Array.isArray(N),ue=te?N[1]:N,Le=null===ue;let dt=o[h+1];dt===ni&&(dt=Le?Xt:void 0);let xt=Le?Ws(dt,u):ue===u?dt:void 0;if(te&&!zm(xt)&&(xt=Ws(N,u)),zm(xt)&&(S=xt,E))return S;const Qt=t[h+1];h=E?to(Qt):Fl(Qt)}if(null!==n){let N=g?n.residualClasses:n.residualStyles;null!=N&&(S=Ws(N,u))}return S}function zm(t){return void 0!==t}function Ev(t,n=""){const o=ne(),u=It(),h=t+L,g=u.firstCreatePass?Yu(u,h,1,n,null):u.data[h],E=o[h]=function(t,n){return $(t)?t.createText(n):t.createTextNode(n)}(o[11],n);Ls(u,o,E,g),yi(g,!1)}function Ey(t){return Wm("",t,""),Ey}function Wm(t,n,o){const u=ne(),h=ho(u,t,n,o);return h!==ni&&ja(u,Bi(),h),Wm}function Cy(t,n,o,u,h){const g=ne(),E=au(g,t,n,o,u,h);return E!==ni&&ja(g,Bi(),E),Cy}const _f=void 0;var mb=["en",[["a","p"],["AM","PM"],_f],[["AM","PM"],_f,_f],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_f,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_f,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_f,"{1} 'at' {0}",_f],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const o=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Mp={};function Iy(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=jv(n);if(o)return o;const u=n.split("-")[0];if(o=jv(u),o)return o;if("en"===u)return mb;throw new Error(`Missing locale data for the locale "${t}".`)}function Uv(t){return Iy(t)[Qr.PluralCase]}function jv(t){return t in Mp||(Mp[t]=je.ng&&je.ng.common&&je.ng.common.locales&&je.ng.common.locales[t]),Mp[t]}var Qr=(()=>((Qr=Qr||{})[Qr.LocaleId=0]="LocaleId",Qr[Qr.DayPeriodsFormat=1]="DayPeriodsFormat",Qr[Qr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qr[Qr.DaysFormat=3]="DaysFormat",Qr[Qr.DaysStandalone=4]="DaysStandalone",Qr[Qr.MonthsFormat=5]="MonthsFormat",Qr[Qr.MonthsStandalone=6]="MonthsStandalone",Qr[Qr.Eras=7]="Eras",Qr[Qr.FirstDayOfWeek=8]="FirstDayOfWeek",Qr[Qr.WeekendRange=9]="WeekendRange",Qr[Qr.DateFormat=10]="DateFormat",Qr[Qr.TimeFormat=11]="TimeFormat",Qr[Qr.DateTimeFormat=12]="DateTimeFormat",Qr[Qr.NumberSymbols=13]="NumberSymbols",Qr[Qr.NumberFormats=14]="NumberFormats",Qr[Qr.CurrencyCode=15]="CurrencyCode",Qr[Qr.CurrencySymbol=16]="CurrencySymbol",Qr[Qr.CurrencyName=17]="CurrencyName",Qr[Qr.Currencies=18]="Currencies",Qr[Qr.Directionality=19]="Directionality",Qr[Qr.PluralCase=20]="PluralCase",Qr[Qr.ExtraData=21]="ExtraData",Qr))();const Gm="en-US";let Hv=Gm;function xy(t,n,o,u,h){if(t=Ee(t),Array.isArray(t))for(let g=0;g<t.length;g++)xy(t[g],n,o,u,h);else{const g=It(),E=ne();let S=ed(t)?t:Ee(t.provide),N=ef(t);const te=Pn(),ue=1048575&te.providerIndexes,Le=te.directiveStart,dt=te.providerIndexes>>20;if(ed(t)||!t.multi){const xt=new hr(N,h,dh),Qt=Ay(S,n,h?ue:ue+dt,Le);-1===Qt?(ns(ws(te,E),g,S),Sy(g,t,n.length),n.push(S),te.directiveStart++,te.directiveEnd++,h&&(te.providerIndexes+=1048576),o.push(xt),E.push(xt)):(o[Qt]=xt,E[Qt]=xt)}else{const xt=Ay(S,n,ue+dt,Le),Qt=Ay(S,n,ue,ue+dt),Mn=xt>=0&&o[xt],Un=Qt>=0&&o[Qt];if(h&&!Un||!h&&!Mn){ns(ws(te,E),g,S);const yr=function(t,n,o,u,h){const g=new hr(t,o,dh);return g.multi=[],g.index=n,g.componentProviders=0,f_(g,h,u&&!o),g}(h?pw:fw,o.length,h,u,N);!h&&Un&&(o[Qt].providerFactory=yr),Sy(g,t,n.length,0),n.push(S),te.directiveStart++,te.directiveEnd++,h&&(te.providerIndexes+=1048576),o.push(yr),E.push(yr)}else Sy(g,t,xt>-1?xt:Qt,f_(o[h?Qt:xt],N,!h&&u));!h&&u&&Un&&o[Qt].componentProviders++}}}function Sy(t,n,o,u){const h=ed(n),g=function(t){return!!t.useClass}(n);if(h||g){const N=(g?Ee(n.useClass):n).prototype.ngOnDestroy;if(N){const te=t.destroyHooks||(t.destroyHooks=[]);if(!h&&n.multi){const ue=te.indexOf(o);-1===ue?te.push(o,[u,N]):te[ue+1].push(u,N)}else te.push(o,N)}}}function f_(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function Ay(t,n,o,u){for(let h=o;h<u;h++)if(n[h]===t)return h;return-1}function fw(t,n,o,u){return ky(this.multi,[])}function pw(t,n,o,u){const h=this.multi;let g;if(this.providerFactory){const E=this.providerFactory.componentProviders,S=Fe(o,o[1],this.providerFactory.index,u);g=S.slice(0,E),ky(h,g);for(let N=E;N<S.length;N++)g.push(S[N])}else g=[],ky(h,g);return g}function ky(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function p_(t,n=[]){return o=>{o.providersResolver=(u,h)=>function(t,n,o){const u=It();if(u.firstCreatePass){const h=Qn(t);xy(o,u.data,u.blueprint,h,!0),xy(n,u.data,u.blueprint,h,!1)}}(u,h?h(t):t,n)}}class g_{}class vw{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${re(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let zg=(()=>{class t{}return t.NULL=new vw,t})();function _w(){return Pp(Pn(),ne())}function Pp(t,n){return new Wg(Tt(t,n))}let Wg=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=_w,t})();function bw(t){return t instanceof Wg?t.nativeElement:t}class y_{}let ww=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function(){const t=ne(),o=Ar(Pn().index,t);return function(t){return t[11]}(En(o)?o:t)}(),t})(),Iw=(()=>{class t{}return t.\u0275prov=Dn({token:t,providedIn:"root",factory:()=>null}),t})();class v_{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const __=new v_("13.0.3"),My={};function Qm(t,n,o,u,h=!1){for(;null!==o;){const g=n[o.index];if(null!==g&&u.push(O(g)),un(g))for(let S=10;S<g.length;S++){const N=g[S],te=N[1].firstChild;null!==te&&Qm(N[1],N,te,u)}const E=o.type;if(8&E)Qm(t,n,o.child,u);else if(32&E){const S=Ml(o,n);let N;for(;N=S();)u.push(N)}else if(16&E){const S=xh(n,o);if(Array.isArray(S))u.push(...S);else{const N=sl(n[16]);Qm(N[1],N,S,u,!0)}}o=h?o.projectionNext:o.next}return u}class Gg{constructor(n,o){this._lView=n,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,o=n[1];return Qm(o,n,o.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(un(n)){const o=n[8],u=o?o.indexOf(this):-1;u>-1&&(Ba(n,u),sa(o,u))}this._attachedToViewContainer=!1}Pf(this._lView[1],this._lView)}onDestroy(n){Uh(this._lView[1],this._lView,null,n)}markForCheck(){Qd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){tp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,o){Fo(!0);try{tp(t,n,o)}finally{Fo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,xo(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class Dw extends Gg{constructor(n){super(n),this._view=n}detectChanges(){Yh(this._view)}checkNoChanges(){!function(t){Fo(!0);try{Yh(t)}finally{Fo(!1)}}(this._view)}get context(){return null}}class b_ extends zg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=Fn(n);return new Ry(o,this.ngModule)}}function w_(t){const n=[];for(let o in t)t.hasOwnProperty(o)&&n.push({propName:t[o],templateName:o});return n}const xw=new Ri("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>kd});class Ry extends g_{constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=n.selectors.map(tm).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return w_(this.componentDef.inputs)}get outputs(){return w_(this.componentDef.outputs)}create(n,o,u,h){const g=(h=h||this.ngModule)?function(t,n){return{get:(o,u,h)=>{const g=t.get(o,My,h);return g!==My||u===My?g:n.get(o,u,h)}}}(n,h.injector):n,E=g.get(y_,ve),S=g.get(Iw,null),N=E.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",ue=u?function(t,n,o){if($(t))return t.selectRootElement(n,o===Fr.ShadowDom);let u="string"==typeof n?t.querySelector(n):n;return u.textContent="",u}(N,u,this.componentDef.encapsulation):cs(E.createRenderer(null,this.componentDef),te,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(te)),Le=this.componentDef.onPush?576:528,dt=function(t,n){return{components:[],scheduler:t||kd,clean:ip,playerHandler:n||null,flags:0}}(),xt=Qu(0,null,null,1,0,null,null,null,null,null),Qt=Jc(null,xt,dt,Le,null,null,E,N,S,g);let Mn,Un;Us(Qt);try{const yr=function(t,n,o,u,h,g){const E=o[1];o[20]=t;const N=Yu(E,20,2,"#host",null),te=N.mergedAttrs=n.hostAttrs;null!==te&&(Qh(N,te,!0),null!==t&&(br(h,t,te),null!==N.classes&&Ld(h,t,N.classes),null!==N.styles&&Ua(h,t,N.styles)));const ue=u.createRenderer(t,n),Le=Jc(o,eg(n),null,n.onPush?64:16,o[20],N,u,ue,g||null,null);return E.firstCreatePass&&(ns(ws(N,o),E,n.type),Jf(E,N),ag(N,o.length,1)),qh(o,Le),o[20]=Le}(ue,this.componentDef,Qt,E,N);if(ue)if(u)br(N,ue,["ng-version",__.full]);else{const{attrs:dn,classes:Wr}=function(t){const n=[],o=[];let u=1,h=2;for(;u<t.length;){let g=t[u];if("string"==typeof g)2===h?""!==g&&n.push(g,t[++u]):8===h&&o.push(g);else{if(!ha(h))break;h=g}u++}return{attrs:n,classes:o}}(this.componentDef.selectors[0]);dn&&br(N,ue,dn),Wr&&Wr.length>0&&Ld(N,ue,Wr.join(" "))}if(Un=Xn(xt,L),void 0!==o){const dn=Un.projection=[];for(let Wr=0;Wr<this.ngContentSelectors.length;Wr++){const Fi=o[Wr];dn.push(null!=Fi?Array.from(Fi):null)}}Mn=function(t,n,o,u,h){const g=o[1],E=function(t,n,o){const u=Pn();t.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),lg(t,u,n,eu(t,n,1,null),o));const h=Fe(n,t,u.directiveStart,u);Yi(h,n);const g=Tt(u,n);return g&&Yi(g,n),h}(g,o,n);if(u.components.push(E),t[8]=E,h&&h.forEach(N=>N(E,n)),n.contentQueries){const N=Pn();n.contentQueries(1,E,N.directiveStart)}const S=Pn();return!g.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(go(S.index),Hh(o[1],S,0,S.directiveStart,S.directiveEnd,n),Xf(n,E)),E}(yr,this.componentDef,Qt,dt,[iu]),Ku(xt,Qt,null)}finally{po()}return new kw(this.componentType,Mn,Pp(Un,Qt),Qt,Un)}}class kw extends class{}{constructor(n,o,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=o,this.hostView=this.changeDetectorRef=new Dw(h),this.componentType=n}get injector(){return new fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class Op{}class E_{}const Np=new Map;class D_ extends Op{constructor(n,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new b_(this);const u=Ct(n);this._bootstrapComponents=To(u.bootstrap),this._r3Injector=gg(n,o,[{provide:Op,useValue:this},{provide:zg,useValue:this.componentFactoryResolver}],re(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,o=pa.THROW_IF_NOT_FOUND,u=Yt.Default){return n===pa||n===Op||n===Jd?this:this._r3Injector.get(n,o,u)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Py extends E_{constructor(n){super(),this.moduleType=n,null!==Ct(n)&&function(t){const n=new Set;!function o(u){const h=Ct(u,!0),g=h.id;null!==g&&(function(t,n,o){if(n&&n!==o)throw new Error(`Duplicate module registered for ${t} - ${re(n)} vs ${re(n.name)}`)}(g,Np.get(g),u),Np.set(g,u));const E=To(h.imports);for(const S of E)n.has(S)||(n.add(S),o(S))}(t)}(n)}create(n){return new D_(this.moduleType,n)}}function T_(t,n,o,u){return x_(ne(),ro(),t,n,o,u)}function qg(t,n){const o=t[n];return o===ni?void 0:o}function x_(t,n,o,u,h,g){const E=n+o;return Ho(t,E,h)?ga(t,E+1,g?u.call(g,h):u(h)):qg(t,E+1)}function R_(t,n){const o=It();let u;const h=t+L;o.firstCreatePass?(u=function(t,n){if(n)for(let o=n.length-1;o>=0;o--){const u=n[o];if(t===u.name)return u}}(n,o.pipeRegistry),o.data[h]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(h,u.onDestroy)):u=o.data[h];const g=u.factory||(u.factory=Re(u.type)),E=Mt(dh);try{const S=vl(!1),N=g();return vl(S),function(t,n,o,u){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),n[o]=u}(o,ne(),h,N),N}finally{Mt(E)}}function P_(t,n,o){const u=t+L,h=ne(),g=zr(h,u);return Yg(h,u)?x_(h,ro(),n,g.transform,o,g):g.transform(o)}function O_(t,n,o,u){const h=t+L,g=ne(),E=zr(g,h);return Yg(g,h)?function(t,n,o,u,h,g,E){const S=n+o;return Sc(t,S,h,g)?ga(t,S+2,E?u.call(E,h,g):u(h,g)):qg(t,S+2)}(g,ro(),n,E.transform,o,u,E):E.transform(o,u)}function Yg(t,n){return t[1].data[n].pure}function Oy(t){return n=>{setTimeout(t,void 0,n)}}const gu=class extends a.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,u){var N,te,ue;let h=n,g=o||(()=>null),E=u;if(n&&"object"==typeof n){const Le=n;h=null==(N=Le.next)?void 0:N.bind(Le),g=null==(te=Le.error)?void 0:te.bind(Le),E=null==(ue=Le.complete)?void 0:ue.bind(Le)}this.__isAsync&&(g=Oy(g),h&&(h=Oy(h)),E&&(E=Oy(E)));const S=super.subscribe({next:h,error:g,complete:E});return n instanceof C.w&&n.add(S),S}};function qw(){return this._results[Ro()]()}class Ny{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Ro(),u=Ny.prototype;u[o]||(u[o]=qw)}get changes(){return this._changes||(this._changes=new gu)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){const u=this;u.dirty=!1;const h=mi(n);(this._changesDetected=!function(t,n,o){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let h=t[u],g=n[u];if(o&&(h=o(h),g=o(g)),g!==h)return!1}return!0}(u._results,h,o))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Kg=(()=>{class t{}return t.__NG_ELEMENT_ID__=Zw,t})();const Yw=Kg,Kw=class extends Yw{constructor(n,o,u){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(n){const o=this._declarationTContainer.tViews,u=Jc(this._declarationLView,o,n,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(o)),Ku(o,u,n),new Gg(u)}};function Zw(){return Xm(Pn(),ne())}function Xm(t,n){return 4&t.type?new Kw(n,t,Pp(t,n)):null}let Jm=(()=>{class t{}return t.__NG_ELEMENT_ID__=Qw,t})();function Qw(){return L_(Pn(),ne())}const Xw=Jm,N_=class extends Xw{constructor(n,o,u){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=u}get element(){return Pp(this._hostTNode,this._hostLView)}get injector(){return new fi(this._hostTNode,this._hostLView)}get parentInjector(){const n=Io(this._hostTNode,this._hostLView);if(ji(n)){const o=ia(n,this._hostLView),u=ps(n);return new fi(o[1].data[u+8],o)}return new fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=F_(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,o,u){const h=n.createEmbeddedView(o||{});return this.insert(h,u),h}createComponent(n,o,u,h,g){const E=n&&!("function"==typeof n);let S;if(E)S=o;else{const Le=o||{};S=Le.index,u=Le.injector,h=Le.projectableNodes,g=Le.ngModuleRef}const N=E?n:new Ry(Fn(n)),te=u||this.parentInjector;if(!g&&null==N.ngModule&&te){const Le=te.get(Op,null);Le&&(g=Le)}const ue=N.create(te,h,void 0,g);return this.insert(ue.hostView,S),ue}insert(n,o){const u=n._lView,h=u[1];if(un(u[3])){const ue=this.indexOf(n);if(-1!==ue)this.detach(ue);else{const Le=u[3],dt=new N_(Le,Le[6],Le[3]);dt.detach(dt.indexOf(n))}}const g=this._adjustIndex(o),E=this._lContainer;!function(t,n,o,u){const h=10+u,g=o.length;u>0&&(o[h-1][4]=n),u<g-10?(n[4]=o[h],tc(o,10+u,n)):(o.push(n),n[4]=null),n[3]=o;const E=n[17];null!==E&&o!==E&&function(t,n){const o=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===o?t[9]=[n]:o.push(n)}(E,n);const S=n[19];null!==S&&S.insertView(t),n[2]|=128}(h,u,E,g);const S=Bu(g,E),N=u[11],te=Nu(N,E[7]);return null!==te&&function(t,n,o,u,h,g){u[0]=h,u[6]=n,xo(t,u,o,1,h,g)}(h,E[6],N,u,te,S),n.attachToViewContainerRef(),tc(Fy(E),g,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=F_(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),u=Ba(this._lContainer,o);u&&(sa(Fy(this._lContainer),o),Pf(u[1],u))}detach(n){const o=this._adjustIndex(n,-1),u=Ba(this._lContainer,o);return u&&null!=sa(Fy(this._lContainer),o)?new Gg(u):null}_adjustIndex(n,o=0){return null==n?this.length+o:n}};function F_(t){return t[8]}function Fy(t){return t[8]||(t[8]=[])}function L_(t,n){let o;const u=n[t.index];if(un(u))o=u;else{let h;if(8&t.type)h=O(u);else{const g=n[11];h=g.createComment("");const E=Tt(t,n);Ol(g,Nu(g,E),h,function(t,n){return $(t)?t.nextSibling(n):n.nextSibling}(g,E),!1)}n[t.index]=o=Kd(u,n,h,t),qh(n,o)}return new N_(o,t,n)}class Ly{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ly(this.queryList)}setDirty(){this.queryList.setDirty()}}class By{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const u=null!==n.contentQueries?n.contentQueries[0]:o.length,h=[];for(let g=0;g<u;g++){const E=o.getByIndex(g);h.push(this.queries[E.indexInDeclarationView].clone())}return new By(h)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==G_(n,o).matches&&this.queries[o].setDirty()}}class B_{constructor(n,o,u=null){this.predicate=n,this.flags=o,this.read=u}}class $y{constructor(n=[]){this.queries=n}elementStart(n,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let u=0;u<this.length;u++){const h=null!==o?o.length:0,g=this.getByIndex(u).embeddedTView(n,h);g&&(g.indexInDeclarationView=u,null!==o?o.push(g):o=[g])}return null!==o?new $y(o):null}template(n,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Vy{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new Vy(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(n,o,tE(o,g)),this.matchTNodeWithReadOption(n,o,me(o,n,g,!1,!1))}else u===Kg?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,me(o,n,u,!1,!1))}matchTNodeWithReadOption(n,o,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Wg||h===Jm||h===Kg&&4&o.type)this.addMatch(o.index,-2);else{const g=me(o,n,h,!1,!1);null!==g&&this.addMatch(o.index,g)}else this.addMatch(o.index,u)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function tE(t,n){const o=t.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===n)return o[u+1];return null}function rE(t,n,o,u){return-1===o?function(t,n){return 11&t.type?Pp(t,n):4&t.type?Xm(t,n):null}(n,t):-2===o?function(t,n,o){return o===Wg?Pp(n,t):o===Kg?Xm(n,t):o===Jm?L_(n,t):void 0}(t,n,u):Fe(t,t[1],o,n)}function $_(t,n,o,u){const h=n[19].queries[u];if(null===h.matches){const g=t.data,E=o.matches,S=[];for(let N=0;N<E.length;N+=2){const te=E[N];S.push(te<0?null:rE(n,g[te],E[N+1],o.metadata.read))}h.matches=S}return h.matches}function Uy(t,n,o,u){const h=t.queries.getByIndex(o),g=h.matches;if(null!==g){const E=$_(t,n,h,o);for(let S=0;S<g.length;S+=2){const N=g[S];if(N>0)u.push(E[S/2]);else{const te=g[S+1],ue=n[-N];for(let Le=10;Le<ue.length;Le++){const dt=ue[Le];dt[17]===dt[3]&&Uy(dt[1],dt,te,u)}if(null!==ue[9]){const Le=ue[9];for(let dt=0;dt<Le.length;dt++){const xt=Le[dt];Uy(xt[1],xt,te,u)}}}}}return u}function V_(t){const n=ne(),o=It(),u=Xr();ts(u+1);const h=G_(o,u);if(t.dirty&&Ai(n)===(2==(2&h.metadata.flags))){if(null===h.matches)t.reset([]);else{const g=h.crossesNgTemplate?Uy(o,n,u,[]):$_(o,n,h,u);t.reset(g,bw),t.notifyOnChanges()}return!0}return!1}function U_(t,n,o){const u=It();u.firstCreatePass&&(W_(u,new B_(t,n,o),-1),2==(2&n)&&(u.staticViewQueries=!0)),z_(u,ne(),n)}function j_(t,n,o,u){const h=It();if(h.firstCreatePass){const g=Pn();W_(h,new B_(n,o,u),g.index),function(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(h,t),2==(2&o)&&(h.staticContentQueries=!0)}z_(h,ne(),o)}function H_(){return t=ne(),n=Xr(),t[19].queries[n].queryList;var t,n}function z_(t,n,o){const u=new Ny(4==(4&o));Uh(t,n,u,u.destroy),null===n[19]&&(n[19]=new By),n[19].queries.push(new Ly(u))}function W_(t,n,o){null===t.queries&&(t.queries=new $y),t.queries.track(new Vy(n,o))}function G_(t,n){return t.queries.getByIndex(n)}function q_(t,n){return Xm(t,n)}function ny(...t){}const qy=new Ri("Application Initializer");let Lp=(()=>{class t{constructor(o){this.appInits=o,this.resolve=ny,this.reject=ny,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Wl(g))o.push(g);else if(du(g)){const E=new Promise((S,N)=>{g.subscribe({complete:S,error:N})});o.push(E)}}Promise.all(o).then(()=>{u()}).catch(h=>{this.reject(h)}),0===o.length&&u(),this.initialized=!0}}return t.\u0275fac=function(o){return new(o||t)(zi(qy,8))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),t})();const h0=new Ri("AppId"),DE={provide:h0,useFactory:function(){return`${Yy()}${Yy()}${Yy()}`},deps:[]};function Yy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const f0=new Ri("Platform Initializer"),p0=new Ri("Platform ID"),g0=new Ri("appBootstrapListener");let m0=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),t})();const ry=new Ri("LocaleId"),y0=new Ri("DefaultCurrencyCode");class TE{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let Ky=(()=>{class t{compileModuleSync(o){return new Py(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),g=To(Ct(o).declarations).reduce((E,S)=>{const N=Fn(S);return N&&E.push(new Ry(N)),E},[]);return new TE(u,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),t})();const SE=(()=>Promise.resolve(0))();function Zy(t){"undefined"==typeof Zone?SE.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class hl{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gu(!1),this.onMicrotaskEmpty=new gu(!1),this.onStable=new gu(!1),this.onError=new gu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&o,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let t=je.requestAnimationFrame,n=je.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o);const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(je,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Xy(t),t.isCheckStableRunning=!0,Qy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Xy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,h,g,E,S)=>{try{return v0(t),o.invokeTask(h,g,E,S)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),_0(t)}},onInvoke:(o,u,h,g,E,S,N)=>{try{return v0(t),o.invoke(h,g,E,S,N)}finally{t.shouldCoalesceRunChangeDetection&&n(),_0(t)}},onHasTask:(o,u,h,g)=>{o.hasTask(h,g),u===h&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,Xy(t),Qy(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,u,h,g)=>(o.handleError(h,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(hl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,o,u){return this._inner.run(n,o,u)}runTask(n,o,u,h){const g=this._inner,E=g.scheduleEventTask("NgZoneEvent: "+h,n,kE,ny,ny);try{return g.runTask(E,o,u)}finally{g.cancelTask(E)}}runGuarded(n,o,u){return this._inner.runGuarded(n,o,u)}runOutsideAngular(n){return this._outer.run(n)}}const kE={};function Qy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Xy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function v0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _0(t){t._nesting--,Qy(t)}class PE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gu,this.onMicrotaskEmpty=new gu,this.onStable=new gu,this.onError=new gu}run(n,o,u){return n.apply(o,u)}runGuarded(n,o,u){return n.apply(o,u)}runOutsideAngular(n){return n()}runTask(n,o,u,h){return n.apply(o,u)}}let b0=(()=>{class t{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hl.assertNotInAngularZone(),Zy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zy(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==g),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:h})}whenStable(o,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,h){return[]}}return t.\u0275fac=function(o){return new(o||t)(zi(hl))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),t})(),w0=(()=>{class t{constructor(){this._applications=new Map,Jy.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Jy.findTestabilityInTree(this,o,u)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),t})();class OE{addToWindow(n){}findTestabilityInTree(n,o,u){return null}}function NE(t){Jy=t}let Mc,Jy=new OE;const E0=new Ri("AllowMultipleToken");class $E{constructor(n,o){this.name=n,this.token=o}}function C0(t,n,o=[]){const u=`Platform: ${n}`,h=new Ri(u);return(g=[])=>{let E=I0();if(!E||E.injector.get(E0,!1))if(t)t(o.concat(g).concat({provide:h,useValue:!0}));else{const S=o.concat(g).concat({provide:h,useValue:!0},{provide:eh,useValue:"platform"});!function(t){if(Mc&&!Mc.destroyed&&!Mc.injector.get(E0,!1))throw new _e("400","");Mc=t.get(D0);const n=t.get(f0,null);n&&n.forEach(o=>o())}(pa.create({providers:S,name:u}))}return function(t){const n=I0();if(!n)throw new _e("401","");return n}()}}function I0(){return Mc&&!Mc.destroyed?Mc:null}let D0=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const S=function(t,n){let o;return o="noop"===t?new PE:("zone.js"===t?void 0:t)||new hl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),N=[{provide:hl,useValue:S}];return S.run(()=>{const te=pa.create({providers:N,parent:this.injector,name:o.moduleType.name}),ue=o.create(te),Le=ue.injector.get(Su,null);if(!Le)throw new _e("402","");return S.runOutsideAngular(()=>{const dt=S.onError.subscribe({next:xt=>{Le.handleError(xt)}});ue.onDestroy(()=>{ev(this._modules,ue),dt.unsubscribe()})}),function(t,n,o){try{const u=o();return Wl(u)?u.catch(h=>{throw n.runOutsideAngular(()=>t.handleError(h)),h}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(Le,S,()=>{const dt=ue.injector.get(Lp);return dt.runInitializers(),dt.donePromise.then(()=>(function(t){_n(t,"Expected localeId to be defined"),"string"==typeof t&&(Hv=t.toLowerCase().replace(/_/g,"-"))}(ue.injector.get(ry,Gm)||Gm),this._moduleDoBootstrap(ue),ue))})})}bootstrapModule(o,u=[]){const h=T0({},u);return function(t,n,o){const u=new Py(o);return Promise.resolve(u)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(o){const u=o.injector.get(Qg);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!o.instance.ngDoBootstrap)throw new _e("403","");o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e("404","");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(o){return new(o||t)(zi(pa))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),t})();function T0(t,n){return Array.isArray(n)?n.reduce(T0,t):Kr(Kr({},t),n)}let Qg=(()=>{class t{constructor(o,u,h,g,E){this._zone=o,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const S=new X.y(te=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{te.next(this._stable),te.complete()})}),N=new X.y(te=>{let ue;this._zone.runOutsideAngular(()=>{ue=this._zone.onStable.subscribe(()=>{hl.assertNotInAngularZone(),Zy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,te.next(!0))})})});const Le=this._zone.onUnstable.subscribe(()=>{hl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{te.next(!1)}))});return()=>{ue.unsubscribe(),Le.unsubscribe()}});this.isStable=(0,He.T)(S,N.pipe(t=>(0,Q.x)()(function(t,n){return function(u){let h;h="function"==typeof t?t:function(){return t};const g=Object.create(u,Te.N);return g.source=u,g.subjectFactory=h,g}}(pe)(t))))}bootstrap(o,u){if(!this._initStatus.done)throw new _e("405","");let h;h=o instanceof g_?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(h.componentType);const g=function(t){return t.isBoundToModule}(h)?void 0:this._injector.get(Op),S=h.create(pa.NULL,[],u||h.selector,g),N=S.location.nativeElement,te=S.injector.get(b0,null),ue=te&&S.injector.get(w0);return te&&ue&&ue.registerApplication(N,te),S.onDestroy(()=>{this.detachView(S.hostView),ev(this.components,S),ue&&ue.unregisterApplication(N)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new _e("101","");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;ev(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(g0,[]).concat(this._bootstrapListeners).forEach(h=>h(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(o){return new(o||t)(zi(hl),zi(pa),zi(Su),zi(zg),zi(Lp))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),t})();function ev(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}let S0=!0,A0=!1;function WE(){return A0=!0,S0}function GE(){if(A0)throw new Error("Cannot enable prod mode after platform setup.");S0=!1}let qE=(()=>{class t{}return t.__NG_ELEMENT_ID__=YE,t})();function YE(t){return function(t,n,o){if(vr(t)&&!o){const u=Ar(t.index,n);return new Gg(u,u)}return 47&t.type?new Gg(n[16],n):null}(Pn(),ne(),16==(16&t))}class N0{constructor(){}supports(n){return su(n)}create(n){return new tC(n)}}const eC=(t,n)=>n;class tC{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||eC}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,u=this._removalsHead,h=0,g=null;for(;o||u;){const E=!u||o&&o.currentIndex<L0(u,h,g)?o:u,S=L0(E,h,g),N=E.currentIndex;if(E===u)h--,u=u._nextRemoved;else if(o=o._next,null==E.previousIndex)h++;else{g||(g=[]);const te=S-h,ue=N-h;if(te!=ue){for(let dt=0;dt<te;dt++){const xt=dt<g.length?g[dt]:g[dt]=0,Qt=xt+dt;ue<=Qt&&Qt<te&&(g[dt]=xt+1)}g[E.previousIndex]=ue-te}}S!==N&&n(E,S,N)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!su(n))throw new Error(`Error trying to diff '${re(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let h,g,E,o=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let S=0;S<this.length;S++)g=n[S],E=this._trackByFn(S,g),null!==o&&Object.is(o.trackById,E)?(u&&(o=this._verifyReinsertion(o,g,E,S)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,E,S),u=!0),o=o._next}else h=0,function(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Ro()]();let u;for(;!(u=o.next()).done;)n(u.value)}}(n,S=>{E=this._trackByFn(h,S),null!==o&&Object.is(o.trackById,E)?(u&&(o=this._verifyReinsertion(o,S,E,h)),Object.is(o.item,S)||this._addIdentityChange(o,S)):(o=this._mismatch(o,S,E,h),u=!0),o=o._next,h++}),this.length=h;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,u,h){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,g,h)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,g,h)):n=this._addAfter(new nC(o,u),g,h),n}_verifyReinsertion(n,o,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?n=this._reinsertAfter(g,n._prev,h):n.currentIndex!=h&&(n.currentIndex=h,this._addToMoves(n,h)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const h=n._prevRemoved,g=n._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(n,o,u),this._addToMoves(n,u),n}_moveAfter(n,o,u){return this._unlink(n),this._insertAfter(n,o,u),this._addToMoves(n,u),n}_addAfter(n,o,u){return this._insertAfter(n,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,u){const h=null===o?this._itHead:o._next;return n._next=h,n._prev=o,null===h?this._itTail=n:h._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new F0),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,u=n._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new F0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class nC{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rC{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const o=n._prevDup,u=n._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class F0{constructor(){this.map=new Map}put(n){const o=n.trackById;let u=this.map.get(o);u||(u=new rC,this.map.set(o,u)),u.add(n)}get(n,o){const h=this.map.get(n);return h?h.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function L0(t,n,o){const u=t.previousIndex;if(null===u)return u;let h=0;return o&&u<o.length&&(h=o[u]),u+n+h}class B0{constructor(){}supports(n){return n instanceof Map||id(n)}create(){return new iC}}class iC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||id(n)))throw new Error(`Error trying to diff '${re(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,h)=>{if(o&&o.key===h)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const g=this._getOrCreateRecordForKey(h,u);o=this._insertBeforeOrAppend(o,g)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const u=n._prev;return o._next=n,o._prev=u,n._prev=o,u&&(u._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const h=this._records.get(n);this._maybeAddToChanges(h,o);const g=h._prev,E=h._next;return g&&(g._next=E),E&&(E._prev=g),h._next=null,h._prev=null,h}const u=new oC(n);return this._records.set(n,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(u=>o(n[u],u))}}class oC{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $0(){return new oy([new N0])}let oy=(()=>{class t{constructor(o){this.factories=o}static create(o,u){if(null!=u){const h=u.factories.slice();o=o.concat(h)}return new t(o)}static extend(o){return{provide:t,useFactory:u=>t.create(o,u||$0()),deps:[[t,new vs,new Qa]]}}find(o){const u=this.factories.find(h=>h.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(t){return t.name||typeof t}(o)}'`)}}return t.\u0275prov=Dn({token:t,providedIn:"root",factory:$0}),t})();function V0(){return new sy([new B0])}let sy=(()=>{class t{constructor(o){this.factories=o}static create(o,u){if(u){const h=u.factories.slice();o=o.concat(h)}return new t(o)}static extend(o){return{provide:t,useFactory:u=>t.create(o,u||V0()),deps:[[t,new vs,new Qa]]}}find(o){const u=this.factories.find(h=>h.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return t.\u0275prov=Dn({token:t,providedIn:"root",factory:V0}),t})();const aC=[new B0],cC=new oy([new N0]),uC=new sy(aC),dC=C0(null,"core",[{provide:p0,useValue:"unknown"},{provide:D0,deps:[pa]},{provide:w0,deps:[]},{provide:m0,deps:[]}]),mC=[{provide:Qg,useClass:Qg,deps:[hl,pa,Su,zg,Lp]},{provide:xw,deps:[hl],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(o){n.push(o)}}},{provide:Lp,useClass:Lp,deps:[[new Qa,qy]]},{provide:Ky,useClass:Ky,deps:[]},DE,{provide:oy,useFactory:function(){return cC},deps:[]},{provide:sy,useFactory:function(){return uC},deps:[]},{provide:ry,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||Gm},deps:[[new Il(ry),new Qa,new vs]]},{provide:y0,useValue:"USD"}];let vC=(()=>{class t{constructor(o){}}return t.\u0275fac=function(o){return new(o||t)(zi(Qg))},t.\u0275mod=Lr({type:t}),t.\u0275inj=lr({providers:mC}),t})()},9010:(rn,ht,F)=>{"use strict";F.d(ht,{u5:()=>V,JU:()=>we,a5:()=>pr});var a=F(9619),X=(F(6019),F(5548)),He=F(5894),Te=F(8053),he=F(7879),fe=F(1915);function pe(O,M){return new X.y(R=>{const ce=O.length;if(0===ce)return void R.complete();const Tt=new Array(ce);let Tn=0,Xn=0;for(let zr=0;zr<ce;zr++){const Ar=(0,fe.D)(O[zr]);let Ai=!1;R.add(Ar.subscribe({next:fo=>{Ai||(Ai=!0,Xn++),Tt[zr]=fo},error:fo=>R.error(fo),complete:()=>{Tn++,(Tn===ce||!Ai)&&(Xn===ce&&R.next(M?M.reduce((fo,Oo,oo)=>(fo[Oo]=Tt[oo],fo),{}):Tt),R.complete())}}))}})}const we=new a.OlP("NgValueAccessor");function tn(O){return null!=O}function Dt(O){const M=(0,a.QGY)(O)?(0,fe.D)(O):O;return(0,a.CqO)(M),M}function pt(O){let M={};return O.forEach(R=>{M=null!=R?Kr(Kr({},M),R):M}),0===Object.keys(M).length?null:M}function _t(O,M){return M.map(R=>R(O))}function Kt(O){return O.map(M=>function(O){return!O.validate}(M)?M:R=>M.validate(R))}function Pt(O){return null!=O?function(O){if(!O)return null;const M=O.filter(tn);return 0==M.length?null:function(R){return pt(_t(R,M))}}(Kt(O)):null}function Ot(O){return null!=O?function(O){if(!O)return null;const M=O.filter(tn);return 0==M.length?null:function(R){return function(...O){if(1===O.length){const M=O[0];if((0,He.k)(M))return pe(M,null);if((0,he.K)(M)&&Object.getPrototypeOf(M)===Object.prototype){const R=Object.keys(M);return pe(R.map(ce=>M[ce]),R)}}if("function"==typeof O[O.length-1]){const M=O.pop();return pe(O=1===O.length&&(0,He.k)(O[0])?O[0]:O,null).pipe((0,Te.U)(R=>M(...R)))}return pe(O,null)}(_t(R,M).map(Dt)).pipe((0,Te.U)(pt))}}(Kt(O)):null}class pr extends class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=Pt(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=Ot(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M){this.control&&this.control.reset(M)}hasError(M,R){return!!this.control&&this.control.hasError(M,R)}getError(M,R){return this.control?this.control.getError(M,R):null}}{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let ke=(()=>{class O{}return O.\u0275fac=function(R){return new(R||O)},O.\u0275mod=a.oAB({type:O}),O.\u0275inj=a.cJS({}),O})(),Si=(()=>{class O{}return O.\u0275fac=function(R){return new(R||O)},O.\u0275mod=a.oAB({type:O}),O.\u0275inj=a.cJS({imports:[[ke]]}),O})(),V=(()=>{class O{}return O.\u0275fac=function(R){return new(R||O)},O.\u0275mod=a.oAB({type:O}),O.\u0275inj=a.cJS({imports:[Si]}),O})()},4620:(rn,ht,F)=>{"use strict";F.d(ht,{gz:()=>En,y6:()=>V,OD:()=>Tr,eC:()=>gn,wm:()=>br,wN:()=>bs,F0:()=>hr,rH:()=>Hs,Od:()=>bo,Bz:()=>qa,Hx:()=>xe});var a=F(6019),C=F(9619),X=F(8151),He=F(5894),Te=F(4168);class he extends Te.L{notifyNext(T,I,B,q,me){this.destination.next(I)}notifyError(T,I){this.destination.error(T)}notifyComplete(T){this.destination.complete()}}class fe extends Te.L{constructor(T,I,B){super(),this.parent=T,this.outerValue=I,this.outerIndex=B,this.index=0}_next(T){this.parent.notifyNext(this.outerValue,T,this.outerIndex,this.index++,this)}_error(T){this.parent.notifyError(T,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Q=F(4651),pe=F(5548);function ee(k,T,I,B,q=new fe(k,I,B)){if(!q.closed)return T instanceof pe.y?T.subscribe(q):(0,Q.s)(T)(q)}var de=F(5433);const we={};class Ce{constructor(T){this.resultSelector=T}call(T,I){return I.subscribe(new We(T,this.resultSelector))}}class We extends he{constructor(T,I){super(T),this.resultSelector=I,this.active=0,this.values=[],this.observables=[]}_next(T){this.values.push(we),this.observables.push(T)}_complete(){const T=this.observables,I=T.length;if(0===I)this.destination.complete();else{this.active=I,this.toRespond=I;for(let B=0;B<I;B++)this.add(ee(this,T[B],void 0,B))}}notifyComplete(T){0==(this.active-=1)&&this.destination.complete()}notifyNext(T,I,B){const q=this.values,Fe=this.toRespond?q[B]===we?--this.toRespond:this.toRespond:0;q[B]=I,0===Fe&&(this.resultSelector?this._tryResultSelector(q):this.destination.next(q.slice()))}_tryResultSelector(T){let I;try{I=this.resultSelector.apply(this,T)}catch(B){return void this.destination.error(B)}this.destination.next(I)}}var ye=F(1915),Ee=F(172);function Be(k){return new pe.y(T=>{let I;try{I=k()}catch(q){return void T.error(q)}return(I?(0,ye.D)(I):(0,Ee.c)()).subscribe(T)})}var Ne=F(2411),_e=F(4099),Ie=F(9443),st=F(3596),lt=F(5783),Bt=F(3405),Je=F(8345);function jt(k){return function(I){const B=new qe(k),q=I.lift(B);return B.caught=q}}class qe{constructor(T){this.selector=T}call(T,I){return I.subscribe(new it(T,this.selector,this.caught))}}class it extends Je.Ds{constructor(T,I,B){super(T),this.selector=I,this.caught=B}error(T){if(!this.isStopped){let I;try{I=this.selector(T,this.caught)}catch(me){return void super.error(me)}this._unsubscribeAndRecycle();const B=new Je.IY(this);this.add(B);const q=(0,Je.ft)(I,B);q!==B&&this.add(q)}}}var Me=F(4421);function Ue(k,T){return(0,Me.zg)(k,T,1)}var ut=F(8735),nt=F(523);function Ht(k){return function(I){return 0===k?(0,Ee.c)():I.lift(new tn(k))}}class tn{constructor(T){if(this.total=T,this.total<0)throw new nt.W}call(T,I){return I.subscribe(new Dt(T,this.total))}}class Dt extends Te.L{constructor(T,I){super(T),this.total=I,this.ring=new Array,this.count=0}_next(T){const I=this.ring,B=this.total,q=this.count++;I.length<B?I.push(T):I[q%B]=T}_complete(){const T=this.destination;let I=this.count;if(I>0){const B=this.count>=this.total?this.total:this.count,q=this.ring;for(let me=0;me<B;me++){const Fe=I++%B;T.next(q[Fe])}}T.complete()}}var pt=F(6225),_t=F(3507),Et=F(7255),Ln=F(1346);class _n{constructor(T){this.callback=T}call(T,I){return I.subscribe(new Ot(T,this.callback))}}class Ot extends Te.L{constructor(T,I){super(T),this.add(new Ln.w(I))}}var on=F(8053),Sr=F(9204),ar=F(6636),Dn=F(1125),Nn=F(7434),lr=F(739),Jn=F(5722),Dr=F(5234),cr=F(2225);class pr{constructor(T,I){this.id=T,this.url=I}}class Tr extends pr{constructor(T,I,B="imperative",q=null){super(T,I),this.navigationTrigger=B,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zn extends pr{constructor(T,I,B){super(T,I),this.urlAfterRedirects=B}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qn extends pr{constructor(T,I,B){super(T,I),this.reason=B}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ur extends pr{constructor(T,I,B){super(T,I),this.error=B}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rn extends pr{constructor(T,I,B,q){super(T,I),this.urlAfterRedirects=B,this.state=q}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yt extends pr{constructor(T,I,B,q){super(T,I),this.urlAfterRedirects=B,this.state=q}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hn extends pr{constructor(T,I,B,q,me){super(T,I),this.urlAfterRedirects=B,this.state=q,this.shouldActivate=me}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gr extends pr{constructor(T,I,B,q){super(T,I),this.urlAfterRedirects=B,this.state=q}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mt extends pr{constructor(T,I,B,q){super(T,I),this.urlAfterRedirects=B,this.state=q}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hn{constructor(T){this.route=T}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Cn{constructor(T){this.route=T}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yn{constructor(T){this.snapshot=T}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Er{constructor(T){this.snapshot=T}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ai{constructor(T){this.snapshot=T}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pr{constructor(T){this.snapshot=T}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fr{constructor(T,I,B){this.routerEvent=T,this.position=I,this.anchor=B}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const gn="primary";class ti{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const I=this.params[T];return Array.isArray(I)?I[0]:I}return null}getAll(T){if(this.has(T)){const I=this.params[T];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function Ke(k){return new ti(k)}const Qe="ngNavigationCancelingError";function je(k){const T=Error("NavigationCancelingError: "+k);return T[Qe]=!0,T}function ft(k,T,I){const B=I.path.split("/");if(B.length>k.length||"full"===I.pathMatch&&(T.hasChildren()||B.length<k.length))return null;const q={};for(let me=0;me<B.length;me++){const Fe=B[me],at=k[me];if(Fe.startsWith(":"))q[Fe.substring(1)]=at;else if(Fe!==at.path)return null}return{consumed:k.slice(0,B.length),posParams:q}}function Xt(k,T){const I=k?Object.keys(k):void 0,B=T?Object.keys(T):void 0;if(!I||!B||I.length!=B.length)return!1;let q;for(let me=0;me<I.length;me++)if(q=I[me],!er(k[q],T[q]))return!1;return!0}function er(k,T){if(Array.isArray(k)&&Array.isArray(T)){if(k.length!==T.length)return!1;const I=[...k].sort(),B=[...T].sort();return I.every((q,me)=>B[me]===q)}return k===T}function Cr(k){return Array.prototype.concat.apply([],k)}function mr(k){return k.length>0?k[k.length-1]:null}function Ge(k,T){for(const I in k)k.hasOwnProperty(I)&&T(k[I],I)}function $e(k){return(0,C.CqO)(k)?k:(0,C.QGY)(k)?(0,ye.D)(Promise.resolve(k)):(0,Ne.of)(k)}const Lt={exact:function On(k,T,I){if(!Ct(k.segments,T.segments)||!Bn(k.segments,T.segments,I)||k.numberOfChildren!==T.numberOfChildren)return!1;for(const B in T.children)if(!k.children[B]||!On(k.children[B],T.children[B],I))return!1;return!0},subset:Br},cn={exact:function(k,T){return Xt(k,T)},subset:function(k,T){return Object.keys(T).length<=Object.keys(k).length&&Object.keys(T).every(I=>er(k[I],T[I]))},ignored:()=>!0};function In(k,T,I){return Lt[I.paths](k.root,T.root,I.matrixParams)&&cn[I.queryParams](k.queryParams,T.queryParams)&&!("exact"===I.fragment&&k.fragment!==T.fragment)}function Br(k,T,I){return kr(k,T,T.segments,I)}function kr(k,T,I,B){if(k.segments.length>I.length){const q=k.segments.slice(0,I.length);return!(!Ct(q,I)||T.hasChildren()||!Bn(q,I,B))}if(k.segments.length===I.length){if(!Ct(k.segments,I)||!Bn(k.segments,I,B))return!1;for(const q in T.children)if(!k.children[q]||!Br(k.children[q],T.children[q],B))return!1;return!0}{const q=I.slice(0,k.segments.length),me=I.slice(k.segments.length);return!!(Ct(k.segments,q)&&Bn(k.segments,q,B)&&k.children[gn])&&kr(k.children[gn],T,me,B)}}function Bn(k,T,I){return T.every((B,q)=>cn[I](k[q].parameters,B.parameters))}class Or{constructor(T,I,B){this.root=T,this.queryParams=I,this.fragment=B}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ke(this.queryParams)),this._queryParamMap}toString(){return G.serialize(this)}}class Fn{constructor(T,I){this.segments=T,this.children=I,this.parent=null,Ge(I,(B,q)=>B.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return De(this)}}class Gr{constructor(T,I){this.path=T,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=Ke(this.parameters)),this._parameterMap}toString(){return li(this)}}function Ct(k,T){return k.length===T.length&&k.every((I,B)=>I.path===T[B].path)}class xe{}class J{parse(T){const I=new Z(T);return new Or(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(T){const I=`/${Ye(T.root,!0)}`,B=function(k){const T=Object.keys(k).map(I=>{const B=k[I];return Array.isArray(B)?B.map(q=>`${Zt(I)}=${Zt(q)}`).join("&"):`${Zt(I)}=${Zt(B)}`}).filter(I=>!!I);return T.length?`?${T.join("&")}`:""}(T.queryParams);var k;return`${I}${B}${"string"==typeof T.fragment?`#${k=T.fragment,encodeURI(k)}`:""}`}}const G=new J;function De(k){return k.segments.map(T=>li(T)).join("/")}function Ye(k,T){if(!k.hasChildren())return De(k);if(T){const I=k.children[gn]?Ye(k.children[gn],!1):"",B=[];return Ge(k.children,(q,me)=>{me!==gn&&B.push(`${me}:${Ye(q,!1)}`)}),B.length>0?`${I}(${B.join("//")})`:I}{const I=function(k,T){let I=[];return Ge(k.children,(B,q)=>{q===gn&&(I=I.concat(T(B,q)))}),Ge(k.children,(B,q)=>{q!==gn&&(I=I.concat(T(B,q)))}),I}(k,(B,q)=>q===gn?[Ye(k.children[gn],!1)]:[`${q}:${Ye(B,!1)}`]);return 1===Object.keys(k.children).length&&null!=k.children[gn]?`${De(k)}/${I[0]}`:`${De(k)}/(${I.join("//")})`}}function wt(k){return encodeURIComponent(k).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zt(k){return wt(k).replace(/%3B/gi,";")}function zn(k){return wt(k).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tr(k){return decodeURIComponent(k)}function Sn(k){return tr(k.replace(/\+/g,"%20"))}function li(k){return`${zn(k.path)}${function(k){return Object.keys(k).map(T=>`;${zn(T)}=${zn(k[T])}`).join("")}(k.parameters)}`}const di=/^[^\/()?;=#]+/;function jr(k){const T=k.match(di);return T?T[0]:""}const ri=/^[^=?&#]+/,qr=/^[^&#]+/;class Z{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fn([],{}):new Fn([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let B={};return this.peekStartsWith("(")&&(B=this.parseParens(!1)),(T.length>0||Object.keys(I).length>0)&&(B[gn]=new Fn(T,I)),B}parseSegment(){const T=jr(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(T),new Gr(tr(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const I=jr(this.remaining);if(!I)return;this.capture(I);let B="";if(this.consumeOptional("=")){const q=jr(this.remaining);q&&(B=q,this.capture(B))}T[tr(I)]=tr(B)}parseQueryParam(T){const I=function(k){const T=k.match(ri);return T?T[0]:""}(this.remaining);if(!I)return;this.capture(I);let B="";if(this.consumeOptional("=")){const Fe=function(k){const T=k.match(qr);return T?T[0]:""}(this.remaining);Fe&&(B=Fe,this.capture(B))}const q=Sn(I),me=Sn(B);if(T.hasOwnProperty(q)){let Fe=T[q];Array.isArray(Fe)||(Fe=[Fe],T[q]=Fe),Fe.push(me)}else T[q]=me}parseParens(T){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const B=jr(this.remaining),q=this.remaining[B.length];if("/"!==q&&")"!==q&&";"!==q)throw new Error(`Cannot parse url '${this.url}'`);let me;B.indexOf(":")>-1?(me=B.substr(0,B.indexOf(":")),this.capture(me),this.capture(":")):T&&(me=gn);const Fe=this.parseChildren();I[me]=1===Object.keys(Fe).length?Fe[gn]:new Fn([],Fe),this.consumeOptional("//")}return I}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new Error(`Expected "${T}".`)}}class Y{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const I=this.pathFromRoot(T);return I.length>1?I[I.length-2]:null}children(T){const I=se(T,this._root);return I?I.children.map(B=>B.value):[]}firstChild(T){const I=se(T,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(T){const I=ke(T,this._root);return I.length<2?[]:I[I.length-2].children.map(q=>q.value).filter(q=>q!==T)}pathFromRoot(T){return ke(T,this._root).map(I=>I.value)}}function se(k,T){if(k===T.value)return T;for(const I of T.children){const B=se(k,I);if(B)return B}return null}function ke(k,T){if(k===T.value)return[T];for(const I of T.children){const B=ke(k,I);if(B.length)return B.unshift(T),B}return[]}class ze{constructor(T,I){this.value=T,this.children=I}toString(){return`TreeNode(${this.value})`}}function vt(k){const T={};return k&&k.children.forEach(I=>T[I.value.outlet]=I),T}class At extends Y{constructor(T,I){super(T),this.snapshot=I,Qn(this,T)}toString(){return this.snapshot.toString()}}function bt(k,T){const I=function(k,T){const Fe=new vr([],{},{},"",{},gn,T,null,k.root,-1,{});return new oi("",new ze(Fe,[]))}(k,T),B=new _e.X([new Gr("",{})]),q=new _e.X({}),me=new _e.X({}),Fe=new _e.X({}),at=new _e.X(""),Gt=new En(B,q,Fe,at,me,gn,T,I.root);return Gt.snapshot=I.root,new At(new ze(Gt,[]),I)}class En{constructor(T,I,B,q,me,Fe,at,Gt){this.url=T,this.params=I,this.queryParams=B,this.fragment=q,this.data=me,this.outlet=Fe,this.component=at,this._futureSnapshot=Gt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,on.U)(T=>Ke(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,on.U)(T=>Ke(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function un(k,T="emptyOnly"){const I=k.pathFromRoot;let B=0;if("always"!==T)for(B=I.length-1;B>=1;){const q=I[B],me=I[B-1];if(q.routeConfig&&""===q.routeConfig.path)B--;else{if(me.component)break;B--}}return function(k){return k.reduce((T,I)=>({params:Kr(Kr({},T.params),I.params),data:Kr(Kr({},T.data),I.data),resolve:Kr(Kr({},T.resolve),I._resolvedData)}),{params:{},data:{},resolve:{}})}(I.slice(B))}class vr{constructor(T,I,B,q,me,Fe,at,Gt,kn,fi,fr){this.url=T,this.params=I,this.queryParams=B,this.fragment=q,this.data=me,this.outlet=Fe,this.component=at,this.routeConfig=Gt,this._urlSegment=kn,this._lastPathIndex=fi,this._resolve=fr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ke(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ke(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(B=>B.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oi extends Y{constructor(T,I){super(I),this.url=T,Qn(this,I)}toString(){return bi(this._root)}}function Qn(k,T){T.value._routerState=k,T.children.forEach(I=>Qn(k,I))}function bi(k){const T=k.children.length>0?` { ${k.children.map(bi).join(", ")} } `:"";return`${k.value}${T}`}function Ni(k){if(k.snapshot){const T=k.snapshot,I=k._futureSnapshot;k.snapshot=I,Xt(T.queryParams,I.queryParams)||k.queryParams.next(I.queryParams),T.fragment!==I.fragment&&k.fragment.next(I.fragment),Xt(T.params,I.params)||k.params.next(I.params),function(k,T){if(k.length!==T.length)return!1;for(let I=0;I<k.length;++I)if(!Xt(k[I],T[I]))return!1;return!0}(T.url,I.url)||k.url.next(I.url),Xt(T.data,I.data)||k.data.next(I.data)}else k.snapshot=k._futureSnapshot,k.data.next(k._futureSnapshot.data)}function Ui(k,T){const I=Xt(k.params,T.params)&&function(k,T){return Ct(k,T)&&k.every((I,B)=>Xt(I.parameters,T[B].parameters))}(k.url,T.url);return I&&!(!k.parent!=!T.parent)&&(!k.parent||Ui(k.parent,T.parent))}function Li(k,T,I){if(I&&k.shouldReuseRoute(T.value,I.value.snapshot)){const B=I.value;B._futureSnapshot=T.value;const q=function(k,T,I){return T.children.map(B=>{for(const q of I.children)if(k.shouldReuseRoute(B.value,q.value.snapshot))return Li(k,B,q);return Li(k,B)})}(k,T,I);return new ze(B,q)}{if(k.shouldAttach(T.value)){const me=k.retrieve(T.value);if(null!==me){const Fe=me.route;return Fe.value._futureSnapshot=T.value,Fe.children=T.children.map(at=>Li(k,at)),Fe}}const B=function(k){return new En(new _e.X(k.url),new _e.X(k.params),new _e.X(k.queryParams),new _e.X(k.fragment),new _e.X(k.data),k.outlet,k.component,k)}(T.value),q=T.children.map(me=>Li(k,me));return new ze(B,q)}}function Qi(k){return"object"==typeof k&&null!=k&&!k.outlets&&!k.segmentPath}function Ti(k){return"object"==typeof k&&null!=k&&k.outlets}function $r(k,T,I,B,q){let me={};return B&&Ge(B,(Fe,at)=>{me[at]=Array.isArray(Fe)?Fe.map(Gt=>`${Gt}`):`${Fe}`}),new Or(I.root===k?T:U(I.root,k,T),me,q)}function U(k,T,I){const B={};return Ge(k.children,(q,me)=>{B[me]=q===T?I:U(q,T,I)}),new Fn(k.segments,B)}class W{constructor(T,I,B){if(this.isAbsolute=T,this.numberOfDoubleDots=I,this.commands=B,T&&B.length>0&&Qi(B[0]))throw new Error("Root segment cannot have matrix parameters");const q=B.find(Ti);if(q&&q!==mr(B))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ge{constructor(T,I,B){this.segmentGroup=T,this.processChildren=I,this.index=B}}function Wt(k,T,I){if(k||(k=new Fn([],{})),0===k.segments.length&&k.hasChildren())return sn(k,T,I);const B=function(k,T,I){let B=0,q=T;const me={match:!1,pathIndex:0,commandIndex:0};for(;q<k.segments.length;){if(B>=I.length)return me;const Fe=k.segments[q],at=I[B];if(Ti(at))break;const Gt=`${at}`,kn=B<I.length-1?I[B+1]:null;if(q>0&&void 0===Gt)break;if(Gt&&kn&&"object"==typeof kn&&void 0===kn.outlets){if(!Se(Gt,kn,Fe))return me;B+=2}else{if(!Se(Gt,{},Fe))return me;B++}q++}return{match:!0,pathIndex:q,commandIndex:B}}(k,T,I),q=I.slice(B.commandIndex);if(B.match&&B.pathIndex<k.segments.length){const me=new Fn(k.segments.slice(0,B.pathIndex),{});return me.children[gn]=new Fn(k.segments.slice(B.pathIndex),k.children),sn(me,0,q)}return B.match&&0===q.length?new Fn(k.segments,{}):B.match&&!k.hasChildren()?rr(k,T,I):B.match?sn(k,0,q):rr(k,T,I)}function sn(k,T,I){if(0===I.length)return new Fn(k.segments,{});{const B=function(k){return Ti(k[0])?k[0].outlets:{[gn]:k}}(I),q={};return Ge(B,(me,Fe)=>{"string"==typeof me&&(me=[me]),null!==me&&(q[Fe]=Wt(k.children[Fe],T,me))}),Ge(k.children,(me,Fe)=>{void 0===B[Fe]&&(q[Fe]=me)}),new Fn(k.segments,q)}}function rr(k,T,I){const B=k.segments.slice(0,T);let q=0;for(;q<I.length;){const me=I[q];if(Ti(me)){const Gt=Yn(me.outlets);return new Fn(B,Gt)}if(0===q&&Qi(I[0])){B.push(new Gr(k.segments[T].path,Re(I[0]))),q++;continue}const Fe=Ti(me)?me.outlets[gn]:`${me}`,at=q<I.length-1?I[q+1]:null;Fe&&at&&Qi(at)?(B.push(new Gr(Fe,Re(at))),q+=2):(B.push(new Gr(Fe,{})),q++)}return new Fn(B,{})}function Yn(k){const T={};return Ge(k,(I,B)=>{"string"==typeof I&&(I=[I]),null!==I&&(T[B]=rr(new Fn([],{}),0,I))}),T}function Re(k){const T={};return Ge(k,(I,B)=>T[B]=`${I}`),T}function Se(k,T,I){return k==I.path&&Xt(T,I.parameters)}class gt{constructor(T,I,B,q){this.routeReuseStrategy=T,this.futureState=I,this.currState=B,this.forwardEvent=q}activate(T){const I=this.futureState._root,B=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,B,T),Ni(this.futureState.root),this.activateChildRoutes(I,B,T)}deactivateChildRoutes(T,I,B){const q=vt(I);T.children.forEach(me=>{const Fe=me.value.outlet;this.deactivateRoutes(me,q[Fe],B),delete q[Fe]}),Ge(q,(me,Fe)=>{this.deactivateRouteAndItsChildren(me,B)})}deactivateRoutes(T,I,B){const q=T.value,me=I?I.value:null;if(q===me)if(q.component){const Fe=B.getContext(q.outlet);Fe&&this.deactivateChildRoutes(T,I,Fe.children)}else this.deactivateChildRoutes(T,I,B);else me&&this.deactivateRouteAndItsChildren(I,B)}deactivateRouteAndItsChildren(T,I){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,I):this.deactivateRouteAndOutlet(T,I)}detachAndStoreRouteSubtree(T,I){const B=I.getContext(T.value.outlet),q=B&&T.value.component?B.children:I,me=vt(T);for(const Fe of Object.keys(me))this.deactivateRouteAndItsChildren(me[Fe],q);if(B&&B.outlet){const Fe=B.outlet.detach(),at=B.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:Fe,route:T,contexts:at})}}deactivateRouteAndOutlet(T,I){const B=I.getContext(T.value.outlet),q=B&&T.value.component?B.children:I,me=vt(T);for(const Fe of Object.keys(me))this.deactivateRouteAndItsChildren(me[Fe],q);B&&B.outlet&&(B.outlet.deactivate(),B.children.onOutletDeactivated(),B.attachRef=null,B.resolver=null,B.route=null)}activateChildRoutes(T,I,B){const q=vt(I);T.children.forEach(me=>{this.activateRoutes(me,q[me.value.outlet],B),this.forwardEvent(new Pr(me.value.snapshot))}),T.children.length&&this.forwardEvent(new Er(T.value.snapshot))}activateRoutes(T,I,B){const q=T.value,me=I?I.value:null;if(Ni(q),q===me)if(q.component){const Fe=B.getOrCreateContext(q.outlet);this.activateChildRoutes(T,I,Fe.children)}else this.activateChildRoutes(T,I,B);else if(q.component){const Fe=B.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const at=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),Fe.children.onOutletReAttached(at.contexts),Fe.attachRef=at.componentRef,Fe.route=at.route.value,Fe.outlet&&Fe.outlet.attach(at.componentRef,at.route.value),Ni(at.route.value),this.activateChildRoutes(T,null,Fe.children)}else{const at=function(k){for(let T=k.parent;T;T=T.parent){const I=T.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig;if(I&&I.component)return null}return null}(q.snapshot),Gt=at?at.module.componentFactoryResolver:null;Fe.attachRef=null,Fe.route=q,Fe.resolver=Gt,Fe.outlet&&Fe.outlet.activateWith(q,Gt),this.activateChildRoutes(T,null,Fe.children)}}else this.activateChildRoutes(T,null,B)}}class Ut{constructor(T,I){this.routes=T,this.module=I}}function an(k){return"function"==typeof k}function sr(k){return k instanceof Or}const Hr=Symbol("INITIAL_VALUE");function xi(){return(0,Sr.w)(k=>function(...k){let T,I;return(0,X.K)(k[k.length-1])&&(I=k.pop()),"function"==typeof k[k.length-1]&&(T=k.pop()),1===k.length&&(0,He.k)(k[0])&&(k=k[0]),(0,de.n)(k,I).lift(new Ce(T))}(k.map(T=>T.pipe((0,ar.q)(1),(0,Dn.O)(Hr)))).pipe((0,Nn.R)((T,I)=>{let B=!1;return I.reduce((q,me,Fe)=>q!==Hr?q:(me===Hr&&(B=!0),B||!1!==me&&Fe!==I.length-1&&!sr(me)?q:me),T)},Hr),(0,ut.h)(T=>T!==Hr),(0,on.U)(T=>sr(T)?T:!0===T),(0,ar.q)(1)))}class Si{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new V,this.attachRef=null}}class V{constructor(){this.contexts=new Map}onChildOutletCreated(T,I){const B=this.getOrCreateContext(T);B.outlet=I,this.contexts.set(T,B)}onChildOutletDestroyed(T){const I=this.getContext(T);I&&(I.outlet=null,I.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let I=this.getContext(T);return I||(I=new Si,this.contexts.set(T,I)),I}getContext(T){return this.contexts.get(T)||null}}let ae=(()=>{class k{constructor(I,B,q,me,Fe){this.parentContexts=I,this.location=B,this.resolver=q,this.changeDetector=Fe,this.activated=null,this._activatedRoute=null,this.activateEvents=new C.vpe,this.deactivateEvents=new C.vpe,this.attachEvents=new C.vpe,this.detachEvents=new C.vpe,this.name=me||gn,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,B){this.activated=I,this._activatedRoute=B,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,B){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;const Fe=(B=B||this.resolver).resolveComponentFactory(I._futureSnapshot.routeConfig.component),at=this.parentContexts.getOrCreateContext(this.name).children,Gt=new $(I,at,this.location.injector);this.activated=this.location.createComponent(Fe,this.location.length,Gt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return k.\u0275fac=function(I){return new(I||k)(C.Y36(V),C.Y36(C.s_b),C.Y36(C._Vd),C.$8M("name"),C.Y36(C.sBO))},k.\u0275dir=C.lG2({type:k,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),k})();class ${constructor(T,I,B){this.route=T,this.childContexts=I,this.parent=B}get(T,I){return T===En?this.route:T===V?this.childContexts:this.parent.get(T,I)}}let ve=(()=>{class k{}return k.\u0275fac=function(I){return new(I||k)},k.\u0275cmp=C.Xpm({type:k,selectors:[["ng-component"]],decls:1,vars:0,template:function(I,B){1&I&&C._UZ(0,"router-outlet")},directives:[ae],encapsulation:2}),k})();function ct(k,T=""){for(let I=0;I<k.length;I++){const B=k[I];O(B,M(T,B))}}function O(k,T){k.children&&ct(k.children,T)}function M(k,T){return T?k||T.path?k&&!T.path?`${k}/`:!k&&T.path?T.path:`${k}/${T.path}`:"":k}function R(k){const T=k.children&&k.children.map(R),I=T?Ds(Kr({},k),{children:T}):Kr({},k);return!I.component&&(T||I.loadChildren)&&I.outlet&&I.outlet!==gn&&(I.component=ve),I}function ce(k){return k.outlet||gn}function Tt(k,T){const I=k.filter(B=>ce(B)===T);return I.push(...k.filter(B=>ce(B)!==T)),I}const Tn={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Xn(k,T,I){var at;if(""===T.path)return"full"===T.pathMatch&&(k.hasChildren()||I.length>0)?Kr({},Tn):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const q=(T.matcher||ft)(I,k,T);if(!q)return Kr({},Tn);const me={};Ge(q.posParams,(Gt,kn)=>{me[kn]=Gt.path});const Fe=q.consumed.length>0?Kr(Kr({},me),q.consumed[q.consumed.length-1].parameters):me;return{matched:!0,consumedSegments:q.consumed,lastChild:q.consumed.length,parameters:Fe,positionalParamSegments:null!=(at=q.posParams)?at:{}}}function zr(k,T,I,B,q="corrected"){if(I.length>0&&function(k,T,I){return I.some(B=>oo(k,T,B)&&ce(B)!==gn)}(k,I,B)){const Fe=new Fn(T,function(k,T,I,B){const q={};q[gn]=B,B._sourceSegment=k,B._segmentIndexShift=T.length;for(const me of I)if(""===me.path&&ce(me)!==gn){const Fe=new Fn([],{});Fe._sourceSegment=k,Fe._segmentIndexShift=T.length,q[ce(me)]=Fe}return q}(k,T,B,new Fn(I,k.children)));return Fe._sourceSegment=k,Fe._segmentIndexShift=T.length,{segmentGroup:Fe,slicedSegments:[]}}if(0===I.length&&function(k,T,I){return I.some(B=>oo(k,T,B))}(k,I,B)){const Fe=new Fn(k.segments,function(k,T,I,B,q,me){const Fe={};for(const at of B)if(oo(k,I,at)&&!q[ce(at)]){const Gt=new Fn([],{});Gt._sourceSegment=k,Gt._segmentIndexShift="legacy"===me?k.segments.length:T.length,Fe[ce(at)]=Gt}return Kr(Kr({},q),Fe)}(k,T,I,B,k.children,q));return Fe._sourceSegment=k,Fe._segmentIndexShift=T.length,{segmentGroup:Fe,slicedSegments:I}}const me=new Fn(k.segments,k.children);return me._sourceSegment=k,me._segmentIndexShift=T.length,{segmentGroup:me,slicedSegments:I}}function oo(k,T,I){return(!(k.hasChildren()||T.length>0)||"full"!==I.pathMatch)&&""===I.path}function vo(k,T,I,B){return!!(ce(k)===B||B!==gn&&oo(T,I,k))&&("**"===k.path||Xn(T,k,I).matched)}function Wo(k,T,I){return 0===T.length&&!k.children[I]}class ur{constructor(T){this.segmentGroup=T||null}}class Bs{constructor(T){this.urlTree=T}}function $s(k){return new pe.y(T=>T.error(new ur(k)))}function Go(k){return new pe.y(T=>T.error(new Bs(k)))}function b(k){return new pe.y(T=>T.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${k}'`)))}class z{constructor(T,I,B,q,me){this.configLoader=I,this.urlSerializer=B,this.urlTree=q,this.config=me,this.allowRedirects=!0,this.ngModule=T.get(C.h0i)}apply(){const T=zr(this.urlTree.root,[],[],this.config).segmentGroup,I=new Fn(T.segments,T.children);return this.expandSegmentGroup(this.ngModule,this.config,I,gn).pipe((0,on.U)(me=>this.createUrlTree(It(me),this.urlTree.queryParams,this.urlTree.fragment))).pipe(jt(me=>{if(me instanceof Bs)return this.allowRedirects=!1,this.match(me.urlTree);throw me instanceof ur?this.noMatchError(me):me}))}match(T){return this.expandSegmentGroup(this.ngModule,this.config,T.root,gn).pipe((0,on.U)(q=>this.createUrlTree(It(q),T.queryParams,T.fragment))).pipe(jt(q=>{throw q instanceof ur?this.noMatchError(q):q}))}noMatchError(T){return new Error(`Cannot match any routes. URL Segment: '${T.segmentGroup}'`)}createUrlTree(T,I,B){const q=T.segments.length>0?new Fn([],{[gn]:T}):T;return new Or(q,I,B)}expandSegmentGroup(T,I,B,q){return 0===B.segments.length&&B.hasChildren()?this.expandChildren(T,I,B).pipe((0,on.U)(me=>new Fn([],me))):this.expandSegment(T,B,I,B.segments,q,!0)}expandChildren(T,I,B){const q=[];for(const me of Object.keys(B.children))"primary"===me?q.unshift(me):q.push(me);return(0,ye.D)(q).pipe(Ue(me=>{const Fe=B.children[me],at=Tt(I,me);return this.expandSegmentGroup(T,at,Fe,me).pipe((0,on.U)(Gt=>({segment:Gt,outlet:me})))}),(0,Nn.R)((me,Fe)=>(me[Fe.outlet]=Fe.segment,me),{}),function(k,T){const I=arguments.length>=2;return B=>B.pipe(k?(0,ut.h)((q,me)=>k(q,me,B)):Et.y,Ht(1),I?(0,_t.d)(T):(0,pt.T)(()=>new Ie.K))}())}expandSegment(T,I,B,q,me,Fe){return(0,ye.D)(B).pipe(Ue(at=>this.expandSegmentAgainstRoute(T,I,B,at,q,me,Fe).pipe(jt(kn=>{if(kn instanceof ur)return(0,Ne.of)(null);throw kn}))),(0,lr.P)(at=>!!at),jt((at,Gt)=>{if(at instanceof Ie.K||"EmptyError"===at.name){if(Wo(I,q,me))return(0,Ne.of)(new Fn([],{}));throw new ur(I)}throw at}))}expandSegmentAgainstRoute(T,I,B,q,me,Fe,at){return vo(q,I,me,Fe)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(T,I,q,me,Fe):at&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,I,B,q,me,Fe):$s(I):$s(I)}expandSegmentAgainstRouteUsingRedirect(T,I,B,q,me,Fe){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,B,q,Fe):this.expandRegularSegmentAgainstRouteUsingRedirect(T,I,B,q,me,Fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,I,B,q){const me=this.applyRedirectCommands([],B.redirectTo,{});return B.redirectTo.startsWith("/")?Go(me):this.lineralizeSegments(B,me).pipe((0,Me.zg)(Fe=>{const at=new Fn(Fe,{});return this.expandSegment(T,at,I,Fe,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,I,B,q,me,Fe){const{matched:at,consumedSegments:Gt,lastChild:kn,positionalParamSegments:fi}=Xn(I,q,me);if(!at)return $s(I);const fr=this.applyRedirectCommands(Gt,q.redirectTo,fi);return q.redirectTo.startsWith("/")?Go(fr):this.lineralizeSegments(q,fr).pipe((0,Me.zg)(Ir=>this.expandSegment(T,I,B,Ir.concat(me.slice(kn)),Fe,!1)))}matchSegmentAgainstRoute(T,I,B,q,me){if("**"===B.path)return B.loadChildren?(B._loadedConfig?(0,Ne.of)(B._loadedConfig):this.configLoader.load(T.injector,B)).pipe((0,on.U)(Ir=>(B._loadedConfig=Ir,new Fn(q,{})))):(0,Ne.of)(new Fn(q,{}));const{matched:Fe,consumedSegments:at,lastChild:Gt}=Xn(I,B,q);if(!Fe)return $s(I);const kn=q.slice(Gt);return this.getChildConfig(T,B,q).pipe((0,Me.zg)(fr=>{const Ir=fr.module,si=fr.routes,{segmentGroup:so,slicedSegments:Do}=zr(I,at,kn,si),Hi=new Fn(so.segments,so.children);if(0===Do.length&&Hi.hasChildren())return this.expandChildren(Ir,si,Hi).pipe((0,on.U)(ir=>new Fn(at,ir)));if(0===si.length&&0===Do.length)return(0,Ne.of)(new Fn(at,{}));const So=ce(B)===me;return this.expandSegment(Ir,Hi,si,Do,So?gn:me,!0).pipe((0,on.U)(Ao=>new Fn(at.concat(Ao.segments),Ao.children)))}))}getChildConfig(T,I,B){return I.children?(0,Ne.of)(new Ut(I.children,T)):I.loadChildren?void 0!==I._loadedConfig?(0,Ne.of)(I._loadedConfig):this.runCanLoadGuards(T.injector,I,B).pipe((0,Me.zg)(q=>{return q?this.configLoader.load(T.injector,I).pipe((0,on.U)(me=>(I._loadedConfig=me,me))):(k=I,new pe.y(T=>T.error(je(`Cannot load children because the guard of the route "path: '${k.path}'" returned false`))));var k})):(0,Ne.of)(new Ut([],T))}runCanLoadGuards(T,I,B){const q=I.canLoad;if(!q||0===q.length)return(0,Ne.of)(!0);const me=q.map(Fe=>{const at=T.get(Fe);let Gt;if((k=at)&&an(k.canLoad))Gt=at.canLoad(I,B);else{if(!an(at))throw new Error("Invalid CanLoad guard");Gt=at(I,B)}var k;return $e(Gt)});return(0,Ne.of)(me).pipe(xi(),(0,Jn.b)(Fe=>{if(!sr(Fe))return;const at=je(`Redirecting to "${this.urlSerializer.serialize(Fe)}"`);throw at.url=Fe,at}),(0,on.U)(Fe=>!0===Fe))}lineralizeSegments(T,I){let B=[],q=I.root;for(;;){if(B=B.concat(q.segments),0===q.numberOfChildren)return(0,Ne.of)(B);if(q.numberOfChildren>1||!q.children[gn])return b(T.redirectTo);q=q.children[gn]}}applyRedirectCommands(T,I,B){return this.applyRedirectCreatreUrlTree(I,this.urlSerializer.parse(I),T,B)}applyRedirectCreatreUrlTree(T,I,B,q){const me=this.createSegmentGroup(T,I.root,B,q);return new Or(me,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(T,I){const B={};return Ge(T,(q,me)=>{if("string"==typeof q&&q.startsWith(":")){const at=q.substring(1);B[me]=I[at]}else B[me]=q}),B}createSegmentGroup(T,I,B,q){const me=this.createSegments(T,I.segments,B,q);let Fe={};return Ge(I.children,(at,Gt)=>{Fe[Gt]=this.createSegmentGroup(T,at,B,q)}),new Fn(me,Fe)}createSegments(T,I,B,q){return I.map(me=>me.path.startsWith(":")?this.findPosParam(T,me,q):this.findOrReturn(me,B))}findPosParam(T,I,B){const q=B[I.path.substring(1)];if(!q)throw new Error(`Cannot redirect to '${T}'. Cannot find '${I.path}'.`);return q}findOrReturn(T,I){let B=0;for(const q of I){if(q.path===T.path)return I.splice(B),q;B++}return T}}function It(k){const T={};for(const B of Object.keys(k.children)){const me=It(k.children[B]);(me.segments.length>0||me.hasChildren())&&(T[B]=me)}return function(k){if(1===k.numberOfChildren&&k.children[gn]){const T=k.children[gn];return new Fn(k.segments.concat(T.segments),T.children)}return k}(new Fn(k.segments,T))}class Pn{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Zr{constructor(T,I){this.component=T,this.route=I}}function ci(k,T,I){const B=k._root;return Xi(B,T?T._root:null,I,[B.value])}function Mi(k,T,I){const B=function(k){if(!k)return null;for(let T=k.parent;T;T=T.parent){const I=T.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig}return null}(T);return(B?B.module.injector:I).get(k)}function Xi(k,T,I,B,q={canDeactivateChecks:[],canActivateChecks:[]}){const me=vt(T);return k.children.forEach(Fe=>{(function(k,T,I,B,q={canDeactivateChecks:[],canActivateChecks:[]}){const me=k.value,Fe=T?T.value:null,at=I?I.getContext(k.value.outlet):null;if(Fe&&me.routeConfig===Fe.routeConfig){const Gt=function(k,T,I){if("function"==typeof I)return I(k,T);switch(I){case"pathParamsChange":return!Ct(k.url,T.url);case"pathParamsOrQueryParamsChange":return!Ct(k.url,T.url)||!Xt(k.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ui(k,T)||!Xt(k.queryParams,T.queryParams);default:return!Ui(k,T)}}(Fe,me,me.routeConfig.runGuardsAndResolvers);Gt?q.canActivateChecks.push(new Pn(B)):(me.data=Fe.data,me._resolvedData=Fe._resolvedData),Xi(k,T,me.component?at?at.children:null:I,B,q),Gt&&at&&at.outlet&&at.outlet.isActivated&&q.canDeactivateChecks.push(new Zr(at.outlet.component,Fe))}else Fe&&Fo(T,at,q),q.canActivateChecks.push(new Pn(B)),Xi(k,null,me.component?at?at.children:null:I,B,q)})(Fe,me[Fe.value.outlet],I,B.concat([Fe.value]),q),delete me[Fe.value.outlet]}),Ge(me,(Fe,at)=>Fo(Fe,I.getContext(at),q)),q}function Fo(k,T,I){const B=vt(k),q=k.value;Ge(B,(me,Fe)=>{Fo(me,q.component?T?T.children.getContext(Fe):null:T,I)}),I.canDeactivateChecks.push(new Zr(q.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,q))}class Gl{}function ui(k){return new pe.y(T=>T.error(k))}class Xr{constructor(T,I,B,q,me,Fe){this.rootComponentType=T,this.config=I,this.urlTree=B,this.url=q,this.paramsInheritanceStrategy=me,this.relativeLinkResolution=Fe}recognize(){const T=zr(this.urlTree.root,[],[],this.config.filter(Fe=>void 0===Fe.redirectTo),this.relativeLinkResolution).segmentGroup,I=this.processSegmentGroup(this.config,T,gn);if(null===I)return null;const B=new vr([],Object.freeze({}),Object.freeze(Kr({},this.urlTree.queryParams)),this.urlTree.fragment,{},gn,this.rootComponentType,null,this.urlTree.root,-1,{}),q=new ze(B,I),me=new oi(this.url,q);return this.inheritParamsAndData(me._root),me}inheritParamsAndData(T){const I=T.value,B=un(I,this.paramsInheritanceStrategy);I.params=Object.freeze(B.params),I.data=Object.freeze(B.data),T.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(T,I,B){return 0===I.segments.length&&I.hasChildren()?this.processChildren(T,I):this.processSegment(T,I,I.segments,B)}processChildren(T,I){const B=[];for(const me of Object.keys(I.children)){const Fe=I.children[me],at=Tt(T,me),Gt=this.processSegmentGroup(at,Fe,me);if(null===Gt)return null;B.push(...Gt)}const q=Us(B);return q.sort((T,I)=>T.value.outlet===gn?-1:I.value.outlet===gn?1:T.value.outlet.localeCompare(I.value.outlet)),q}processSegment(T,I,B,q){for(const me of T){const Fe=this.processSegmentAgainstRoute(me,I,B,q);if(null!==Fe)return Fe}return Wo(I,B,q)?[]:null}processSegmentAgainstRoute(T,I,B,q){if(T.redirectTo||!vo(T,I,B,q))return null;let me,Fe=[],at=[];if("**"===T.path){const si=B.length>0?mr(B).parameters:{};me=new vr(B,si,Object.freeze(Kr({},this.urlTree.queryParams)),this.urlTree.fragment,Jr(T),ce(T),T.component,T,za(I),Ci(I)+B.length,po(T))}else{const si=Xn(I,T,B);if(!si.matched)return null;Fe=si.consumedSegments,at=B.slice(si.lastChild),me=new vr(Fe,si.parameters,Object.freeze(Kr({},this.urlTree.queryParams)),this.urlTree.fragment,Jr(T),ce(T),T.component,T,za(I),Ci(I)+Fe.length,po(T))}const Gt=(k=T).children?k.children:k.loadChildren?k._loadedConfig.routes:[],{segmentGroup:kn,slicedSegments:fi}=zr(I,Fe,at,Gt.filter(si=>void 0===si.redirectTo),this.relativeLinkResolution);var k;if(0===fi.length&&kn.hasChildren()){const si=this.processChildren(Gt,kn);return null===si?null:[new ze(me,si)]}if(0===Gt.length&&0===fi.length)return[new ze(me,[])];const fr=ce(T)===q,Ir=this.processSegment(Gt,kn,fi,fr?gn:q);return null===Ir?null:[new ze(me,Ir)]}}function _a(k){const T=k.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function Us(k){const T=[],I=new Set;for(const B of k){if(!_a(B)){T.push(B);continue}const q=T.find(me=>B.value.routeConfig===me.value.routeConfig);void 0!==q?(q.children.push(...B.children),I.add(q)):T.push(B)}for(const B of I){const q=Us(B.children);T.push(new ze(B.value,q))}return T.filter(B=>!I.has(B))}function za(k){let T=k;for(;T._sourceSegment;)T=T._sourceSegment;return T}function Ci(k){let T=k,I=T._segmentIndexShift?T._segmentIndexShift:0;for(;T._sourceSegment;)T=T._sourceSegment,I+=T._segmentIndexShift?T._segmentIndexShift:0;return I-1}function Jr(k){return k.data||{}}function po(k){return k.resolve||{}}function ql(k){return(0,Sr.w)(T=>{const I=k(T);return I?(0,ye.D)(I).pipe((0,on.U)(()=>T)):(0,Ne.of)(T)})}class bs{}class Wa extends class{shouldDetach(T){return!1}store(T,I){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,I){return T.routeConfig===I.routeConfig}}{}const Ts=new C.OlP("ROUTES");class Rc{constructor(T,I,B,q){this.injector=T,this.compiler=I,this.onLoadStartListener=B,this.onLoadEndListener=q}load(T,I){if(I._loader$)return I._loader$;this.onLoadStartListener&&this.onLoadStartListener(I);const q=this.loadModuleFactory(I.loadChildren).pipe((0,on.U)(me=>{this.onLoadEndListener&&this.onLoadEndListener(I);const Fe=me.create(T);return new Ut(Cr(Fe.injector.get(Ts,void 0,C.XFs.Self|C.XFs.Optional)).map(R),Fe)}),jt(me=>{throw I._loader$=void 0,me}));return I._loader$=new lt.c(q,()=>new Bt.xQ).pipe((0,Dr.x)()),I._loader$}loadModuleFactory(T){return $e(T()).pipe((0,Me.zg)(I=>I instanceof C.YKP?(0,Ne.of)(I):(0,ye.D)(this.compiler.compileModuleAsync(I))))}}class wa{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,I){return T}}function Ea(k){throw k}function js(k,T,I){return T.parse("/")}function Yl(k,T){return(0,Ne.of)(null)}const Ca={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ki={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hr=(()=>{class k{constructor(I,B,q,me,Fe,at,Gt){this.rootComponentType=I,this.urlSerializer=B,this.rootContexts=q,this.location=me,this.config=Gt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Bt.xQ,this.errorHandler=Ea,this.malformedUriErrorHandler=js,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yl,afterPreactivation:Yl},this.urlHandlingStrategy=new wa,this.routeReuseStrategy=new Wa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Fe.get(C.h0i),this.console=Fe.get(C.c2e);const fr=Fe.get(C.R0b);this.isNgZoneEnabled=fr instanceof C.R0b&&C.R0b.isInAngularZone(),this.resetConfig(Gt),this.currentUrlTree=new Or(new Fn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Rc(Fe,at,Ir=>this.triggerEvent(new Hn(Ir)),Ir=>this.triggerEvent(new Cn(Ir))),this.routerState=bt(this.currentUrlTree,this.rootComponentType),this.transitions=new _e.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var I;return null==(I=this.location.getState())?void 0:I.\u0275routerPageId}setupNavigations(I){const B=this.events;return I.pipe((0,ut.h)(q=>0!==q.id),(0,on.U)(q=>Ds(Kr({},q),{extractedUrl:this.urlHandlingStrategy.extract(q.rawUrl)})),(0,Sr.w)(q=>{let me=!1,Fe=!1;return(0,Ne.of)(q).pipe((0,Jn.b)(at=>{this.currentNavigation={id:at.id,initialUrl:at.currentRawUrl,extractedUrl:at.extractedUrl,trigger:at.source,extras:at.extras,previousNavigation:this.lastSuccessfulNavigation?Ds(Kr({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Sr.w)(at=>{const Gt=this.browserUrlTree.toString(),kn=!this.navigated||at.extractedUrl.toString()!==Gt||Gt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||kn)&&this.urlHandlingStrategy.shouldProcessUrl(at.rawUrl))return xs(at.source)&&(this.browserUrlTree=at.extractedUrl),(0,Ne.of)(at).pipe((0,Sr.w)(fr=>{const Ir=this.transitions.getValue();return B.next(new Tr(fr.id,this.serializeUrl(fr.extractedUrl),fr.source,fr.restoredState)),Ir!==this.transitions.getValue()?Ee.E:Promise.resolve(fr)}),function(k,T,I,B){return(0,Sr.w)(q=>function(k,T,I,B,q){return new z(k,T,I,B,q).apply()}(k,T,I,q.extractedUrl,B).pipe((0,on.U)(me=>Ds(Kr({},q),{urlAfterRedirects:me}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Jn.b)(fr=>{this.currentNavigation=Ds(Kr({},this.currentNavigation),{finalUrl:fr.urlAfterRedirects})}),function(k,T,I,B,q){return(0,Me.zg)(me=>function(k,T,I,B,q="emptyOnly",me="legacy"){try{const Fe=new Xr(k,T,I,B,q,me).recognize();return null===Fe?ui(new Gl):(0,Ne.of)(Fe)}catch(Fe){return ui(Fe)}}(k,T,me.urlAfterRedirects,I(me.urlAfterRedirects),B,q).pipe((0,on.U)(Fe=>Ds(Kr({},me),{targetSnapshot:Fe}))))}(this.rootComponentType,this.config,fr=>this.serializeUrl(fr),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Jn.b)(fr=>{if("eager"===this.urlUpdateStrategy){if(!fr.extras.skipLocationChange){const si=this.urlHandlingStrategy.merge(fr.urlAfterRedirects,fr.rawUrl);this.setBrowserUrl(si,fr)}this.browserUrlTree=fr.urlAfterRedirects}const Ir=new Rn(fr.id,this.serializeUrl(fr.extractedUrl),this.serializeUrl(fr.urlAfterRedirects),fr.targetSnapshot);B.next(Ir)}));if(kn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ir,extractedUrl:si,source:so,restoredState:Do,extras:Hi}=at,So=new Tr(Ir,this.serializeUrl(si),so,Do);B.next(So);const rs=bt(si,this.rootComponentType).snapshot;return(0,Ne.of)(Ds(Kr({},at),{targetSnapshot:rs,urlAfterRedirects:si,extras:Ds(Kr({},Hi),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=at.rawUrl,at.resolve(null),Ee.E}),ql(at=>{const{targetSnapshot:Gt,id:kn,extractedUrl:fi,rawUrl:fr,extras:{skipLocationChange:Ir,replaceUrl:si}}=at;return this.hooks.beforePreactivation(Gt,{navigationId:kn,appliedUrlTree:fi,rawUrlTree:fr,skipLocationChange:!!Ir,replaceUrl:!!si})}),(0,Jn.b)(at=>{const Gt=new Yt(at.id,this.serializeUrl(at.extractedUrl),this.serializeUrl(at.urlAfterRedirects),at.targetSnapshot);this.triggerEvent(Gt)}),(0,on.U)(at=>Ds(Kr({},at),{guards:ci(at.targetSnapshot,at.currentSnapshot,this.rootContexts)})),function(k,T){return(0,Me.zg)(I=>{const{targetSnapshot:B,currentSnapshot:q,guards:{canActivateChecks:me,canDeactivateChecks:Fe}}=I;return 0===Fe.length&&0===me.length?(0,Ne.of)(Ds(Kr({},I),{guardsResult:!0})):function(k,T,I,B){return(0,ye.D)(k).pipe((0,Me.zg)(q=>function(k,T,I,B,q){const me=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!me||0===me.length)return(0,Ne.of)(!0);const Fe=me.map(at=>{const Gt=Mi(at,T,q);let kn;if(function(k){return k&&an(k.canDeactivate)}(Gt))kn=$e(Gt.canDeactivate(k,T,I,B));else{if(!an(Gt))throw new Error("Invalid CanDeactivate guard");kn=$e(Gt(k,T,I,B))}return kn.pipe((0,lr.P)())});return(0,Ne.of)(Fe).pipe(xi())}(q.component,q.route,I,T,B)),(0,lr.P)(q=>!0!==q,!0))}(Fe,B,q,k).pipe((0,Me.zg)(at=>at&&function(k){return"boolean"==typeof k}(at)?function(k,T,I,B){return(0,ye.D)(T).pipe(Ue(q=>(0,st.z)(function(k,T){return null!==k&&T&&T(new yn(k)),(0,Ne.of)(!0)}(q.route.parent,B),function(k,T){return null!==k&&T&&T(new ai(k)),(0,Ne.of)(!0)}(q.route,B),function(k,T,I){const B=T[T.length-1],me=T.slice(0,T.length-1).reverse().map(Fe=>function(k){const T=k.routeConfig?k.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:k,guards:T}:null}(Fe)).filter(Fe=>null!==Fe).map(Fe=>Be(()=>{const at=Fe.guards.map(Gt=>{const kn=Mi(Gt,Fe.node,I);let fi;if(function(k){return k&&an(k.canActivateChild)}(kn))fi=$e(kn.canActivateChild(B,k));else{if(!an(kn))throw new Error("Invalid CanActivateChild guard");fi=$e(kn(B,k))}return fi.pipe((0,lr.P)())});return(0,Ne.of)(at).pipe(xi())}));return(0,Ne.of)(me).pipe(xi())}(k,q.path,I),function(k,T,I){const B=T.routeConfig?T.routeConfig.canActivate:null;if(!B||0===B.length)return(0,Ne.of)(!0);const q=B.map(me=>Be(()=>{const Fe=Mi(me,T,I);let at;if(function(k){return k&&an(k.canActivate)}(Fe))at=$e(Fe.canActivate(T,k));else{if(!an(Fe))throw new Error("Invalid CanActivate guard");at=$e(Fe(T,k))}return at.pipe((0,lr.P)())}));return(0,Ne.of)(q).pipe(xi())}(k,q.route,I))),(0,lr.P)(q=>!0!==q,!0))}(B,me,k,T):(0,Ne.of)(at)),(0,on.U)(at=>Ds(Kr({},I),{guardsResult:at})))})}(this.ngModule.injector,at=>this.triggerEvent(at)),(0,Jn.b)(at=>{if(sr(at.guardsResult)){const kn=je(`Redirecting to "${this.serializeUrl(at.guardsResult)}"`);throw kn.url=at.guardsResult,kn}const Gt=new hn(at.id,this.serializeUrl(at.extractedUrl),this.serializeUrl(at.urlAfterRedirects),at.targetSnapshot,!!at.guardsResult);this.triggerEvent(Gt)}),(0,ut.h)(at=>!!at.guardsResult||(this.restoreHistory(at),this.cancelNavigationTransition(at,""),!1)),ql(at=>{if(at.guards.canActivateChecks.length)return(0,Ne.of)(at).pipe((0,Jn.b)(Gt=>{const kn=new gr(Gt.id,this.serializeUrl(Gt.extractedUrl),this.serializeUrl(Gt.urlAfterRedirects),Gt.targetSnapshot);this.triggerEvent(kn)}),(0,Sr.w)(Gt=>{let kn=!1;return(0,Ne.of)(Gt).pipe(function(k,T){return(0,Me.zg)(I=>{const{targetSnapshot:B,guards:{canActivateChecks:q}}=I;if(!q.length)return(0,Ne.of)(I);let me=0;return(0,ye.D)(q).pipe(Ue(Fe=>function(k,T,I,B){return function(k,T,I,B){const q=Object.keys(k);if(0===q.length)return(0,Ne.of)({});const me={};return(0,ye.D)(q).pipe((0,Me.zg)(Fe=>function(k,T,I,B){const q=Mi(k,T,B);return $e(q.resolve?q.resolve(T,I):q(T,I))}(k[Fe],T,I,B).pipe((0,Jn.b)(at=>{me[Fe]=at}))),Ht(1),(0,Me.zg)(()=>Object.keys(me).length===q.length?(0,Ne.of)(me):Ee.E))}(k._resolve,k,T,B).pipe((0,on.U)(me=>(k._resolvedData=me,k.data=Kr(Kr({},k.data),un(k,I).resolve),null)))}(Fe.route,B,k,T)),(0,Jn.b)(()=>me++),Ht(1),(0,Me.zg)(Fe=>me===q.length?(0,Ne.of)(I):Ee.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Jn.b)({next:()=>kn=!0,complete:()=>{kn||(this.restoreHistory(Gt),this.cancelNavigationTransition(Gt,"At least one route resolver didn't emit any value."))}}))}),(0,Jn.b)(Gt=>{const kn=new Mt(Gt.id,this.serializeUrl(Gt.extractedUrl),this.serializeUrl(Gt.urlAfterRedirects),Gt.targetSnapshot);this.triggerEvent(kn)}))}),ql(at=>{const{targetSnapshot:Gt,id:kn,extractedUrl:fi,rawUrl:fr,extras:{skipLocationChange:Ir,replaceUrl:si}}=at;return this.hooks.afterPreactivation(Gt,{navigationId:kn,appliedUrlTree:fi,rawUrlTree:fr,skipLocationChange:!!Ir,replaceUrl:!!si})}),(0,on.U)(at=>{const Gt=function(k,T,I){const B=Li(k,T._root,I?I._root:void 0);return new At(B,T)}(this.routeReuseStrategy,at.targetSnapshot,at.currentRouterState);return Ds(Kr({},at),{targetRouterState:Gt})}),(0,Jn.b)(at=>{this.currentUrlTree=at.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(at.urlAfterRedirects,at.rawUrl),this.routerState=at.targetRouterState,"deferred"===this.urlUpdateStrategy&&(at.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,at),this.browserUrlTree=at.urlAfterRedirects)}),((k,T,I)=>(0,on.U)(B=>(new gt(T,B.targetRouterState,B.currentRouterState,I).activate(k),B)))(this.rootContexts,this.routeReuseStrategy,at=>this.triggerEvent(at)),(0,Jn.b)({next(){me=!0},complete(){me=!0}}),function(k){return T=>T.lift(new _n(k))}(()=>{var at;me||Fe||this.cancelNavigationTransition(q,`Navigation ID ${q.id} is not equal to the current navigation id ${this.navigationId}`),(null==(at=this.currentNavigation)?void 0:at.id)===q.id&&(this.currentNavigation=null)}),jt(at=>{if(Fe=!0,function(k){return k&&k[Qe]}(at)){const Gt=sr(at.url);Gt||(this.navigated=!0,this.restoreHistory(q,!0));const kn=new qn(q.id,this.serializeUrl(q.extractedUrl),at.message);B.next(kn),Gt?setTimeout(()=>{const fi=this.urlHandlingStrategy.merge(at.url,this.rawUrlTree),fr={skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xs(q.source)};this.scheduleNavigation(fi,"imperative",null,fr,{resolve:q.resolve,reject:q.reject,promise:q.promise})},0):q.resolve(!1)}else{this.restoreHistory(q,!0);const Gt=new Ur(q.id,this.serializeUrl(q.extractedUrl),at);B.next(Gt);try{q.resolve(this.errorHandler(at))}catch(kn){q.reject(kn)}}return Ee.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}setTransition(I){this.transitions.next(Kr(Kr({},this.transitions.value),I))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const B="popstate"===I.type?"popstate":"hashchange";"popstate"===B&&setTimeout(()=>{var at;const q={replaceUrl:!0},me=(null==(at=I.state)?void 0:at.navigationId)?I.state:null;if(me){const Gt=Kr({},me);delete Gt.navigationId,delete Gt.\u0275routerPageId,0!==Object.keys(Gt).length&&(q.state=Gt)}const Fe=this.parseUrl(I.url);this.scheduleNavigation(Fe,B,me,q)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){ct(I),this.config=I.map(R),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,B={}){const{relativeTo:q,queryParams:me,fragment:Fe,queryParamsHandling:at,preserveFragment:Gt}=B,kn=q||this.routerState.root,fi=Gt?this.currentUrlTree.fragment:Fe;let fr=null;switch(at){case"merge":fr=Kr(Kr({},this.currentUrlTree.queryParams),me);break;case"preserve":fr=this.currentUrlTree.queryParams;break;default:fr=me||null}return null!==fr&&(fr=this.removeEmptyProps(fr)),function(k,T,I,B,q){if(0===I.length)return $r(T.root,T.root,T,B,q);const me=function(k){if("string"==typeof k[0]&&1===k.length&&"/"===k[0])return new W(!0,0,k);let T=0,I=!1;const B=k.reduce((q,me,Fe)=>{if("object"==typeof me&&null!=me){if(me.outlets){const at={};return Ge(me.outlets,(Gt,kn)=>{at[kn]="string"==typeof Gt?Gt.split("/"):Gt}),[...q,{outlets:at}]}if(me.segmentPath)return[...q,me.segmentPath]}return"string"!=typeof me?[...q,me]:0===Fe?(me.split("/").forEach((at,Gt)=>{0==Gt&&"."===at||(0==Gt&&""===at?I=!0:".."===at?T++:""!=at&&q.push(at))}),q):[...q,me]},[]);return new W(I,T,B)}(I);if(me.toRoot())return $r(T.root,new Fn([],{}),T,B,q);const Fe=function(k,T,I){if(k.isAbsolute)return new ge(T.root,!0,0);if(-1===I.snapshot._lastPathIndex){const me=I.snapshot._urlSegment;return new ge(me,me===T.root,0)}const B=Qi(k.commands[0])?0:1;return function(k,T,I){let B=k,q=T,me=I;for(;me>q;){if(me-=q,B=B.parent,!B)throw new Error("Invalid number of '../'");q=B.segments.length}return new ge(B,!1,q-me)}(I.snapshot._urlSegment,I.snapshot._lastPathIndex+B,k.numberOfDoubleDots)}(me,T,k),at=Fe.processChildren?sn(Fe.segmentGroup,Fe.index,me.commands):Wt(Fe.segmentGroup,Fe.index,me.commands);return $r(Fe.segmentGroup,at,T,B,q)}(kn,this.currentUrlTree,I,fr,null!=fi?fi:null)}navigateByUrl(I,B={skipLocationChange:!1}){const q=sr(I)?I:this.parseUrl(I),me=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(me,"imperative",null,B)}navigate(I,B={skipLocationChange:!1}){return function(k){for(let T=0;T<k.length;T++){const I=k[T];if(null==I)throw new Error(`The requested path contains ${I} segment at index ${T}`)}}(I),this.navigateByUrl(this.createUrlTree(I,B),B)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let B;try{B=this.urlSerializer.parse(I)}catch(q){B=this.malformedUriErrorHandler(q,this.urlSerializer,I)}return B}isActive(I,B){let q;if(q=!0===B?Kr({},Ca):!1===B?Kr({},ki):B,sr(I))return In(this.currentUrlTree,I,q);const me=this.parseUrl(I);return In(this.currentUrlTree,me,q)}removeEmptyProps(I){return Object.keys(I).reduce((B,q)=>{const me=I[q];return null!=me&&(B[q]=me),B},{})}processNavigations(){this.navigations.subscribe(I=>{this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new Zn(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,B,q,me,Fe){var So,rs,Ao;if(this.disposed)return Promise.resolve(!1);const at=this.transitions.value,Gt=xs(B)&&at&&!xs(at.source),kn=at.rawUrl.toString()===I.toString(),fi=at.id===(null==(So=this.currentNavigation)?void 0:So.id);if(Gt&&kn&&fi)return Promise.resolve(!0);let Ir,si,so;Fe?(Ir=Fe.resolve,si=Fe.reject,so=Fe.promise):so=new Promise((ir,As)=>{Ir=ir,si=As});const Do=++this.navigationId;let Hi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(q=this.location.getState()),Hi=q&&q.\u0275routerPageId?q.\u0275routerPageId:me.replaceUrl||me.skipLocationChange?null!=(rs=this.browserPageId)?rs:0:(null!=(Ao=this.browserPageId)?Ao:0)+1):Hi=0,this.setTransition({id:Do,targetPageId:Hi,source:B,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:me,resolve:Ir,reject:si,promise:so,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),so.catch(ir=>Promise.reject(ir))}setBrowserUrl(I,B){const q=this.urlSerializer.serialize(I),me=Kr(Kr({},B.extras.state),this.generateNgRouterState(B.id,B.targetPageId));this.location.isCurrentPathEqualTo(q)||B.extras.replaceUrl?this.location.replaceState(q,"",me):this.location.go(q,"",me)}restoreHistory(I,B=!1){var q,me;if("computed"===this.canceledNavigationResolution){const Fe=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(q=this.currentNavigation)?void 0:q.finalUrl)||0===Fe?this.currentUrlTree===(null==(me=this.currentNavigation)?void 0:me.finalUrl)&&0===Fe&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Fe)}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,B){const q=new qn(I.id,this.serializeUrl(I.extractedUrl),B);this.triggerEvent(q),I.resolve(!1)}generateNgRouterState(I,B){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:B}:{navigationId:I}}}return k.\u0275fac=function(I){C.$Z()},k.\u0275prov=C.Yz7({token:k,factory:k.\u0275fac}),k})();function xs(k){return"imperative"!==k}let Hs=(()=>{class k{constructor(I,B,q,me,Fe){this.router=I,this.route=B,this.tabIndexAttribute=q,this.renderer=me,this.el=Fe,this.commands=null,this.onChanges=new Bt.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){if(null!=this.tabIndexAttribute)return;const B=this.renderer,q=this.el.nativeElement;null!==I?B.setAttribute(q,"tabindex",I):B.removeAttribute(q,"tabindex")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const I={skipLocationChange:Vi(this.skipLocationChange),replaceUrl:Vi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,I),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Vi(this.preserveFragment)})}}return k.\u0275fac=function(I){return new(I||k)(C.Y36(hr),C.Y36(En),C.$8M("tabindex"),C.Y36(C.Qsj),C.Y36(C.SBq))},k.\u0275dir=C.lG2({type:k,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,B){1&I&&C.NdJ("click",function(){return B.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[C.TTD]}),k})(),mn=(()=>{class k{constructor(I,B,q){this.router=I,this.route=B,this.locationStrategy=q,this.commands=null,this.href=null,this.onChanges=new Bt.xQ,this.subscription=I.events.subscribe(me=>{me instanceof Zn&&this.updateTargetUrlAndHref()})}set routerLink(I){this.commands=null!=I?Array.isArray(I)?I:[I]:null}ngOnChanges(I){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(I,B,q,me,Fe){if(0!==I||B||q||me||Fe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const at={skipLocationChange:Vi(this.skipLocationChange),replaceUrl:Vi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,at),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Vi(this.preserveFragment)})}}return k.\u0275fac=function(I){return new(I||k)(C.Y36(hr),C.Y36(En),C.Y36(a.S$))},k.\u0275dir=C.lG2({type:k,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(I,B){1&I&&C.NdJ("click",function(me){return B.onClick(me.button,me.ctrlKey,me.shiftKey,me.altKey,me.metaKey)}),2&I&&C.uIk("target",B.target)("href",B.href,C.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[C.TTD]}),k})();function Vi(k){return""===k||!!k}let bo=(()=>{class k{constructor(I,B,q,me,Fe,at){this.router=I,this.element=B,this.renderer=q,this.cdr=me,this.link=Fe,this.linkWithHref=at,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new C.vpe,this.routerEventsSubscription=I.events.subscribe(Gt=>{Gt instanceof Zn&&this.update()})}ngAfterContentInit(){(0,Ne.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ne.of)(null)).pipe((0,cr.J)()).subscribe(I=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var B;null==(B=this.linkInputChangesSubscription)||B.unsubscribe();const I=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(q=>!!q).map(q=>q.onChanges);this.linkInputChangesSubscription=(0,ye.D)(I).pipe((0,cr.J)()).subscribe(q=>{this.isActive!==this.isLinkActive(this.router)(q)&&this.update()})}set routerLinkActive(I){const B=Array.isArray(I)?I:I.split(" ");this.classes=B.filter(q=>!!q)}ngOnChanges(I){this.update()}ngOnDestroy(){var I;this.routerEventsSubscription.unsubscribe(),null==(I=this.linkInputChangesSubscription)||I.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const I=this.hasActiveLinks();this.isActive!==I&&(this.isActive=I,this.cdr.markForCheck(),this.classes.forEach(B=>{I?this.renderer.addClass(this.element.nativeElement,B):this.renderer.removeClass(this.element.nativeElement,B)}),this.isActiveChange.emit(I))})}isLinkActive(I){const B=function(k){return!!k.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return q=>!!q.urlTree&&I.isActive(q.urlTree,B)}hasActiveLinks(){const I=this.isLinkActive(this.router);return this.link&&I(this.link)||this.linkWithHref&&I(this.linkWithHref)||this.links.some(I)||this.linksWithHrefs.some(I)}}return k.\u0275fac=function(I){return new(I||k)(C.Y36(hr),C.Y36(C.SBq),C.Y36(C.Qsj),C.Y36(C.sBO),C.Y36(Hs,8),C.Y36(mn,8))},k.\u0275dir=C.lG2({type:k,selectors:[["","routerLinkActive",""]],contentQueries:function(I,B,q){if(1&I&&(C.Suo(q,Hs,5),C.Suo(q,mn,5)),2&I){let me;C.iGM(me=C.CRH())&&(B.links=me),C.iGM(me=C.CRH())&&(B.linksWithHrefs=me)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[C.TTD]}),k})();class jn{}class br{preload(T,I){return I().pipe(jt(()=>(0,Ne.of)(null)))}}class Ga{preload(T,I){return(0,Ne.of)(null)}}let bn=(()=>{class k{constructor(I,B,q,me){this.router=I,this.injector=q,this.preloadingStrategy=me,this.loader=new Rc(q,B,Gt=>I.triggerEvent(new Hn(Gt)),Gt=>I.triggerEvent(new Cn(Gt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ut.h)(I=>I instanceof Zn),Ue(()=>this.preload())).subscribe(()=>{})}preload(){const I=this.injector.get(C.h0i);return this.processRoutes(I,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,B){const q=[];for(const me of B)if(me.loadChildren&&!me.canLoad&&me._loadedConfig){const Fe=me._loadedConfig;q.push(this.processRoutes(Fe.module,Fe.routes))}else me.loadChildren&&!me.canLoad?q.push(this.preloadConfig(I,me)):me.children&&q.push(this.processRoutes(I,me.children));return(0,ye.D)(q).pipe((0,cr.J)(),(0,on.U)(me=>{}))}preloadConfig(I,B){return this.preloadingStrategy.preload(B,()=>(B._loadedConfig?(0,Ne.of)(B._loadedConfig):this.loader.load(I.injector,B)).pipe((0,Me.zg)(me=>(B._loadedConfig=me,this.processRoutes(me.module,me.routes)))))}}return k.\u0275fac=function(I){return new(I||k)(C.LFG(hr),C.LFG(C.Sil),C.LFG(C.zs3),C.LFG(jn))},k.\u0275prov=C.Yz7({token:k,factory:k.\u0275fac}),k})(),$t=(()=>{class k{constructor(I,B,q={}){this.router=I,this.viewportScroller=B,this.options=q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},q.scrollPositionRestoration=q.scrollPositionRestoration||"disabled",q.anchorScrolling=q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Tr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof Zn&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Fr&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,B){this.router.triggerEvent(new Fr(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return k.\u0275fac=function(I){C.$Z()},k.\u0275prov=C.Yz7({token:k,factory:k.\u0275fac}),k})();const ji=new C.OlP("ROUTER_CONFIGURATION"),ps=new C.OlP("ROUTER_FORROOT_GUARD"),Ia=[a.Ye,{provide:xe,useClass:J},{provide:hr,useFactory:function(k,T,I,B,q,me,Fe={},at,Gt){const kn=new hr(null,k,T,I,B,q,Cr(me));return at&&(kn.urlHandlingStrategy=at),Gt&&(kn.routeReuseStrategy=Gt),function(k,T){k.errorHandler&&(T.errorHandler=k.errorHandler),k.malformedUriErrorHandler&&(T.malformedUriErrorHandler=k.malformedUriErrorHandler),k.onSameUrlNavigation&&(T.onSameUrlNavigation=k.onSameUrlNavigation),k.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=k.paramsInheritanceStrategy),k.relativeLinkResolution&&(T.relativeLinkResolution=k.relativeLinkResolution),k.urlUpdateStrategy&&(T.urlUpdateStrategy=k.urlUpdateStrategy),k.canceledNavigationResolution&&(T.canceledNavigationResolution=k.canceledNavigationResolution)}(Fe,kn),Fe.enableTracing&&kn.events.subscribe(fi=>{var fr,Ir;null==(fr=console.group)||fr.call(console,`Router Event: ${fi.constructor.name}`),console.log(fi.toString()),console.log(fi),null==(Ir=console.groupEnd)||Ir.call(console)}),kn},deps:[xe,V,a.Ye,C.zs3,C.Sil,Ts,ji,[class{},new C.FiY],[bs,new C.FiY]]},V,{provide:En,useFactory:function(k){return k.routerState.root},deps:[hr]},bn,Ga,br,{provide:ji,useValue:{enableTracing:!1}}];function ia(){return new C.PXZ("Router",hr)}let qa=(()=>{class k{constructor(I,B){}static forRoot(I,B){return{ngModule:k,providers:[Ia,Ii(I),{provide:ps,useFactory:_l,deps:[[hr,new C.FiY,new C.tp0]]},{provide:ji,useValue:B||{}},{provide:a.S$,useFactory:Kl,deps:[a.lw,[new C.tBr(a.mr),new C.FiY],ji]},{provide:$t,useFactory:vl,deps:[hr,a.EM,ji]},{provide:jn,useExisting:B&&B.preloadingStrategy?B.preloadingStrategy:Ga},{provide:C.PXZ,multi:!0,useFactory:ia},[Ss,{provide:C.ip1,multi:!0,useFactory:Yr,deps:[Ss]},{provide:ns,useFactory:Io,deps:[Ss]},{provide:C.tb,multi:!0,useExisting:ns}]]}}static forChild(I){return{ngModule:k,providers:[Ii(I)]}}}return k.\u0275fac=function(I){return new(I||k)(C.LFG(ps,8),C.LFG(hr,8))},k.\u0275mod=C.oAB({type:k}),k.\u0275inj=C.cJS({}),k})();function vl(k,T,I){return I.scrollOffset&&T.setOffset(I.scrollOffset),new $t(k,T,I)}function Kl(k,T,I={}){return I.useHash?new a.Do(k,T):new a.b0(k,T)}function _l(k){return"guarded"}function Ii(k){return[{provide:C.deG,multi:!0,useValue:k},{provide:Ts,multi:!0,useValue:k}]}let Ss=(()=>{class k{constructor(I){this.injector=I,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Bt.xQ}appInitializer(){return this.injector.get(a.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let B=null;const q=new Promise(at=>B=at),me=this.injector.get(hr),Fe=this.injector.get(ji);return"disabled"===Fe.initialNavigation?(me.setUpLocationChangeListener(),B(!0)):"enabled"===Fe.initialNavigation||"enabledBlocking"===Fe.initialNavigation?(me.hooks.afterPreactivation=()=>this.initNavigation?(0,Ne.of)(null):(this.initNavigation=!0,B(!0),this.resultOfPreactivationDone),me.initialNavigation()):B(!0),q})}bootstrapListener(I){const B=this.injector.get(ji),q=this.injector.get(bn),me=this.injector.get($t),Fe=this.injector.get(hr),at=this.injector.get(C.z2F);I===at.components[0]&&(("enabledNonBlocking"===B.initialNavigation||void 0===B.initialNavigation)&&Fe.initialNavigation(),q.setUpPreloading(),me.init(),Fe.resetRootComponentType(at.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return k.\u0275fac=function(I){return new(I||k)(C.LFG(C.zs3))},k.\u0275prov=C.Yz7({token:k,factory:k.\u0275fac}),k})();function Yr(k){return k.appInitializer.bind(k)}function Io(k){return k.bootstrapListener.bind(k)}const ns=new C.OlP("Router Initializer")},6293:(rn,ht,F)=>{"use strict";F.d(ht,{Z:()=>We});var a=F(4213),C=F(1177),X=F(1572),He=F(3855);class Te{constructor(Ee,Be){this._delegate=Ee,this.firebase=Be,(0,X._addComponent)(Ee,new C.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(Ee,Be=X._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const _e=this._delegate.container.getProvider(Ee);return!_e.isInitialized()&&"EXPLICIT"===(null===(Ne=_e.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&_e.initialize(),_e.getImmediate({identifier:Be})}_removeServiceInstance(Ee,Be=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(Be)}_addComponent(Ee){(0,X._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,X._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function pe(){const ye=function(ye){const Ee={},Be={__esModule:!0,initializeApp:function(Je,jt={}){const qe=X.initializeApp(Je,jt);if((0,a.r3)(Ee,qe.name))return Ee[qe.name];const it=new ye(qe,Be);return Ee[qe.name]=it,it},app:_e,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function(Je){const jt=Je.name,qe=jt.replace("-compat","");if(X._registerComponent(Je)&&"PUBLIC"===Je.type){const it=(Me=_e())=>{if("function"!=typeof Me[qe])throw fe.create("invalid-app-argument",{appName:jt});return Me[qe]()};void 0!==Je.serviceProps&&(0,a.ZB)(it,Je.serviceProps),Be[qe]=it,ye.prototype[qe]=function(...Me){return this._getService.bind(this,jt).apply(this,Je.multipleInstances?Me:[])}}return"PUBLIC"===Je.type?Be[qe]:null},removeApp:function(Je){delete Ee[Je]},useAsService:function(Je,jt){return"serverAuth"===jt?null:jt},modularAPIs:X}};function _e(Je){if(!(0,a.r3)(Ee,Je=Je||X._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Je});return Ee[Je]}return Be.default=Be,Object.defineProperty(Be,"apps",{get:function(){return Object.keys(Ee).map(Je=>Ee[Je])}}),_e.App=ye,Be}(Te);return ye.INTERNAL=Object.assign(Object.assign({},ye.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function(Be){(0,a.ZB)(ye,Be)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),ye}(),de=new He.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ye=self.firebase.SDK_VERSION;ye&&ye.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=ee;(0,X.registerVersion)("@firebase/app-compat","0.1.12",undefined)},1572:(rn,ht,F)=>{"use strict";F.r(ht),F.d(ht,{FirebaseError:()=>He.ZR,SDK_VERSION:()=>Nn,_DEFAULT_ENTRY_NAME:()=>Dt,_addComponent:()=>Kt,_addOrOverwriteComponent:()=>Ln,_apps:()=>_t,_clearComponents:()=>on,_components:()=>Et,_getProvider:()=>_n,_registerComponent:()=>Pt,_removeServiceInstance:()=>Ot,deleteApp:()=>cr,getApp:()=>Jn,getApps:()=>Dr,initializeApp:()=>lr,onLog:()=>Zn,registerVersion:()=>Tr,setLogLevel:()=>qn});var a=F(8239),C=F(1177),X=F(3855),He=F(4213);class Te{constructor(Yt){this.container=Yt}getPlatformInfoString(){return this.container.getProviders().map(hn=>{if(function(Rn){const Yt=Rn.getComponent();return"VERSION"===(null==Yt?void 0:Yt.type)}(hn)){const gr=hn.getImmediate();return`${gr.library}/${gr.version}`}return null}).filter(hn=>hn).join(" ")}}const fe="@firebase/app",Q="0.7.11",pe=new X.Yd("@firebase/app"),Dt="[DEFAULT]",pt={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,Et=new Map;function Kt(Rn,Yt){try{Rn.container.addComponent(Yt)}catch(hn){pe.debug(`Component ${Yt.name} failed to register with FirebaseApp ${Rn.name}`,hn)}}function Ln(Rn,Yt){Rn.container.addOrOverwriteComponent(Yt)}function Pt(Rn){const Yt=Rn.name;if(Et.has(Yt))return pe.debug(`There were multiple attempts to register component ${Yt}.`),!1;Et.set(Yt,Rn);for(const hn of _t.values())Kt(hn,Rn);return!0}function _n(Rn,Yt){return Rn.container.getProvider(Yt)}function Ot(Rn,Yt,hn=Dt){_n(Rn,Yt).clearInstance(hn)}function on(){Et.clear()}const ar=new He.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Dn{constructor(Yt,hn,gr){this._isDeleted=!1,this._options=Object.assign({},Yt),this._config=Object.assign({},hn),this._name=hn.name,this._automaticDataCollectionEnabled=hn.automaticDataCollectionEnabled,this._container=gr,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Yt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Yt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Yt){this._isDeleted=Yt}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const Nn="9.6.1";function lr(Rn,Yt={}){"object"!=typeof Yt&&(Yt={name:Yt});const hn=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},Yt),gr=hn.name;if("string"!=typeof gr||!gr)throw ar.create("bad-app-name",{appName:String(gr)});const Mt=_t.get(gr);if(Mt){if((0,He.vZ)(Rn,Mt.options)&&(0,He.vZ)(hn,Mt.config))return Mt;throw ar.create("duplicate-app",{appName:gr})}const Hn=new C.H0(gr);for(const yn of Et.values())Hn.addComponent(yn);const Cn=new Dn(Rn,hn,Hn);return _t.set(gr,Cn),Cn}function Jn(Rn=Dt){const Yt=_t.get(Rn);if(!Yt)throw ar.create("no-app",{appName:Rn});return Yt}function Dr(){return Array.from(_t.values())}function cr(Rn){return pr.apply(this,arguments)}function pr(){return(pr=(0,a.Z)(function*(Rn){const Yt=Rn.name;_t.has(Yt)&&(_t.delete(Yt),yield Promise.all(Rn.container.getProviders().map(hn=>hn.delete())),Rn.isDeleted=!0)})).apply(this,arguments)}function Tr(Rn,Yt,hn){var gr;let Mt=null!==(gr=pt[Rn])&&void 0!==gr?gr:Rn;hn&&(Mt+=`-${hn}`);const Hn=Mt.match(/\s|\//),Cn=Yt.match(/\s|\//);if(Hn||Cn){const yn=[`Unable to register library "${Mt}" with version "${Yt}":`];return Hn&&yn.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),Hn&&Cn&&yn.push("and"),Cn&&yn.push(`version name "${Yt}" contains illegal characters (whitespace or "/")`),void pe.warn(yn.join(" "))}Pt(new C.wA(`${Mt}-version`,()=>({library:Mt,version:Yt}),"VERSION"))}function Zn(Rn,Yt){if(null!==Rn&&"function"!=typeof Rn)throw ar.create("invalid-log-argument");(0,X.Am)(Rn,Yt)}function qn(Rn){(0,X.Ub)(Rn)}Pt(new C.wA("platform-logger",Yt=>new Te(Yt),"PRIVATE")),Tr(fe,Q,""),Tr(fe,Q,"esm2017"),Tr("fire-js","")},1177:(rn,ht,F)=>{"use strict";F.d(ht,{wA:()=>X,H0:()=>Q});var a=F(8239),C=F(4213);class X{constructor(ee,de,we){this.name=ee,this.instanceFactory=de,this.type=we,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const He="[DEFAULT]";class Te{constructor(ee,de){this.name=ee,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const de=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(de)){const we=new C.BH;if(this.instancesDeferred.set(de,we),this.isInitialized(de)||this.shouldAutoInitialize())try{const re=this.getOrInitializeService({instanceIdentifier:de});re&&we.resolve(re)}catch(re){}}return this.instancesDeferred.get(de).promise}getImmediate(ee){var de;const we=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),re=null!==(de=null==ee?void 0:ee.optional)&&void 0!==de&&de;if(!this.isInitialized(we)&&!this.shouldAutoInitialize()){if(re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:we})}catch(Ce){if(re)return null;throw Ce}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if("EAGER"===ee.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:He})}catch(de){}for(const[de,we]of this.instancesDeferred.entries()){const re=this.normalizeInstanceIdentifier(de);try{const Ce=this.getOrInitializeService({instanceIdentifier:re});we.resolve(Ce)}catch(Ce){}}}}clearInstance(ee=He){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,a.Z)(function*(){const de=Array.from(ee.instances.values());yield Promise.all([...de.filter(we=>"INTERNAL"in we).map(we=>we.INTERNAL.delete()),...de.filter(we=>"_delete"in we).map(we=>we._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=He){return this.instances.has(ee)}getOptions(ee=He){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:de={}}=ee,we=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(we))throw Error(`${this.name}(${we}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const re=this.getOrInitializeService({instanceIdentifier:we,options:de});for(const[Ce,We]of this.instancesDeferred.entries())we===this.normalizeInstanceIdentifier(Ce)&&We.resolve(re);return re}onInit(ee,de){var we;const re=this.normalizeInstanceIdentifier(de),Ce=null!==(we=this.onInitCallbacks.get(re))&&void 0!==we?we:new Set;Ce.add(ee),this.onInitCallbacks.set(re,Ce);const We=this.instances.get(re);return We&&ee(We,re),()=>{Ce.delete(ee)}}invokeOnInitCallbacks(ee,de){const we=this.onInitCallbacks.get(de);if(we)for(const re of we)try{re(ee,de)}catch(Ce){}}getOrInitializeService({instanceIdentifier:ee,options:de={}}){let we=this.instances.get(ee);if(!we&&this.component&&(we=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=ee,pe===He?void 0:pe),options:de}),this.instances.set(ee,we),this.instancesOptions.set(ee,de),this.invokeOnInitCallbacks(we,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,we)}catch(re){}var pe;return we||null}normalizeInstanceIdentifier(ee=He){return this.component?this.component.multipleInstances?ee:He:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const de=this.getProvider(ee.name);if(de.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);de.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const de=new Te(ee,this);return this.providers.set(ee,de),de}getProviders(){return Array.from(this.providers.values())}}},8094:(rn,ht,F)=>{"use strict";var a=F(8239),C=F(1572),X=F(1177),He=F(4213),Te=F(4995);const he="@firebase/installations",pe="w:0.5.4",ee="FIS_v2",ye=new He.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee(G){return G instanceof He.ZR&&G.code.includes("request-failed")}function Be({projectId:G}){return`https://firebaseinstallations.googleapis.com/v1/projects/${G}/installations`}function Ne(G){return{token:G.token,requestStatus:2,expiresIn:jt(G.expiresIn),creationTime:Date.now()}}function _e(G,De){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,a.Z)(function*(G,De){const wt=(yield De.json()).error;return ye.create("request-failed",{requestName:G,serverCode:wt.code,serverMessage:wt.message,serverStatus:wt.status})})).apply(this,arguments)}function st({apiKey:G}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":G})}function lt(G,{refreshToken:De}){const Ye=st(G);return Ye.append("Authorization",function(G){return`${ee} ${G}`}(De)),Ye}function Bt(G){return Je.apply(this,arguments)}function Je(){return(Je=(0,a.Z)(function*(G){const De=yield G();return De.status>=500&&De.status<600?G():De})).apply(this,arguments)}function jt(G){return Number(G.replace("s","000"))}function it(G,De){return Me.apply(this,arguments)}function Me(){return(Me=(0,a.Z)(function*(G,{fid:De}){const Ye=Be(G),fn={method:"POST",headers:st(G),body:JSON.stringify({fid:De,authVersion:ee,appId:G.appId,sdkVersion:pe})},zn=yield Bt(()=>fetch(Ye,fn));if(zn.ok){const tr=yield zn.json();return{fid:tr.fid||De,registrationStatus:2,refreshToken:tr.refreshToken,authToken:Ne(tr.authToken)}}throw yield _e("Create Installation",zn)})).apply(this,arguments)}function Ue(G){return new Promise(De=>{setTimeout(De,G)})}const nt=/^[cdef][\w-]{21}$/;function tn(){try{const G=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(G),G[0]=112+G[0]%16;const Ye=function(G){return function(G){return btoa(String.fromCharCode(...G)).replace(/\+/g,"-").replace(/\//g,"_")}(G).substr(0,22)}(G);return nt.test(Ye)?Ye:""}catch(G){return""}}function pt(G){return`${G.appName}!${G.appId}`}const _t=new Map;function Et(G,De){const Ye=pt(G);Pt(Ye,De),function(G,De){const Ye=(!Ot&&"BroadcastChannel"in self&&(Ot=new BroadcastChannel("[Firebase] FID Change"),Ot.onmessage=G=>{Pt(G.data.key,G.data.fid)}),Ot);Ye&&Ye.postMessage({key:G,fid:De}),0===_t.size&&Ot&&(Ot.close(),Ot=null)}(Ye,De)}function Pt(G,De){const Ye=_t.get(G);if(Ye)for(const wt of Ye)wt(De)}let Ot=null;const Nn="firebase-installations-store";let lr=null;function Jn(){return lr||(lr=(0,Te.openDb)("firebase-installations-database",1,G=>{0===G.oldVersion&&G.createObjectStore(Nn)})),lr}function Dr(G,De){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(G,De){const Ye=pt(G),Zt=(yield Jn()).transaction(Nn,"readwrite"),fn=Zt.objectStore(Nn),zn=yield fn.get(Ye);return yield fn.put(De,Ye),yield Zt.complete,(!zn||zn.fid!==De.fid)&&Et(G,De.fid),De})).apply(this,arguments)}function pr(G){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,a.Z)(function*(G){const De=pt(G),wt=(yield Jn()).transaction(Nn,"readwrite");yield wt.objectStore(Nn).delete(De),yield wt.complete})).apply(this,arguments)}function Zn(G,De){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(G,De){const Ye=pt(G),Zt=(yield Jn()).transaction(Nn,"readwrite"),fn=Zt.objectStore(Nn),zn=yield fn.get(Ye),tr=De(zn);return void 0===tr?yield fn.delete(Ye):yield fn.put(tr,Ye),yield Zt.complete,tr&&(!zn||zn.fid!==tr.fid)&&Et(G,tr.fid),tr})).apply(this,arguments)}function Ur(G){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,a.Z)(function*(G){let De;const Ye=yield Zn(G,wt=>{const Zt=Yt(wt),fn=hn(G,Zt);return De=fn.registrationPromise,fn.installationEntry});return""===Ye.fid?{installationEntry:yield De}:{installationEntry:Ye,registrationPromise:De}})).apply(this,arguments)}function Yt(G){return Er(G||{fid:tn(),registrationStatus:0})}function hn(G,De){if(0===De.registrationStatus){if(!navigator.onLine)return{installationEntry:De,registrationPromise:Promise.reject(ye.create("app-offline"))};const Ye={fid:De.fid,registrationStatus:1,registrationTime:Date.now()},wt=function(G,De){return Mt.apply(this,arguments)}(G,Ye);return{installationEntry:Ye,registrationPromise:wt}}return 1===De.registrationStatus?{installationEntry:De,registrationPromise:Hn(G)}:{installationEntry:De}}function Mt(){return(Mt=(0,a.Z)(function*(G,De){try{return Dr(G,yield it(G,De))}catch(Ye){throw Ee(Ye)&&409===Ye.customData.serverCode?yield pr(G):yield Dr(G,{fid:De.fid,registrationStatus:0}),Ye}})).apply(this,arguments)}function Hn(G){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,a.Z)(function*(G){let De=yield yn(G);for(;1===De.registrationStatus;)yield Ue(100),De=yield yn(G);if(0===De.registrationStatus){const{installationEntry:Ye,registrationPromise:wt}=yield Ur(G);return wt||Ye}return De})).apply(this,arguments)}function yn(G){return Zn(G,De=>{if(!De)throw ye.create("installation-not-found");return Er(De)})}function Er(G){return function(G){return 1===G.registrationStatus&&G.registrationTime+1e4<Date.now()}(G)?{fid:G.fid,registrationStatus:0}:G}function Pr(G,De){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,a.Z)(function*({appConfig:G,platformLoggerProvider:De},Ye){const wt=gn(G,Ye),Zt=lt(G,Ye),fn=De.getImmediate({optional:!0});fn&&Zt.append("x-firebase-client",fn.getPlatformInfoString());const tr={method:"POST",headers:Zt,body:JSON.stringify({installation:{sdkVersion:pe}})},Sn=yield Bt(()=>fetch(wt,tr));if(Sn.ok)return Ne(yield Sn.json());throw yield _e("Generate Auth Token",Sn)})).apply(this,arguments)}function gn(G,{fid:De}){return`${Be(G)}/${De}/authTokens:generate`}function ti(G){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,a.Z)(function*(G,De=!1){let Ye;const wt=yield Zn(G.appConfig,fn=>{if(!Xt(fn))throw ye.create("not-registered");const zn=fn.authToken;if(!De&&er(zn))return fn;if(1===zn.requestStatus)return Ye=Qe(G,De),fn;{if(!navigator.onLine)throw ye.create("app-offline");const tr=mr(fn);return Ye=ft(G,tr),tr}});return Ye?yield Ye:wt.authToken})).apply(this,arguments)}function Qe(G,De){return je.apply(this,arguments)}function je(){return(je=(0,a.Z)(function*(G,De){let Ye=yield St(G.appConfig);for(;1===Ye.authToken.requestStatus;)yield Ue(100),Ye=yield St(G.appConfig);const wt=Ye.authToken;return 0===wt.requestStatus?ti(G,De):wt})).apply(this,arguments)}function St(G){return Zn(G,De=>{if(!Xt(De))throw ye.create("not-registered");return function(G){return 1===G.requestStatus&&G.requestTime+1e4<Date.now()}(De.authToken)?Object.assign(Object.assign({},De),{authToken:{requestStatus:0}}):De})}function ft(G,De){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(G,De){try{const Ye=yield Pr(G,De),wt=Object.assign(Object.assign({},De),{authToken:Ye});return yield Dr(G.appConfig,wt),Ye}catch(Ye){if(!Ee(Ye)||401!==Ye.customData.serverCode&&404!==Ye.customData.serverCode){const wt=Object.assign(Object.assign({},De),{authToken:{requestStatus:0}});yield Dr(G.appConfig,wt)}else yield pr(G.appConfig);throw Ye}})).apply(this,arguments)}function Xt(G){return void 0!==G&&2===G.registrationStatus}function er(G){return 2===G.requestStatus&&!function(G){const De=Date.now();return De<G.creationTime||G.creationTime+G.expiresIn<De+36e5}(G)}function mr(G){const De={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},G),{authToken:De})}function $e(){return($e=(0,a.Z)(function*(G){const De=G,{installationEntry:Ye,registrationPromise:wt}=yield Ur(De.appConfig);return wt?wt.catch(console.error):ti(De).catch(console.error),Ye.fid})).apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(function*(G,De=!1){const Ye=G;return yield cn(Ye.appConfig),(yield ti(Ye,De)).token})).apply(this,arguments)}function cn(G){return In.apply(this,arguments)}function In(){return(In=(0,a.Z)(function*(G){const{registrationPromise:De}=yield Ur(G);De&&(yield De)})).apply(this,arguments)}function Gr(G){return ye.create("missing-app-config-values",{valueName:G})}const ot="installations";(0,C._registerComponent)(new X.wA(ot,G=>{const De=G.getProvider("app").getImmediate(),Ye=function(G){if(!G||!G.options)throw Gr("App Configuration");if(!G.name)throw Gr("App Name");const De=["projectId","apiKey","appId"];for(const Ye of De)if(!G.options[Ye])throw Gr(Ye);return{appName:G.name,projectId:G.options.projectId,apiKey:G.options.apiKey,appId:G.options.appId}}(De);return{app:De,appConfig:Ye,platformLoggerProvider:(0,C._getProvider)(De,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,C._registerComponent)(new X.wA("installations-internal",G=>{const De=G.getProvider("app").getImmediate(),Ye=(0,C._getProvider)(De,ot).getImmediate();return{getId:()=>function(G){return $e.apply(this,arguments)}(Ye),getToken:Zt=>function(G){return Lt.apply(this,arguments)}(Ye,Zt)}},"PRIVATE")),(0,C.registerVersion)(he,"0.5.4"),(0,C.registerVersion)(he,"0.5.4","esm2017")},3855:(rn,ht,F)=>{"use strict";F.d(ht,{in:()=>C,Yd:()=>fe,Ub:()=>Q,Am:()=>pe});const a=[];var C=(()=>{return(ee=C||(C={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",C;var ee})();const X={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},He=C.INFO,Te={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},he=(ee,de,...we)=>{if(de<ee.logLevel)return;const re=(new Date).toISOString(),Ce=Te[de];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Ce](`[${re}]  ${ee.name}:`,...we)};class fe{constructor(de){this.name=de,this._logLevel=He,this._logHandler=he,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in C))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?X[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...de),this._logHandler(this,C.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...de),this._logHandler(this,C.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,C.INFO,...de),this._logHandler(this,C.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,C.WARN,...de),this._logHandler(this,C.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...de),this._logHandler(this,C.ERROR,...de)}}function Q(ee){a.forEach(de=>{de.setLogLevel(ee)})}function pe(ee,de){for(const we of a){let re=null;de&&de.level&&(re=X[de.level]),we.userLogHandler=null===ee?null:(Ce,We,...ye)=>{const Ee=ye.map(Be=>{if(null==Be)return null;if("string"==typeof Be)return Be;if("number"==typeof Be||"boolean"==typeof Be)return Be.toString();if(Be instanceof Error)return Be.message;try{return JSON.stringify(Be)}catch(Ne){return null}}).filter(Be=>Be).join(" ");We>=(null!=re?re:Ce.logLevel)&&ee({level:C[We].toLowerCase(),message:Ee,args:ye,type:Ce.name})}}}},8239:(rn,ht,F)=>{"use strict";function a(X,He,Te,he,fe,Q,pe){try{var ee=X[Q](pe),de=ee.value}catch(we){return void Te(we)}ee.done?He(de):Promise.resolve(de).then(he,fe)}function C(X){return function(){var He=this,Te=arguments;return new Promise(function(he,fe){var Q=X.apply(He,Te);function pe(de){a(Q,he,fe,pe,ee,"next",de)}function ee(de){a(Q,he,fe,pe,ee,"throw",de)}pe(void 0)})}}F.d(ht,{Z:()=>C})}},rn=>{rn(rn.s=911)}]);