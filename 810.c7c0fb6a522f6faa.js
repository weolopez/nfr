"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[810],{810:(D,f,r)=>{r.r(f),r.d(f,{SeasonPageModule:()=>L});var g=r(6019),h=r(9010),c=r(4662),d=r(4620),Z=r(5722),n=r(9619),v=r(2739),x=r(3584);let T=(()=>{class t{transform(e,i){return e&&void 0!==e&&0!==e.length?e.filter(o=>{var a;return null===(a=o.seasons)||void 0===a?void 0:a.find(_=>_.id==i)}).sort((o,a)=>{var _,l;const u=null===(_=o.seasons)||void 0===_?void 0:_.find(p=>p.id==i).order,m=null===(l=a.seasons)||void 0===l?void 0:l.find(p=>p.id==i).order;return u<m?-1:u>m?1:0}):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Yjl({name:"sort",type:t,pure:!0}),t})();function A(t,s){if(1&t){const e=n.EpF();n.TgZ(0,"ion-avatar",8),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return o.showUsers=!o.showUsers}),n._UZ(1,"img",9),n.qZA()}if(2&t){const e=n.oxw();n.xp6(1),n.s9C("src",null==e.currentUser?null:e.currentUser.photoURL,n.LSH)}}function S(t,s){if(1&t){const e=n.EpF();n.TgZ(0,"ion-icon",10),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return o.showUsers=!o.showUsers&&o.isAdmin}),n.qZA()}}function P(t,s){if(1&t){const e=n.EpF();n.TgZ(0,"ion-item",18),n.NdJ("click",function(){n.CHM(e);const o=n.oxw().$implicit;return n.oxw(2).switchUser(o)}),n.TgZ(1,"ion-label"),n._uU(2),n.qZA(),n.TgZ(3,"ion-avatar",1),n._UZ(4,"img",9),n.qZA(),n.qZA()}if(2&t){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(e.displayName),n.xp6(2),n.s9C("src",e.photoURL,n.LSH)}}function w(t,s){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,P,5,2,"ion-item",17),n.qZA()),2&t){const e=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("ngIf",i.userIsInSeason(e))}}function U(t,s){if(1&t){const e=n.EpF();n.TgZ(0,"ion-list"),n.TgZ(1,"ion-item",11),n.TgZ(2,"ion-toolbar"),n.TgZ(3,"ion-title",12),n._uU(4,"Members"),n.qZA(),n.TgZ(5,"ion-icon",13),n.NdJ("click",function(){return n.CHM(e),n.oxw().shuffle()}),n.qZA(),n.TgZ(6,"ion-icon",14),n.NdJ("click",function(){return n.CHM(e),n.oxw().refresh()}),n.qZA(),n.TgZ(7,"ion-icon",15),n.NdJ("click",function(){return n.CHM(e),n.oxw().save()}),n.qZA(),n.qZA(),n.qZA(),n.YNc(8,w,2,1,"div",16),n.ALo(9,"sort"),n.ALo(10,"async"),n.qZA()}if(2&t){const e=n.oxw();n.xp6(8),n.Q6J("ngForOf",n.xi3(9,1,n.lcZ(10,4,e.users$),e.currentSeasonID))}}function C(t,s){if(1&t&&(n.TgZ(0,"ion-label",25),n._uU(1),n.qZA()),2&t){const e=n.oxw(2).$implicit,i=n.oxw(2);n.Q6J("hidden",i.devWidth<576),n.xp6(1),n.hij("",e.seatA.name," ")}}function I(t,s){if(1&t&&(n.TgZ(0,"ion-avatar",1),n._UZ(1,"img",9),n.qZA()),2&t){const e=n.oxw(2).$implicit,i=n.oxw(2);n.xp6(1),n.s9C("src",i.getPictureFromID(e.seatA.id),n.LSH)}}function q(t,s){1&t&&n._UZ(0,"ion-icon",26)}function J(t,s){if(1&t&&(n.TgZ(0,"ion-label",25),n._uU(1),n.qZA()),2&t){const e=n.oxw(2).$implicit,i=n.oxw(2);n.Q6J("hidden",i.devWidth<576),n.xp6(1),n.hij("",e.seatB.name," ")}}function N(t,s){if(1&t&&(n.TgZ(0,"ion-avatar",1),n._UZ(1,"img",9),n.qZA()),2&t){const e=n.oxw(2).$implicit,i=n.oxw(2);n.xp6(1),n.s9C("src",i.getPictureFromID(e.seatB.id),n.LSH)}}function b(t,s){1&t&&n._UZ(0,"ion-icon",26)}function M(t,s){if(1&t&&(n.TgZ(0,"ion-label",25),n._uU(1),n.qZA()),2&t){const e=n.oxw(2).$implicit,i=n.oxw(2);n.Q6J("hidden",i.devWidth<576),n.xp6(1),n.hij("",e.seatC.name," ")}}function k(t,s){if(1&t&&(n.TgZ(0,"ion-avatar",1),n._UZ(1,"img",9),n.qZA()),2&t){const e=n.oxw(2).$implicit,i=n.oxw(2);n.xp6(1),n.s9C("src",i.getPictureFromID(e.seatC.id),n.LSH)}}function O(t,s){1&t&&n._UZ(0,"ion-icon",26)}function Y(t,s){if(1&t){const e=n.EpF();n.TgZ(0,"ion-item"),n.TgZ(1,"ion-card",19),n.TgZ(2,"ion-item",20),n.TgZ(3,"ion-label"),n.TgZ(4,"h1"),n._uU(5),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"ion-item"),n.TgZ(7,"ion-label"),n.TgZ(8,"h2"),n._uU(9),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"ion-card",19),n.TgZ(11,"ion-item",18),n.NdJ("click",function(){n.CHM(e);const o=n.oxw().$implicit;return n.oxw(2).selectSeat(o,"seatA")}),n.TgZ(12,"ion-label",21),n._uU(13," A "),n.qZA(),n.YNc(14,C,2,2,"ion-label",22),n.YNc(15,I,2,1,"ion-avatar",23),n.YNc(16,q,1,0,"ion-icon",24),n.qZA(),n.TgZ(17,"ion-item",18),n.NdJ("click",function(){n.CHM(e);const o=n.oxw().$implicit;return n.oxw(2).selectSeat(o,"seatB")}),n.TgZ(18,"ion-label",21),n._uU(19," B "),n.qZA(),n.YNc(20,J,2,2,"ion-label",22),n.YNc(21,N,2,1,"ion-avatar",23),n.YNc(22,b,1,0,"ion-icon",24),n.qZA(),n.TgZ(23,"ion-item",18),n.NdJ("click",function(){n.CHM(e);const o=n.oxw().$implicit;return n.oxw(2).selectSeat(o,"seatC")}),n.TgZ(24,"ion-label",21),n._uU(25," C "),n.qZA(),n.YNc(26,M,2,2,"ion-label",22),n.YNc(27,k,2,1,"ion-avatar",23),n.YNc(28,O,1,0,"ion-icon",24),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw().$implicit;n.xp6(5),n.Oqu(e.date),n.xp6(4),n.AsE("",e.home," vs ",e.away,""),n.xp6(5),n.Q6J("ngIf",e.seatA),n.xp6(1),n.Q6J("ngIf",e.seatA),n.xp6(1),n.Q6J("ngIf",!e.seatA),n.xp6(4),n.Q6J("ngIf",e.seatB),n.xp6(1),n.Q6J("ngIf",e.seatB),n.xp6(1),n.Q6J("ngIf",!e.seatB),n.xp6(4),n.Q6J("ngIf",e.seatC),n.xp6(1),n.Q6J("ngIf",e.seatC),n.xp6(1),n.Q6J("ngIf",!e.seatC)}}function Q(t,s){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,Y,29,12,"ion-item",7),n.qZA()),2&t){const e=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("ngIf","ATL"==e.home||i.showAway)}}function y(t,s){if(1&t&&(n.TgZ(0,"ion-list"),n.YNc(1,Q,2,1,"div",16),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.season.games)}}const F=[{path:"",component:(()=>{class t{constructor(e,i,o,a,_){this.activatedRoute=e,this.authService=i,this.alertController=o,this.db=a,this.platform=_,this.usersArray=[],this.devWidth=this.platform.width(),this.users=a.collection("users"),this.usersO=this.users.valueChanges(),this.usersO.pipe((0,Z.b)(l=>this.usersArray=l)).subscribe(),this.users$=i.users$,i.getUser().subscribe(l=>{this.isAdmin="Mauricio Lopez"==l.displayName})}getPictureFromID(e){return this.usersArray.filter(i=>i.id==e)[0].photoURL}ngOnInit(){this.currentSeasonID=this.activatedRoute.snapshot.paramMap.get("id"),this.seasonO=this.db.collection("seasons").doc(this.currentSeasonID),this.seasonO.valueChanges().subscribe(e=>{this.season=e,console.log(e)})}switchUser(e){this.currentUser=e}userIsInSeason(e){var i;return null===(i=e.seasons)||void 0===i?void 0:i.find(a=>a.id==this.currentSeasonID)}selectSeat(e,i){!this.isAdmin||(e[i]=e[i]?null:{id:this.currentUser.id,name:this.currentUser.displayName},this.seasonO.set(this.season))}edit(){location.href="/folder/seasons"}shuffle(){alert("SHUFFLING");const e=[0,1,2,3,4,5];e.sort(()=>.5-Math.random()),this.users.get().subscribe(o=>{o.forEach(a=>{var _;const l=a.data(),u=null===(_=l.seasons)||void 0===_?void 0:_.find(m=>m.id==this.currentSeasonID);u&&(u.order=e.pop(),this.users.doc(l.id).set(l))})})}save(){this.season.games.forEach(e=>{e.seatA&&(e.seatA=null),e.seatB&&(e.seatB=null),e.seatC&&(e.seatC=null)})}refresh(){this.season.games.map(e=>{e.seatA&&(e.seatA=null),e.seatB&&(e.seatB=null),e.seatC&&(e.seatC=null)}),this.seasonO.set(this.season)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(d.gz),n.Y36(v.e),n.Y36(c.Br),n.Y36(x.ST),n.Y36(c.t4))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-season"]],decls:14,vars:7,consts:[[3,"translucent"],["slot","start"],["class","selectedUser","slot","end",3,"click",4,"ngIf"],["name","person-circle","slot","end",3,"click",4,"ngIf"],["name","airplane","slot","end",3,"click"],["name","create","slot","end",3,"click"],[3,"fullscreen"],[4,"ngIf"],["slot","end",1,"selectedUser",3,"click"],[3,"src"],["name","person-circle","slot","end",3,"click"],[2,"--padding-start","0"],["id","member-title"],["name","shuffle","slot","end",3,"click"],["name","refresh-circle","slot","end",3,"click"],["name","save","slot","start",3,"click"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"click"],[2,"width","50%"],["lines","none"],[2,"flex","unset","margin-right","20px"],[3,"hidden",4,"ngIf"],["slot","start",4,"ngIf"],["style","color:#A19060","slot","start","name","ticket",4,"ngIf"],[3,"hidden"],["slot","start","name","ticket",2,"color","#A19060"]],template:function(e,i){1&e&&(n.TgZ(0,"ion-header",0),n.TgZ(1,"ion-toolbar"),n.TgZ(2,"ion-buttons",1),n._UZ(3,"ion-menu-button"),n.qZA(),n.TgZ(4,"ion-title"),n._uU(5),n.qZA(),n.YNc(6,A,2,1,"ion-avatar",2),n.YNc(7,S,1,0,"ion-icon",3),n.TgZ(8,"ion-icon",4),n.NdJ("click",function(){return i.showAway=!i.showAway}),n.qZA(),n.TgZ(9,"ion-icon",5),n.NdJ("click",function(){return i.edit()}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"ion-content",6),n.TgZ(11,"ion-list"),n.YNc(12,U,11,6,"ion-list",7),n.YNc(13,y,2,1,"ion-list",7),n.qZA(),n.qZA()),2&e&&(n.Q6J("translucent",!0),n.xp6(5),n.Oqu(i.currentSeasonID),n.xp6(1),n.Q6J("ngIf",i.currentUser),n.xp6(1),n.Q6J("ngIf",!i.currentUser),n.xp6(3),n.Q6J("fullscreen",!0),n.xp6(2),n.Q6J("ngIf",i.showUsers),n.xp6(1),n.Q6J("ngIf",i.season))},directives:[c.Gu,c.sr,c.Sm,c.fG,c.wd,g.O5,c.gu,c.W2,c.q_,c.BJ,c.Ie,g.sg,c.Q$,c.PM],pipes:[T,g.Ov],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.selectedUser[_ngcontent-%COMP%]{width:40%!important;height:40%!important;max-width:40px!important;max-height:40px!important}#member-title[_ngcontent-%COMP%]{background-color:var(ion-color-primary)}"]}),t})()}];let $=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[d.Bz.forChild(F)],d.Bz]}),t})();var B=r(7905),H=r(8260);let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[g.ez,h.u5,c.Pc,$,B.hO.initializeApp(H.N.firebase),x.yb.enablePersistence()]]}),t})()}}]);